webpackJsonp([17],{0:function(n,l,a){a(2941);a(1071);a(419);a(552);a(554);a(1065);a(1079);a(1066);a(1067);a(1069);a(553);a(1060);a(1068);a(1070);a(1064);a(938);a(774);a(937);a(936);a(1072);a(1073);a(1074);a(1075);a(1077);a(1078);a(1080)},9:function(n,l,a){l=new (a(293));n.exports=l},12:function(n,l,a){n=a(17)["default"];l["default"]=n||function(a){for(var f=1;f<arguments.length;f++){var h=arguments[f],b;for(b in h)Object.prototype.hasOwnProperty.call(h,b)&&(a[b]=h[b])}return a};l.__esModule=!0},17:function(n,
l,a){n.exports={"default":a(269),__esModule:!0}},18:function(n,l,a){(function(a,f){n.exports=f()})(this,function(){function a(c,p){p&&(c.prototype=Object.create(p.prototype));c.prototype.constructor=c}function f(c){return e(c)?c:H(c)}function h(c){return q(c)?c:Q(c)}function b(c){return g(c)?c:G(c)}function d(c){return e(c)&&!t(c)?c:$(c)}function e(c){return!(!c||!c[Hb])}function q(c){return!(!c||!c[Ib])}function g(c){return!(!c||!c[Jb])}function t(c){return q(c)||g(c)}function s(c){return!(!c||!c[ua])}
function w(c){c.value=!1;return c}function m(c){c&&(c.value=!0)}function l(){}function r(c,p){p=p||0;for(var a=Math.max(0,c.length-p),b=Array(a),e=0;e<a;e++)b[e]=c[e+p];return b}function v(c){void 0===c.size&&(c.size=c.__iterate(V));return c.size}function n(c,p){if("number"!==typeof p){var a=p>>>0;if(""+a!==p||4294967295===a)return NaN;p=a}return 0>p?v(c)+p:p}function V(){return!0}function U(c,p,a){return(0===c||void 0!==a&&c<=-a)&&(void 0===p||void 0!==a&&p>=a)}function L(c,p,a){return void 0===
c?a:0>c?Math.max(0,p+c):void 0===p?c:Math.min(p,c)}function x(c){this.next=c}function z(c,p,a,b){c=0===c?p:1===c?a:[p,a];b?b.value=c:b={value:c,done:!1};return b}function u(){return{value:void 0,done:!0}}function aa(c){return c&&"function"===typeof c.next}function ba(c){var p=Fa(c);return p&&p.call(c)}function Fa(c){c=c&&(bb&&c[bb]||c[Lb]);if("function"===typeof c)return c}function H(c){if(null===c||void 0===c)c=Qa();else if(e(c))c=c.toSeq();else{var p=Mb(c)||"object"===typeof c&&new na(c);if(!p)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+
c);c=p}return c}function Q(c){return null===c||void 0===c?Qa().toKeyedSeq():e(c)?q(c)?c.toSeq():c.fromEntrySeq():Nb(c)}function G(c){return null===c||void 0===c?Qa():!e(c)?cb(c):q(c)?c.entrySeq():c.toIndexedSeq()}function $(c){return(null===c||void 0===c?Qa():!e(c)?cb(c):q(c)?c.entrySeq():c).toSetSeq()}function ga(c){this._array=c;this.size=c.length}function na(c){var p=Object.keys(c);this._object=c;this._keys=p;this.size=p.length}function Ga(c){this._iterable=c;this.size=c.length||c.size}function Ha(c){this._iterator=
c;this._iteratorCache=[]}function db(c){return!(!c||!c[Ob])}function Qa(){return Pb||(Pb=new ga([]))}function Nb(c){var p=Array.isArray(c)?(new ga(c)).fromEntrySeq():aa(c)?(new Ha(c)).fromEntrySeq():Fa(c)?(new Ga(c)).fromEntrySeq():"object"===typeof c?new na(c):void 0;if(!p)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+c);return p}function cb(c){var p=Mb(c);if(!p)throw new TypeError("Expected Array or iterable object of values: "+c);return p}function Mb(c){return c&&
"number"===typeof c.length?new ga(c):aa(c)?new Ha(c):Fa(c)?new Ga(c):void 0}function Qb(c,p,a,b){var e=c._cache;if(e){for(var d=e.length-1,g=0;g<=d;g++){var m=e[a?d-g:g];if(!1===p(m[1],b?m[0]:g,c))return g+1}return g}return c.__iterateUncached(p,a)}function Rb(c,p,a,b){var e=c._cache;if(e){var d=e.length-1,g=0;return new x(function(){var c=e[a?d-g:g];return g++>d?u():z(p,b?c[0]:g-1,c[1])})}return c.__iteratorUncached(p,a)}function eb(c,p){return p?fb(p,c,"",{"":c}):gb(c)}function fb(c,p,a,b){return Array.isArray(p)?
c.call(b,a,G(p).map(function(a,b){return fb(c,a,b,p)})):p&&(p.constructor===Object||void 0===p.constructor)?c.call(b,a,Q(p).map(function(a,b){return fb(c,a,b,p)})):p}function gb(c){return Array.isArray(c)?G(c).map(gb).toList():c&&(c.constructor===Object||void 0===c.constructor)?Q(c).map(gb).toMap():c}function I(c,p){if(c===p||c!==c&&p!==p)return!0;if(!c||!p)return!1;if("function"===typeof c.valueOf&&"function"===typeof p.valueOf){c=c.valueOf();p=p.valueOf();if(c===p||c!==c&&p!==p)return!0;if(!c||
!p)return!1}return"function"===typeof c.equals&&"function"===typeof p.equals&&c.equals(p)?!0:!1}function hb(c,p){if(c===p)return!0;if(!e(p)||void 0!==c.size&&void 0!==p.size&&c.size!==p.size||void 0!==c.__hash&&void 0!==p.__hash&&c.__hash!==p.__hash||q(c)!==q(p)||g(c)!==g(p)||s(c)!==s(p))return!1;if(0===c.size&&0===p.size)return!0;var a=!t(c);if(s(c)){var b=c.entries();return p.every(function(c,p){var e=b.next().value;return e&&I(e[1],c)&&(a||I(e[0],p))})&&b.next().done}var d=!1;if(void 0===c.size)if(void 0===
p.size)"function"===typeof c.cacheResult&&c.cacheResult();else{var d=!0,m=c;c=p;p=m}var f=!0,m=p.__iterate(function(p,b){if(a?!c.has(p):d?!I(p,c.get(b,A)):!I(c.get(b,A),p))return f=!1});return f&&c.size===m}function N(c,p){if(!(this instanceof N))return new N(c,p);this._value=c;this.size=void 0===p?Infinity:Math.max(0,p);if(0===this.size){if(ib)return ib;ib=this}}function Ra(c,p){if(!c)throw Error(p);}function O(c,p,a){if(!(this instanceof O))return new O(c,p,a);Ra(0!==a,"Cannot step a Range by 0");
c=c||0;void 0===p&&(p=Infinity);a=void 0===a?1:Math.abs(a);p<c&&(a=-a);this._start=c;this._end=p;this._step=a;this.size=Math.max(0,Math.ceil((p-c)/a-1)+1);if(0===this.size){if(jb)return jb;jb=this}}function oa(){throw TypeError("Abstract");}function Ia(){}function wa(){}function Sa(){}function W(c){if(!1===c||(null===c||void 0===c)||"function"===typeof c.valueOf&&(c=c.valueOf(),!1===c||null===c||void 0===c))return 0;if(!0===c)return 1;var p=typeof c;if("number"===p){p=c|0;for(p!==c&&(p^=4294967295*
c);4294967295<c;)c/=4294967295,p^=c;return p>>>1&1073741824|p&3221225471}if("string"===p)return c.length>Fc?(p=kb[c],void 0===p&&(p=lb(c),mb===Gc&&(mb=0,kb={}),mb++,kb[c]=p),c=p):c=lb(c),c;if("function"===typeof c.hashCode)return c.hashCode();if("object"===p)return Hc(c);if("function"===typeof c.toString)return lb(c.toString());throw Error("Value type "+p+" cannot be hashed.");}function lb(c){for(var p=0,a=0;a<c.length;a++)p=31*p+c.charCodeAt(a)|0;return p>>>1&1073741824|p&3221225471}function Hc(c){var p;
if(nb&&(p=ob.get(c),void 0!==p))return p;p=c[ra];if(void 0!==p)return p;if(!Ta){p=c.propertyIsEnumerable&&c.propertyIsEnumerable[ra];if(void 0!==p)return p;a:{if(c&&0<c.nodeType)switch(c.nodeType){case 1:p=c.uniqueID;break a;case 9:p=c.documentElement&&c.documentElement.uniqueID;break a}p=void 0}if(void 0!==p)return p}p=++pb;pb&1073741824&&(pb=0);if(nb)ob.set(c,p);else{if(void 0!==Sb&&!1===Sb(c))throw Error("Non-extensible objects are not allowed as keys.");if(Ta)Object.defineProperty(c,ra,{enumerable:!1,
configurable:!1,writable:!1,value:p});else if(void 0!==c.propertyIsEnumerable&&c.propertyIsEnumerable===c.constructor.prototype.propertyIsEnumerable)c.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},c.propertyIsEnumerable[ra]=p;else if(void 0!==c.nodeType)c[ra]=p;else throw Error("Unable to set a non-enumerable property on object.");}return p}function X(c){Ra(Infinity!==c,"Cannot perform this action with an infinite size.")}function B(c){return null===
c||void 0===c?ha():qb(c)&&!s(c)?c:ha().withMutations(function(p){var a=h(c);X(a.size);a.forEach(function(c,a){return p.set(a,c)})})}function qb(c){return!(!c||!c[Tb])}function Ja(c,p){this.ownerID=c;this.entries=p}function xa(c,p,a){this.ownerID=c;this.bitmap=p;this.nodes=a}function Ka(c,p,a){this.ownerID=c;this.count=p;this.nodes=a}function sa(c,p,a){this.ownerID=c;this.keyHash=p;this.entries=a}function ia(c,p,a){this.ownerID=c;this.keyHash=p;this.entry=a}function rb(c,p,a){this._type=p;this._reverse=
a;this._stack=c._root&&{node:c._root,index:0,__prev:void 0}}function sb(c,p,a,b){var e=Object.create(y);e.size=c;e._root=p;e.__ownerID=a;e.__hash=b;e.__altered=!1;return e}function ha(){return Ub||(Ub=sb(0))}function Vb(c,p,a){var b;if(c._root){b=w(Ic);var e=w(Wb);p=tb(c._root,c.__ownerID,0,void 0,p,a,b,e);if(!e.value)return c;b=c.size+(b.value?a===A?-1:1:0)}else{if(a===A)return c;b=1;p=new Ja(c.__ownerID,[[p,a]])}return c.__ownerID?(c.size=b,c._root=p,c.__hash=void 0,c.__altered=!0,c):p?sb(b,p):
ha()}function tb(c,p,a,b,e,d,g,f){if(!c){if(d===A)return c;m(f);m(g);return new ia(p,b,[e,d])}return c.update(p,a,b,e,d,g,f)}function ub(c,p,a,b,e){if(c.keyHash===b)return new sa(p,b,[c.entry,e]);var d=(0===a?c.keyHash:c.keyHash>>>a)&R,g=(0===a?b:b>>>a)&R,m;c=d===g?[ub(c,p,a+D,b,e)]:(m=new ia(p,b,e),d<g?[c,m]:[m,c]);return new xa(p,1<<d|1<<g,c)}function Ua(c,p,a){for(var b=[],d=0;d<a.length;d++){var g=a[d],m=h(g);e(g)||(m=m.map(function(c){return eb(c)}));b.push(m)}return Xb(c,p,b)}function Yb(c,
p,a){return c&&c.mergeDeep&&e(p)?c.mergeDeep(p):I(c,p)?c:p}function Zb(c){return function(p,a,b){if(p&&p.mergeDeepWith&&e(a))return p.mergeDeepWith(c,a);a=c(p,a,b);return I(p,a)?p:a}}function Xb(c,p,a){a=a.filter(function(c){return 0!==c.size});return 0===a.length?c:0===c.size&&!c.__ownerID&&1===a.length?c.constructor(a[0]):c.withMutations(function(c){for(var b=p?function(a,b){c.update(b,A,function(c){return c===A?a:p(c,a,b)})}:function(p,a){c.set(a,p)},e=0;e<a.length;e++)a[e].forEach(b)})}function $b(c,
p,a,b){var e=c===A,d=p.next();if(d.done)return e=e?a:c,b=b(e),b===e?c:b;Ra(e||c&&c.set,"invalid keyPath");var d=d.value,g=e?A:c.get(d,A);b=$b(g,p,a,b);return b===g?c:b===A?c.remove(d):(e?ha():c).set(d,b)}function ac(c){c-=c>>1&1431655765;c=(c&858993459)+(c>>2&858993459);c=c+(c>>4)&252645135;c+=c>>8;return c+(c>>16)&127}function E(c){var p=vb();if(null===c||void 0===c)return p;if(bc(c))return c;var a=b(c),e=a.size;if(0===e)return p;X(e);return 0<e&&e<ca?La(0,e,D,null,new pa(a.toArray())):p.withMutations(function(c){c.setSize(e);
a.forEach(function(p,a){return c.set(a,p)})})}function bc(c){return!(!c||!c[cc])}function pa(c,p){this.array=c;this.ownerID=p}function dc(c,p){function a(c,b){var Kb=b===g?m&&m.array:c&&c.array,f=b>e?0:e-b,r=d-b;r>ca&&(r=ca);return function(){if(f===r)return Ma;var c=p?--r:f++;return Kb&&Kb[c]}}function b(c,g,m){var f,r=c&&c.array,q=m>e?0:e-m>>g,h=(d-m>>g)+1;h>ca&&(h=ca);return function(){do{if(f){var c=f();if(c!==Ma)return c;f=null}if(q===h)return Ma;c=p?--h:q++;f=0===g-D?a(r&&r[c],m+(c<<g)):b(r&&
r[c],g-D,m+(c<<g))}while(1)}}var e=c._origin,d=c._capacity,g=Na(d),m=c._tail;return 0===c._level?a(c._root,0):b(c._root,c._level,0)}function La(c,a,b,e,d,g,m){var f=Object.create(S);f.size=a-c;f._origin=c;f._capacity=a;f._level=b;f._root=e;f._tail=d;f.__ownerID=g;f.__hash=m;f.__altered=!1;return f}function vb(){return ec||(ec=La(0,0,D))}function Jc(c,a,b){a=n(c,a);if(a!==a)return c;if(a>=c.size||0>a)return c.withMutations(function(c){0>a?qa(c,a).set(0,b):qa(c,0,a+1).set(a,b)});a+=c._origin;var e=
c._tail,d=c._root,g=w(Wb);a>=Na(c._capacity)?e=wb(e,c.__ownerID,0,a,b,g):d=wb(d,c.__ownerID,c._level,a,b,g);return!g.value?c:c.__ownerID?(c._root=d,c._tail=e,c.__hash=void 0,c.__altered=!0,c):La(c._origin,c._capacity,c._level,d,e)}function wb(c,a,b,e,d,g){var f=e>>>b&R,r=c&&f<c.array.length;if(!r&&void 0===d)return c;if(0<b){r=c&&c.array[f];d=wb(r,a,b-D,e,d,g);if(d===r)return c;c=ya(c,a);c.array[f]=d;return c}if(r&&c.array[f]===d)return c;m(g);c=ya(c,a);void 0===d&&f===c.array.length-1?c.array.pop():
c.array[f]=d;return c}function ya(c,a){return a&&c&&a===c.ownerID?c:new pa(c?c.array.slice():[],a)}function fc(c,a){if(a>=Na(c._capacity))return c._tail;if(a<1<<c._level+D){for(var b=c._root,e=c._level;b&&0<e;)b=b.array[a>>>e&R],e-=D;return b}}function qa(c,a,b){void 0!==a&&(a|=0);void 0!==b&&(b|=0);var e=c.__ownerID||new l,d=c._origin,g=c._capacity;a=d+a;b=void 0===b?g:0>b?g+b:d+b;if(a===d&&b===g)return c;if(a>=b)return c.clear();for(var f=c._level,m=c._root,r=0;0>a+r;)m=new pa(m&&m.array.length?
[void 0,m]:[],e),f+=D,r+=1<<f;r&&(a+=r,d+=r,b+=r,g+=r);for(var q=Na(g),h=Na(b);h>=1<<f+D;)m=new pa(m&&m.array.length?[m]:[],e),f+=D;var r=c._tail,s=h<q?fc(c,b-1):h>q?new pa([],e):r;if(r&&h>q&&a<g&&r.array.length){for(var t=m=ya(m,e),v=f;v>D;v-=D)var k=q>>>v&R,t=t.array[k]=ya(t.array[k],e);t.array[q>>>D&R]=r}b<g&&(s=s&&s.removeAfter(e,0,b));if(a>=h)a-=h,b-=h,f=D,m=null,s=s&&s.removeBefore(e,0,a);else if(a>d||h<q){for(r=0;m;){g=a>>>f&R;if(g!==h>>>f&R)break;g&&(r+=(1<<f)*g);f-=D;m=m.array[g]}m&&a>d&&
(m=m.removeBefore(e,f,a-r));m&&h<q&&(m=m.removeAfter(e,f,h-r));r&&(a-=r,b-=r)}return c.__ownerID?(c.size=b-a,c._origin=a,c._capacity=b,c._level=f,c._root=m,c._tail=s,c.__hash=void 0,c.__altered=!0,c):La(a,b,f,m,s)}function Va(c,a,d){for(var g=[],m=0,f=0;f<d.length;f++){var r=d[f],q=b(r);q.size>m&&(m=q.size);e(r)||(q=q.map(function(c){return eb(c)}));g.push(q)}m>c.size&&(c=c.setSize(m));return Xb(c,a,g)}function Na(c){return c<ca?0:c-1>>>D<<D}function J(c){return null===c||void 0===c?Wa():gc(c)?c:
Wa().withMutations(function(a){var b=h(c);X(b.size);b.forEach(function(c,b){return a.set(b,c)})})}function gc(c){return qb(c)&&s(c)}function xb(c,a,b,e){var d=Object.create(J.prototype);d.size=c?c.size:0;d._map=c;d._list=a;d.__ownerID=b;d.__hash=e;return d}function Wa(){return hc||(hc=xb(ha(),vb()))}function ic(c,a,b){var e=c._map,d=c._list,g=e.get(a),m=void 0!==g;if(b===A){if(!m)return c;d.size>=ca&&d.size>=2*e.size?(a=d.filter(function(c,a){return void 0!==c&&g!==a}),e=a.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),
c.__ownerID&&(e.__ownerID=a.__ownerID=c.__ownerID)):(e=e.remove(a),a=g===d.size-1?d.pop():d.set(g,void 0))}else if(m){if(b===d.get(g)[1])return c;a=d.set(g,[a,b])}else e=e.set(a,d.size),a=d.set(d.size,[a,b]);return c.__ownerID?(c.size=e.size,c._map=e,c._list=a,c.__hash=void 0,c):xb(e,a)}function da(c,a){this._iter=c;this._useKeys=a;this.size=c.size}function za(c){this._iter=c;this.size=c.size}function Aa(c){this._iter=c;this.size=c.size}function Ba(c){this._iter=c;this.size=c.size}function jc(c){var a=
ja(c);a._iter=c;a.size=c.size;a.flip=function(){return c};a.reverse=function(){var a=c.reverse.apply(this);a.flip=function(){return c.reverse()};return a};a.has=function(a){return c.includes(a)};a.includes=function(a){return c.has(a)};a.cacheResult=yb;a.__iterateUncached=function(a,p){var b=this;return c.__iterate(function(c,p){return!1!==a(p,c,b)},p)};a.__iteratorUncached=function(a,p){if(a===ka){var b=c.__iterator(a,p);return new x(function(){var c=b.next();if(!c.done){var a=c.value[0];c.value[0]=
c.value[1];c.value[1]=a}return c})}return c.__iterator(a===ea?Oa:ea,p)};return a}function kc(c,a,b){var e=ja(c);e.size=c.size;e.has=function(a){return c.has(a)};e.get=function(e,d){var g=c.get(e,A);return g===A?d:a.call(b,g,e,c)};e.__iterateUncached=function(e,d){var g=this;return c.__iterate(function(c,d,m){return!1!==e(a.call(b,c,d,m),d,g)},d)};e.__iteratorUncached=function(e,d){var g=c.__iterator(ka,d);return new x(function(){var d=g.next();if(d.done)return d;var m=d.value,f=m[0];return z(e,f,
a.call(b,m[1],f,c),d)})};return e}function zb(c,a){var b=ja(c);b._iter=c;b.size=c.size;b.reverse=function(){return c};c.flip&&(b.flip=function(){var a=jc(c);a.reverse=function(){return c.flip()};return a});b.get=function(b,e){return c.get(a?b:-1-b,e)};b.has=function(b){return c.has(a?b:-1-b)};b.includes=function(a){return c.includes(a)};b.cacheResult=yb;b.__iterate=function(a,p){var b=this;return c.__iterate(function(c,p){return a(c,p,b)},!p)};b.__iterator=function(a,p){return c.__iterator(a,!p)};
return b}function lc(c,a,b,e){var d=ja(c);e&&(d.has=function(e){var d=c.get(e,A);return d!==A&&!!a.call(b,d,e,c)},d.get=function(e,d){var g=c.get(e,A);return g!==A&&a.call(b,g,e,c)?g:d});d.__iterateUncached=function(d,g){var m=this,f=0;c.__iterate(function(c,g,r){if(a.call(b,c,g,r))return f++,d(c,e?g:f-1,m)},g);return f};d.__iteratorUncached=function(d,g){var m=c.__iterator(ka,g),f=0;return new x(function(){for(;;){var g=m.next();if(g.done)return g;var r=g.value,q=r[0],r=r[1];if(a.call(b,r,q,c))return z(d,
e?q:f++,r,g)}})};return d}function Kc(c,a,b){var e=B().asMutable();c.__iterate(function(d,g){e.update(a.call(b,d,g,c),0,function(c){return c+1})});return e.asImmutable()}function Lc(c,a,e){var m=q(c),f=(s(c)?J():B()).asMutable();c.__iterate(function(b,d){f.update(a.call(e,b,d,c),function(c){return c=c||[],c.push(m?[d,b]:b),c})});var r=q(c)?h:g(c)?b:d;return f.map(function(a){return C(c,r(a))})}function Ab(c,a,b,e){var d=c.size;void 0!==a&&(a|=0);void 0!==b&&(b|=0);if(U(a,b,d))return c;var g=L(a,d,
0),d=L(b,d,d);if(g!==g||d!==d)return Ab(c.toSeq().cacheResult(),a,b,e);a=d-g;var m;a===a&&(m=0>a?0:a);a=ja(c);a.size=0===m?m:c.size&&m||void 0;!e&&(db(c)&&0<=m)&&(a.get=function(a,p){a=n(this,a);return 0<=a&&a<m?c.get(a+g,p):p});a.__iterateUncached=function(a,p){var b=this;if(0===m)return 0;if(p)return this.cacheResult().__iterate(a,p);var d=0,f=!0,r=0;c.__iterate(function(c,p){if(!f||!(f=d++<g))return r++,!1!==a(c,e?p:r-1,b)&&r!==m});return r};a.__iteratorUncached=function(a,p){if(0!==m&&p)return this.cacheResult().__iterator(a,
p);var b=0!==m&&c.__iterator(a,p),d=0,f=0;return new x(function(){for(;d++<g;)b.next();if(++f>m)return u();var c=b.next();return e||a===ea?c:a===Oa?z(a,f-1,void 0,c):z(a,f-1,c.value[1],c)})};return a}function Mc(c,a,b){var e=ja(c);e.__iterateUncached=function(e,d){var g=this;if(d)return this.cacheResult().__iterate(e,d);var m=0;c.__iterate(function(c,d,f){return a.call(b,c,d,f)&&++m&&e(c,d,g)});return m};e.__iteratorUncached=function(e,d){var g=this;if(d)return this.cacheResult().__iterator(e,d);
var m=c.__iterator(ka,d),f=!0;return new x(function(){if(!f)return u();var c=m.next();if(c.done)return c;var d=c.value,r=d[0],d=d[1];return!a.call(b,d,r,g)?(f=!1,u()):e===ka?c:z(e,r,d,c)})};return e}function mc(c,a,b,e){var d=ja(c);d.__iterateUncached=function(d,g){var m=this;if(g)return this.cacheResult().__iterate(d,g);var f=!0,r=0;c.__iterate(function(c,g,q){if(!f||!(f=a.call(b,c,g,q)))return r++,d(c,e?g:r-1,m)});return r};d.__iteratorUncached=function(d,g){var m=this;if(g)return this.cacheResult().__iterator(d,
g);var f=c.__iterator(ka,g),r=!0,q=0;return new x(function(){var c,g,h;do{c=f.next();if(c.done)return e||d===ea?c:d===Oa?z(d,q++,void 0,c):z(d,q++,c.value[1],c);h=c.value;g=h[0];h=h[1];r&&(r=a.call(b,h,g,m))}while(r);return d===ka?c:z(d,g,h,c)})};return d}function Nc(c,a){var b=q(c),d=[c].concat(a).map(function(c){e(c)?b&&(c=h(c)):c=b?Nb(c):cb(Array.isArray(c)?c:[c]);return c}).filter(function(c){return 0!==c.size});if(0===d.length)return c;if(1===d.length){var m=d[0];if(m===c||b&&q(m)||g(c)&&g(m))return m}m=
new ga(d);b?m=m.toKeyedSeq():g(c)||(m=m.toSetSeq());m=m.flatten(!0);m.size=d.reduce(function(c,a){if(void 0!==c){var p=a.size;if(void 0!==p)return c+p}},0);return m}function nc(c,a,b){var d=ja(c);d.__iterateUncached=function(d,g){function m(c,q){var h=this;c.__iterate(function(c,g){if((!a||q<a)&&e(c))m(c,q+1);else if(!1===d(c,b?g:f++,h))r=!0;return!r},g)}var f=0,r=!1;m(c,0);return f};d.__iteratorUncached=function(d,g){var m=c.__iterator(d,g),f=[],r=0;return new x(function(){for(;m;){var c=m.next();
if(!1!==c.done)m=f.pop();else{var q=c.value;d===ka&&(q=q[1]);if((!a||f.length<a)&&e(q))f.push(m),m=q.__iterator(d,g);else return b?c:z(d,r++,q,c)}}return u()})};return d}function Oc(c,a,e){var m=q(c)?h:g(c)?b:d;return c.toSeq().map(function(b,d){return m(a.call(e,b,d,c))}).flatten(!0)}function Pc(c,a){var b=ja(c);b.size=c.size&&2*c.size-1;b.__iterateUncached=function(b,e){var d=this,g=0;c.__iterate(function(c,e){return(!g||!1!==b(a,g++,d))&&!1!==b(c,g++,d)},e);return g};b.__iteratorUncached=function(b,
e){var d=c.__iterator(ea,e),g=0,m;return new x(function(){if(!m||g%2)if(m=d.next(),m.done)return m;return g%2?z(b,g++,a):z(b,g++,m.value,m)})};return b}function Ca(c,a,b){a||(a=oc);var e=q(c),d=0,m=c.toSeq().map(function(a,p){return[p,a,d++,b?b(a,p,c):a]}).toArray();m.sort(function(c,b){return a(c[3],b[3])||c[2]-b[2]}).forEach(e?function(c,a){m[a].length=2}:function(c,a){m[a]=c[1]});return e?Q(m):g(c)?G(m):$(m)}function Xa(c,a,b){a||(a=oc);if(b){var e=c.toSeq().map(function(a,p){return[a,b(a,p,c)]}).reduce(function(c,
b){return pc(a,c[1],b[1])?b:c});return e&&e[0]}return c.reduce(function(c,b){return pc(a,c,b)?b:c})}function pc(c,a,b){c=c(b,a);return 0===c&&b!==a&&(void 0===b||null===b||b!==b)||0<c}function Bb(c,a,b){c=ja(c);c.size=(new ga(b)).map(function(c){return c.size}).min();c.__iterate=function(c,a){for(var b=this.__iterator(ea,a),p,e=0;!(p=b.next()).done&&!1!==c(p.value,e++,this););return e};c.__iteratorUncached=function(c,e){var d=b.map(function(c){return c=f(c),ba(e?c.reverse():c)}),g=0,m=!1;return new x(function(){var b;
m||(b=d.map(function(c){return c.next()}),m=b.some(function(c){return c.done}));return m?u():z(c,g++,a.apply(null,b.map(function(c){return c.value})))})};return c}function C(c,a){return db(c)?a:c.constructor(a)}function qc(c){if(c!==Object(c))throw new TypeError("Expected [K, V] tuple: "+c);}function rc(c){X(c.size);return v(c)}function ja(c){return Object.create((q(c)?Q:g(c)?G:$).prototype)}function yb(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):H.prototype.cacheResult.call(this)}
function oc(c,a){return c>a?1:c<a?-1:0}function sc(c){var a=ba(c);if(!a){if(!(c&&"number"===typeof c.length))throw new TypeError("Expected iterable or array-like: "+c);a=ba(f(c))}return a}function Y(c,a){var b,e=function(g){if(g instanceof e)return g;if(!(this instanceof e))return new e(g);if(!b){b=!0;var m=Object.keys(c);try{m.forEach(Qc.bind(void 0,d))}catch(f){}d.size=m.length;d._name=a;d._keys=m;d._defaultValues=c}this._map=B(g)},d=e.prototype=Object.create(M);return d.constructor=e}function Ya(c,
a,b){c=Object.create(Object.getPrototypeOf(c));c._map=a;c.__ownerID=b;return c}function Qc(c,a){Object.defineProperty(c,a,{get:function(){return this.get(a)},set:function(c){Ra(this.__ownerID,"Cannot set on an immutable record.");this.set(a,c)}})}function F(c){return null===c||void 0===c?Cb():Db(c)&&!s(c)?c:Cb().withMutations(function(a){var b=d(c);X(b.size);b.forEach(function(c){return a.add(c)})})}function Db(c){return!(!c||!c[tc])}function Eb(c,a){return c.__ownerID?(c.size=a.size,c._map=a,c):
a===c._map?c:0===a.size?c.__empty():c.__make(a)}function uc(c,a){var b=Object.create(Z);b.size=c?c.size:0;b._map=c;b.__ownerID=a;return b}function Cb(){return vc||(vc=uc(ha()))}function la(c){return null===c||void 0===c?Fb():wc(c)?c:Fb().withMutations(function(a){var b=d(c);X(b.size);b.forEach(function(c){return a.add(c)})})}function wc(c){return Db(c)&&s(c)}function xc(c,a){var b=Object.create(Za);b.size=c?c.size:0;b._map=c;b.__ownerID=a;return b}function Fb(){return yc||(yc=xc(Wa()))}function K(c){return null===
c||void 0===c?Da||(Da=ta(0)):zc(c)?c:(Da||(Da=ta(0))).unshiftAll(c)}function zc(c){return!(!c||!c[Ac])}function ta(c,a,b,e){var d=Object.create(Ea);d.size=c;d._head=a;d.__ownerID=b;d.__hash=e;d.__altered=!1;return d}function ma(c,a){var b=function(b){c.prototype[b]=a[b]};Object.keys(a).forEach(b);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(a).forEach(b);return c}function Rc(c,a){return a}function Sc(c,a){return[a,c]}function $a(c){return function(){return!c.apply(this,arguments)}}function Bc(c){return function(){return-c.apply(this,
arguments)}}function Cc(c){return"string"===typeof c?JSON.stringify(c):c}function Tc(){return r(arguments)}function Dc(c,a){return c<a?1:c>a?-1:0}function Uc(c){if(Infinity===c.size)return 0;var a=s(c),b=q(c),e=a?1:0;c=c.__iterate(b?a?function(c,a){e=31*e+Ec(W(c),W(a))|0}:function(c,a){e=e+Ec(W(c),W(a))|0}:a?function(c){e=31*e+W(c)|0}:function(c){e=e+W(c)|0});return Vc(c,e)}function Vc(c,a){a=Pa(a,3432918353);a=Pa(a<<15|a>>>-15,461845907);a=Pa(a<<13|a>>>-13,5);a=(a+3864292196|0)^c;a=Pa(a^a>>>16,2246822507);
a=Pa(a^a>>>13,3266489909);return(a^a>>>16)>>>1&1073741824|(a^a>>>16)&3221225471}function Ec(c,a){return c^a+2654435769+(c<<6)+(c>>2)|0}var fa=Array.prototype.slice;a(h,f);a(b,f);a(d,f);f.isIterable=e;f.isKeyed=q;f.isIndexed=g;f.isAssociative=t;f.isOrdered=s;f.Keyed=h;f.Indexed=b;f.Set=d;var Hb="@@__IMMUTABLE_ITERABLE__@@",Ib="@@__IMMUTABLE_KEYED__@@",Jb="@@__IMMUTABLE_INDEXED__@@",ua="@@__IMMUTABLE_ORDERED__@@",D=5,ca=1<<D,R=ca-1,A={},Ic={value:!1},Wb={value:!1},Oa=0,ea=1,ka=2,bb="function"===typeof Symbol&&
Symbol.iterator,Lb="@@iterator",Gb=bb||Lb;x.prototype.toString=function(){return"[Iterator]"};x.KEYS=Oa;x.VALUES=ea;x.ENTRIES=ka;x.prototype.inspect=x.prototype.toSource=function(){return this.toString()};x.prototype[Gb]=function(){return this};a(H,f);H.of=function(){return H(arguments)};H.prototype.toSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq {","}")};H.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),
this.size=this._cache.length);return this};H.prototype.__iterate=function(c,a){return Qb(this,c,a,!0)};H.prototype.__iterator=function(c,a){return Rb(this,c,a,!0)};a(Q,H);Q.prototype.toKeyedSeq=function(){return this};a(G,H);G.of=function(){return G(arguments)};G.prototype.toIndexedSeq=function(){return this};G.prototype.toString=function(){return this.__toString("Seq [","]")};G.prototype.__iterate=function(c,a){return Qb(this,c,a,!1)};G.prototype.__iterator=function(c,a){return Rb(this,c,a,!1)};
a($,H);$.of=function(){return $(arguments)};$.prototype.toSetSeq=function(){return this};H.isSeq=db;H.Keyed=Q;H.Set=$;H.Indexed=G;var Ob="@@__IMMUTABLE_SEQ__@@";H.prototype[Ob]=!0;a(ga,G);ga.prototype.get=function(c,a){return this.has(c)?this._array[n(this,c)]:a};ga.prototype.__iterate=function(c,a){for(var b=this._array,e=b.length-1,d=0;d<=e;d++)if(!1===c(b[a?e-d:d],d,this))return d+1;return d};ga.prototype.__iterator=function(c,a){var b=this._array,e=b.length-1,d=0;return new x(function(){return d>
e?u():z(c,d,b[a?e-d++:d++])})};a(na,Q);na.prototype.get=function(c,a){return void 0!==a&&!this.has(c)?a:this._object[c]};na.prototype.has=function(c){return this._object.hasOwnProperty(c)};na.prototype.__iterate=function(c,a){for(var b=this._object,e=this._keys,d=e.length-1,g=0;g<=d;g++){var m=e[a?d-g:g];if(!1===c(b[m],m,this))return g+1}return g};na.prototype.__iterator=function(c,a){var b=this._object,e=this._keys,d=e.length-1,g=0;return new x(function(){var m=e[a?d-g:g];return g++>d?u():z(c,m,
b[m])})};na.prototype[ua]=!0;a(Ga,G);Ga.prototype.__iterateUncached=function(c,a){if(a)return this.cacheResult().__iterate(c,a);var b=ba(this._iterable),e=0;if(aa(b))for(var d;!(d=b.next()).done&&!1!==c(d.value,e++,this););return e};Ga.prototype.__iteratorUncached=function(c,a){if(a)return this.cacheResult().__iterator(c,a);var b=ba(this._iterable);if(!aa(b))return new x(u);var e=0;return new x(function(){var a=b.next();return a.done?a:z(c,e++,a.value)})};a(Ha,G);Ha.prototype.__iterateUncached=function(c,
a){if(a)return this.cacheResult().__iterate(c,a);for(var b=this._iterator,e=this._iteratorCache,d=0;d<e.length;)if(!1===c(e[d],d++,this))return d;for(var g;!(g=b.next()).done&&!(g=g.value,e[d]=g,!1===c(g,d++,this)););return d};Ha.prototype.__iteratorUncached=function(c,a){if(a)return this.cacheResult().__iterator(c,a);var b=this._iterator,e=this._iteratorCache,d=0;return new x(function(){if(d>=e.length){var a=b.next();if(a.done)return a;e[d]=a.value}return z(c,d,e[d++])})};var Pb;a(N,G);N.prototype.toString=
function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};N.prototype.get=function(c,a){return this.has(c)?this._value:a};N.prototype.includes=function(c){return I(this._value,c)};N.prototype.slice=function(c,a){var b=this.size;return U(c,a,b)?this:new N(this._value,L(a,b,b)-L(c,b,0))};N.prototype.reverse=function(){return this};N.prototype.indexOf=function(c){return I(this._value,c)?0:-1};N.prototype.lastIndexOf=function(c){return I(this._value,c)?this.size:-1};
N.prototype.__iterate=function(c,a){for(var b=0;b<this.size;b++)if(!1===c(this._value,b,this))return b+1;return b};N.prototype.__iterator=function(c,a){var b=this,e=0;return new x(function(){return e<b.size?z(c,e++,b._value):u()})};N.prototype.equals=function(c){return c instanceof N?I(this._value,c._value):hb(c)};var ib;a(O,G);O.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1<this._step?" by "+this._step:"")+" ]"};O.prototype.get=function(c,
a){return this.has(c)?this._start+n(this,c)*this._step:a};O.prototype.includes=function(c){c=(c-this._start)/this._step;return 0<=c&&c<this.size&&c===Math.floor(c)};O.prototype.slice=function(c,a){if(U(c,a,this.size))return this;c=L(c,this.size,0);a=L(a,this.size,this.size);return a<=c?new O(0,0):new O(this.get(c,this._end),this.get(a,this._end),this._step)};O.prototype.indexOf=function(c){c-=this._start;return 0===c%this._step&&(c/=this._step,0<=c&&c<this.size)?c:-1};O.prototype.lastIndexOf=function(c){return this.indexOf(c)};
O.prototype.__iterate=function(c,a){for(var b=this.size-1,e=this._step,d=a?this._start+b*e:this._start,g=0;g<=b;g++){if(!1===c(d,g,this))return g+1;d+=a?-e:e}return g};O.prototype.__iterator=function(c,a){var b=this.size-1,e=this._step,d=a?this._start+b*e:this._start,g=0;return new x(function(){var m=d;d+=a?-e:e;return g>b?u():z(c,g++,m)})};O.prototype.equals=function(c){return c instanceof O?this._start===c._start&&this._end===c._end&&this._step===c._step:hb(this,c)};var jb;a(oa,f);a(Ia,oa);a(wa,
oa);a(Sa,oa);oa.Keyed=Ia;oa.Indexed=wa;oa.Set=Sa;var Pa="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(c,a){c|=0;a|=0;var b=c&65535,e=a&65535;return b*e+((c>>>16)*e+b*(a>>>16)<<16>>>0)|0},Sb=Object.isExtensible,Ta;try{Object.defineProperty({},"@",{}),Ta=!0}catch(Zc){Ta=!1}var nb="function"===typeof WeakMap,ob;nb&&(ob=new WeakMap);var pb=0,ra="__immutablehash__";"function"===typeof Symbol&&(ra=Symbol(ra));var Fc=16,Gc=255,mb=0,kb={};a(B,Ia);B.prototype.toString=function(){return this.__toString("Map {",
"}")};B.prototype.get=function(c,a){return this._root?this._root.get(0,void 0,c,a):a};B.prototype.set=function(c,a){return Vb(this,c,a)};B.prototype.setIn=function(c,a){return this.updateIn(c,A,function(){return a})};B.prototype.remove=function(c){return Vb(this,c,A)};B.prototype.deleteIn=function(c){return this.updateIn(c,function(){return A})};B.prototype.update=function(c,a,b){return 1===arguments.length?c(this):this.updateIn([c],a,b)};B.prototype.updateIn=function(c,a,b){b||(b=a,a=void 0);c=$b(this,
sc(c),a,b);return c===A?void 0:c};B.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ha()};B.prototype.merge=function(){return Ua(this,void 0,arguments)};B.prototype.mergeWith=function(c){var a=fa.call(arguments,1);return Ua(this,c,a)};B.prototype.mergeIn=function(c){var a=fa.call(arguments,1);return this.updateIn(c,ha(),function(c){return"function"===typeof c.merge?c.merge.apply(c,a):a[a.length-1]})};B.prototype.mergeDeep=
function(){return Ua(this,Yb,arguments)};B.prototype.mergeDeepWith=function(c){var a=fa.call(arguments,1);return Ua(this,Zb(c),a)};B.prototype.mergeDeepIn=function(c){var a=fa.call(arguments,1);return this.updateIn(c,ha(),function(c){return"function"===typeof c.mergeDeep?c.mergeDeep.apply(c,a):a[a.length-1]})};B.prototype.sort=function(c){return J(Ca(this,c))};B.prototype.sortBy=function(c,a){return J(Ca(this,a,c))};B.prototype.withMutations=function(c){var a=this.asMutable();c(a);return a.wasAltered()?
a.__ensureOwner(this.__ownerID):this};B.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l)};B.prototype.asImmutable=function(){return this.__ensureOwner()};B.prototype.wasAltered=function(){return this.__altered};B.prototype.__iterator=function(c,a){return new rb(this,c,a)};B.prototype.__iterate=function(c,a){var b=this,e=0;this._root&&this._root.iterate(function(a){e++;return c(a[1],a[0],b)},a);return e};B.prototype.__ensureOwner=function(c){return c===this.__ownerID?
this:!c?(this.__ownerID=c,this.__altered=!1,this):sb(this.size,this._root,c,this.__hash)};B.isMap=qb;var Tb="@@__IMMUTABLE_MAP__@@",y=B.prototype;y[Tb]=!0;y["delete"]=y.remove;y.removeIn=y.deleteIn;Ja.prototype.get=function(c,a,b,e){c=this.entries;a=0;for(var d=c.length;a<d;a++)if(I(b,c[a][0]))return c[a][1];return e};Ja.prototype.update=function(c,a,b,e,d,g,f){b=d===A;a=this.entries;for(var q=0,h=a.length;q<h&&!I(e,a[q][0]);q++);var s=q<h;if(s?a[q][1]===d:b)return this;m(f);(b||!s)&&m(g);if(!(b&&
1===a.length)){if(!s&&!b&&a.length>=Wc){c||(c=new l);e=new ia(c,W(e),[e,d]);for(d=0;d<a.length;d++)g=a[d],e=e.update(c,0,void 0,g[0],g[1]);return e}a=(g=c&&c===this.ownerID)?a:r(a);s?b?q===h-1?a.pop():a[q]=a.pop():a[q]=[e,d]:a.push([e,d]);return g?(this.entries=a,this):new Ja(c,a)}};xa.prototype.get=function(c,a,b,e){void 0===a&&(a=W(b));var d=1<<((0===c?a:a>>>c)&R),g=this.bitmap;return 0===(g&d)?e:this.nodes[ac(g&d-1)].get(c+D,a,b,e)};xa.prototype.update=function(c,a,b,e,d,g,m){void 0===b&&(b=W(e));
var f=(0===a?b:b>>>a)&R,q=1<<f,h=this.bitmap,s=0!==(h&q);if(!s&&d===A)return this;var t=ac(h&q-1),v=this.nodes,k=s?v[t]:void 0;a=tb(k,c,a+D,b,e,d,g,m);if(a===k)return this;if(!s&&a&&v.length>=Xc){t=h;q=0;s=Array(ca);for(h=0;0!==t;h++,t>>>=1)s[h]=t&1?v[q++]:void 0;s[f]=a;return new Ka(c,q+1,s)}if(s&&!a&&2===v.length&&(v[t^1].constructor===ia||v[t^1].constructor===sa))return v[t^1];if(s&&a&&1===v.length&&(a.constructor===ia||a.constructor===sa))return a;f=c&&c===this.ownerID;q=s?a?h:h^q:h|q;if(s)if(a)v=
f?v:r(v),v[t]=a;else if(a=v.length-1,f&&t===a)v.pop();else{s=Array(a);for(k=h=0;k<a;k++)k===t&&(h=1),s[k]=v[k+h];v=s}else if(s=v.length+1,f&&t+1===s)v[t]=a;else{h=Array(s);for(b=k=0;b<s;b++)b===t?(h[b]=a,k=-1):h[b]=v[b+k];v=h}return f?(this.bitmap=q,this.nodes=v,this):new xa(c,q,v)};Ka.prototype.get=function(c,a,b,e){void 0===a&&(a=W(b));var d=this.nodes[(0===c?a:a>>>c)&R];return d?d.get(c+D,a,b,e):e};Ka.prototype.update=function(c,a,b,e,d,g,m){void 0===b&&(b=W(e));var f=(0===a?b:b>>>a)&R,q=this.nodes,
h=q[f];if(d===A&&!h)return this;a=tb(h,c,a+D,b,e,d,g,m);if(a===h)return this;b=this.count;if(h){if(!a&&(b--,b<Yc)){a=h=0;b=Array(b);e=0;d=1;for(g=q.length;e<g;e++,d<<=1)m=q[e],void 0!==m&&e!==f&&(h|=d,b[a++]=m);return new xa(c,h,b)}}else b++;q=(h=c&&c===this.ownerID)?q:r(q);q[f]=a;return h?(this.count=b,this.nodes=q,this):new Ka(c,b,q)};sa.prototype.get=function(c,a,b,e){c=this.entries;a=0;for(var d=c.length;a<d;a++)if(I(b,c[a][0]))return c[a][1];return e};sa.prototype.update=function(c,a,b,e,d,g,
f){void 0===b&&(b=W(e));var q=d===A;if(b!==this.keyHash){if(q)return this;m(f);m(g);return ub(this,c,a,b,[e,d])}var h=this.entries;a=0;for(b=h.length;a<b&&!I(e,h[a][0]);a++);var s=a<b;if(s?h[a][1]===d:q)return this;m(f);(q||!s)&&m(g);if(q&&2===b)return new ia(c,this.keyHash,h[a^1]);f=(g=c&&c===this.ownerID)?h:r(h);s?q?a===b-1?f.pop():f[a]=f.pop():f[a]=[e,d]:f.push([e,d]);return g?(this.entries=f,this):new sa(c,this.keyHash,f)};ia.prototype.get=function(c,a,b,e){return I(b,this.entry[0])?this.entry[1]:
e};ia.prototype.update=function(c,a,b,e,d,g,f){b=d===A;var r=I(e,this.entry[0]);if(r?d===this.entry[1]:b)return this;m(f);if(b)m(g);else{if(r)return c&&c===this.ownerID?(this.entry[1]=d,this):new ia(c,this.keyHash,[e,d]);m(g);return ub(this,c,a,W(e),[e,d])}};Ja.prototype.iterate=sa.prototype.iterate=function(c,a){for(var b=this.entries,e=0,d=b.length-1;e<=d;e++)if(!1===c(b[a?d-e:e]))return!1};xa.prototype.iterate=Ka.prototype.iterate=function(c,a){for(var b=this.nodes,e=0,d=b.length-1;e<=d;e++){var g=
b[a?d-e:e];if(g&&!1===g.iterate(c,a))return!1}};ia.prototype.iterate=function(c,a){return c(this.entry)};a(rb,x);rb.prototype.next=function(){for(var c=this._type,a=this._stack;a;){var b=a.node,e=a.index++,d;if(b.entry){if(0===e)return z(c,b.entry[0],b.entry[1])}else if(b.entries){if(d=b.entries.length-1,e<=d)return z(c,b.entries[this._reverse?d-e:e][0],b.entries[this._reverse?d-e:e][1])}else if(d=b.nodes.length-1,e<=d){if(b=b.nodes[this._reverse?d-e:e]){if(b.entry)return z(c,b.entry[0],b.entry[1]);
a=this._stack={node:b,index:0,__prev:a}}continue}a=this._stack=this._stack.__prev}return u()};var Ub,Wc=ca/4,Xc=ca/2,Yc=ca/4;a(E,wa);E.of=function(){return this(arguments)};E.prototype.toString=function(){return this.__toString("List [","]")};E.prototype.get=function(c,a){c=n(this,c);if(0<=c&&c<this.size){c+=this._origin;var b=fc(this,c);return b&&b.array[c&R]}return a};E.prototype.set=function(c,a){return Jc(this,c,a)};E.prototype.remove=function(c){return!this.has(c)?this:0===c?this.shift():c===
this.size-1?this.pop():this.splice(c,1)};E.prototype.insert=function(c,a){return this.splice(c,0,a)};E.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=D,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):vb()};E.prototype.push=function(){var c=arguments,a=this.size;return this.withMutations(function(b){qa(b,0,a+c.length);for(var e=0;e<c.length;e++)b.set(a+e,c[e])})};E.prototype.pop=function(){return qa(this,
0,-1)};E.prototype.unshift=function(){var c=arguments;return this.withMutations(function(a){qa(a,-c.length);for(var b=0;b<c.length;b++)a.set(b,c[b])})};E.prototype.shift=function(){return qa(this,1)};E.prototype.merge=function(){return Va(this,void 0,arguments)};E.prototype.mergeWith=function(c){var a=fa.call(arguments,1);return Va(this,c,a)};E.prototype.mergeDeep=function(){return Va(this,Yb,arguments)};E.prototype.mergeDeepWith=function(c){var a=fa.call(arguments,1);return Va(this,Zb(c),a)};E.prototype.setSize=
function(c){return qa(this,0,c)};E.prototype.slice=function(c,a){var b=this.size;return U(c,a,b)?this:qa(this,L(c,b,0),L(a,b,b))};E.prototype.__iterator=function(c,a){var b=0,e=dc(this,a);return new x(function(){var a=e();return a===Ma?u():z(c,b++,a)})};E.prototype.__iterate=function(c,a){for(var b=0,e=dc(this,a),d;(d=e())!==Ma&&!1!==c(d,b++,this););return b};E.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:!c?(this.__ownerID=c,this):La(this._origin,this._capacity,this._level,
this._root,this._tail,c,this.__hash)};E.isList=bc;var cc="@@__IMMUTABLE_LIST__@@",S=E.prototype;S[cc]=!0;S["delete"]=S.remove;S.setIn=y.setIn;S.deleteIn=S.removeIn=y.removeIn;S.update=y.update;S.updateIn=y.updateIn;S.mergeIn=y.mergeIn;S.mergeDeepIn=y.mergeDeepIn;S.withMutations=y.withMutations;S.asMutable=y.asMutable;S.asImmutable=y.asImmutable;S.wasAltered=y.wasAltered;pa.prototype.removeBefore=function(c,a,b){if(b===a?1<<a:0===this.array.length)return this;var e=b>>>a&R;if(e>=this.array.length)return new pa([],
c);var d=0===e,g;if(0<a){var m=this.array[e];g=m&&m.removeBefore(c,a-D,b);if(g===m&&d)return this}if(d&&!g)return this;c=ya(this,c);if(!d)for(d=0;d<e;d++)c.array[d]=void 0;g&&(c.array[e]=g);return c};pa.prototype.removeAfter=function(c,a,b){if(b===(a?1<<a:0)||0===this.array.length)return this;var e=b-1>>>a&R;if(e>=this.array.length)return this;var d;if(0<a){var g=this.array[e];d=g&&g.removeAfter(c,a-D,b);if(d===g&&e===this.array.length-1)return this}c=ya(this,c);c.array.splice(e+1);d&&(c.array[e]=
d);return c};var Ma={},ec;a(J,B);J.of=function(){return this(arguments)};J.prototype.toString=function(){return this.__toString("OrderedMap {","}")};J.prototype.get=function(c,a){var b=this._map.get(c);return void 0!==b?this._list.get(b)[1]:a};J.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Wa()};J.prototype.set=function(c,a){return ic(this,c,a)};J.prototype.remove=function(c){return ic(this,c,A)};J.prototype.wasAltered=
function(){return this._map.wasAltered()||this._list.wasAltered()};J.prototype.__iterate=function(c,a){var b=this;return this._list.__iterate(function(a){return a&&c(a[1],a[0],b)},a)};J.prototype.__iterator=function(c,a){return this._list.fromEntrySeq().__iterator(c,a)};J.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var a=this._map.__ensureOwner(c),b=this._list.__ensureOwner(c);return!c?(this.__ownerID=c,this._map=a,this._list=b,this):xb(a,b,c,this.__hash)};J.isOrderedMap=
gc;J.prototype[ua]=!0;J.prototype["delete"]=J.prototype.remove;var hc;a(da,Q);da.prototype.get=function(c,a){return this._iter.get(c,a)};da.prototype.has=function(c){return this._iter.has(c)};da.prototype.valueSeq=function(){return this._iter.valueSeq()};da.prototype.reverse=function(){var c=this,a=zb(this,!0);this._useKeys||(a.valueSeq=function(){return c._iter.toSeq().reverse()});return a};da.prototype.map=function(c,a){var b=this,e=kc(this,c,a);this._useKeys||(e.valueSeq=function(){return b._iter.toSeq().map(c,
a)});return e};da.prototype.__iterate=function(c,a){var b=this,e;return this._iter.__iterate(this._useKeys?function(a,e){return c(a,e,b)}:(e=a?rc(this):0,function(d){return c(d,a?--e:e++,b)}),a)};da.prototype.__iterator=function(c,a){if(this._useKeys)return this._iter.__iterator(c,a);var b=this._iter.__iterator(ea,a),e=a?rc(this):0;return new x(function(){var d=b.next();return d.done?d:z(c,a?--e:e++,d.value,d)})};da.prototype[ua]=!0;a(za,G);za.prototype.includes=function(c){return this._iter.includes(c)};
za.prototype.__iterate=function(c,a){var b=this,e=0;return this._iter.__iterate(function(a){return c(a,e++,b)},a)};za.prototype.__iterator=function(c,a){var b=this._iter.__iterator(ea,a),e=0;return new x(function(){var a=b.next();return a.done?a:z(c,e++,a.value,a)})};a(Aa,$);Aa.prototype.has=function(c){return this._iter.includes(c)};Aa.prototype.__iterate=function(c,a){var b=this;return this._iter.__iterate(function(a){return c(a,a,b)},a)};Aa.prototype.__iterator=function(c,a){var b=this._iter.__iterator(ea,
a);return new x(function(){var a=b.next();return a.done?a:z(c,a.value,a.value,a)})};a(Ba,Q);Ba.prototype.entrySeq=function(){return this._iter.toSeq()};Ba.prototype.__iterate=function(c,a){var b=this;return this._iter.__iterate(function(a){if(a){qc(a);var d=e(a);return c(d?a.get(1):a[1],d?a.get(0):a[0],b)}},a)};Ba.prototype.__iterator=function(c,a){var b=this._iter.__iterator(ea,a);return new x(function(){for(;;){var a=b.next();if(a.done)return a;var d=a.value;if(d){qc(d);var g=e(d);return z(c,g?
d.get(0):d[0],g?d.get(1):d[1],a)}}})};za.prototype.cacheResult=da.prototype.cacheResult=Aa.prototype.cacheResult=Ba.prototype.cacheResult=yb;a(Y,Ia);Y.prototype.toString=function(){return this.__toString((this._name||this.constructor.name||"Record")+" {","}")};Y.prototype.has=function(c){return this._defaultValues.hasOwnProperty(c)};Y.prototype.get=function(c,a){if(!this.has(c))return a;var b=this._defaultValues[c];return this._map?this._map.get(c,b):b};Y.prototype.clear=function(){if(this.__ownerID)return this._map&&
this._map.clear(),this;var c=this.constructor;return c._empty||(c._empty=Ya(this,ha()))};Y.prototype.set=function(c,a){if(!this.has(c))throw Error('Cannot set unknown key "'+c+'" on '+(this._name||this.constructor.name||"Record"));var b=this._map&&this._map.set(c,a);return this.__ownerID||b===this._map?this:Ya(this,b)};Y.prototype.remove=function(c){if(!this.has(c))return this;c=this._map&&this._map.remove(c);return this.__ownerID||c===this._map?this:Ya(this,c)};Y.prototype.wasAltered=function(){return this._map.wasAltered()};
Y.prototype.__iterator=function(c,a){var b=this;return h(this._defaultValues).map(function(c,a){return b.get(a)}).__iterator(c,a)};Y.prototype.__iterate=function(c,a){var b=this;return h(this._defaultValues).map(function(c,a){return b.get(a)}).__iterate(c,a)};Y.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var a=this._map&&this._map.__ensureOwner(c);return!c?(this.__ownerID=c,this._map=a,this):Ya(this,a,c)};var M=Y.prototype;M["delete"]=M.remove;M.deleteIn=M.removeIn=y.removeIn;
M.merge=y.merge;M.mergeWith=y.mergeWith;M.mergeIn=y.mergeIn;M.mergeDeep=y.mergeDeep;M.mergeDeepWith=y.mergeDeepWith;M.mergeDeepIn=y.mergeDeepIn;M.setIn=y.setIn;M.update=y.update;M.updateIn=y.updateIn;M.withMutations=y.withMutations;M.asMutable=y.asMutable;M.asImmutable=y.asImmutable;a(F,Sa);F.of=function(){return this(arguments)};F.fromKeys=function(c){return this(h(c).keySeq())};F.prototype.toString=function(){return this.__toString("Set {","}")};F.prototype.has=function(c){return this._map.has(c)};
F.prototype.add=function(c){return Eb(this,this._map.set(c,!0))};F.prototype.remove=function(c){return Eb(this,this._map.remove(c))};F.prototype.clear=function(){return Eb(this,this._map.clear())};F.prototype.union=function(){var c=fa.call(arguments,0),c=c.filter(function(c){return 0!==c.size});return 0===c.length?this:0===this.size&&!this.__ownerID&&1===c.length?this.constructor(c[0]):this.withMutations(function(a){for(var b=0;b<c.length;b++)d(c[b]).forEach(function(c){return a.add(c)})})};F.prototype.intersect=
function(){var c=fa.call(arguments,0);if(0===c.length)return this;var c=c.map(function(c){return d(c)}),a=this;return this.withMutations(function(b){a.forEach(function(a){c.every(function(c){return c.includes(a)})||b.remove(a)})})};F.prototype.subtract=function(){var c=fa.call(arguments,0);if(0===c.length)return this;var c=c.map(function(c){return d(c)}),a=this;return this.withMutations(function(b){a.forEach(function(a){c.some(function(c){return c.includes(a)})&&b.remove(a)})})};F.prototype.merge=
function(){return this.union.apply(this,arguments)};F.prototype.mergeWith=function(c){var a=fa.call(arguments,1);return this.union.apply(this,a)};F.prototype.sort=function(c){return la(Ca(this,c))};F.prototype.sortBy=function(c,a){return la(Ca(this,a,c))};F.prototype.wasAltered=function(){return this._map.wasAltered()};F.prototype.__iterate=function(c,a){var b=this;return this._map.__iterate(function(a,e){return c(e,e,b)},a)};F.prototype.__iterator=function(c,a){return this._map.map(function(c,a){return a}).__iterator(c,
a)};F.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var a=this._map.__ensureOwner(c);return!c?(this.__ownerID=c,this._map=a,this):this.__make(a,c)};F.isSet=Db;var tc="@@__IMMUTABLE_SET__@@",Z=F.prototype;Z[tc]=!0;Z["delete"]=Z.remove;Z.mergeDeep=Z.merge;Z.mergeDeepWith=Z.mergeWith;Z.withMutations=y.withMutations;Z.asMutable=y.asMutable;Z.asImmutable=y.asImmutable;Z.__empty=Cb;Z.__make=uc;var vc;a(la,F);la.of=function(){return this(arguments)};la.fromKeys=function(a){return this(h(a).keySeq())};
la.prototype.toString=function(){return this.__toString("OrderedSet {","}")};la.isOrderedSet=wc;var Za=la.prototype;Za[ua]=!0;Za.__empty=Fb;Za.__make=xc;var yc;a(K,wa);K.of=function(){return this(arguments)};K.prototype.toString=function(){return this.__toString("Stack [","]")};K.prototype.get=function(a,b){var e=this._head;for(a=n(this,a);e&&a--;)e=e.next;return e?e.value:b};K.prototype.peek=function(){return this._head&&this._head.value};K.prototype.push=function(){if(0===arguments.length)return this;
for(var a=this.size+arguments.length,b=this._head,e=arguments.length-1;0<=e;e--)b={value:arguments[e],next:b};return this.__ownerID?(this.size=a,this._head=b,this.__hash=void 0,this.__altered=!0,this):ta(a,b)};K.prototype.pushAll=function(a){a=b(a);if(0===a.size)return this;X(a.size);var e=this.size,d=this._head;a.reverse().forEach(function(a){e++;d={value:a,next:d}});return this.__ownerID?(this.size=e,this._head=d,this.__hash=void 0,this.__altered=!0,this):ta(e,d)};K.prototype.pop=function(){return this.slice(1)};
K.prototype.unshift=function(){return this.push.apply(this,arguments)};K.prototype.unshiftAll=function(a){return this.pushAll(a)};K.prototype.shift=function(){return this.pop.apply(this,arguments)};K.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this.__hash=this._head=void 0,this.__altered=!0,this):Da||(Da=ta(0))};K.prototype.slice=function(a,b){if(U(a,b,this.size))return this;var e=L(a,this.size,0);if(L(b,this.size,this.size)!==this.size)return wa.prototype.slice.call(this,
a,b);for(var d=this.size-e,g=this._head;e--;)g=g.next;return this.__ownerID?(this.size=d,this._head=g,this.__hash=void 0,this.__altered=!0,this):ta(d,g)};K.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:!a?(this.__ownerID=a,this.__altered=!1,this):ta(this.size,this._head,a,this.__hash)};K.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);for(var e=0,d=this._head;d&&!1!==a(d.value,e++,this);)d=d.next;return e};K.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);
var e=0,d=this._head;return new x(function(){if(d){var b=d.value;d=d.next;return z(a,e++,b)}return u()})};K.isStack=zc;var Ac="@@__IMMUTABLE_STACK__@@",Ea=K.prototype;Ea[Ac]=!0;Ea.withMutations=y.withMutations;Ea.asMutable=y.asMutable;Ea.asImmutable=y.asImmutable;Ea.wasAltered=y.wasAltered;var Da;f.Iterator=x;ma(f,{toArray:function(){X(this.size);var a=Array(this.size||0);this.valueSeq().__iterate(function(b,e){a[e]=b});return a},toIndexedSeq:function(){return new za(this)},toJS:function(){return this.toSeq().map(function(a){return a&&
"function"===typeof a.toJS?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&"function"===typeof a.toJSON?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new da(this,!0)},toMap:function(){return B(this.toKeyedSeq())},toObject:function(){X(this.size);var a={};this.__iterate(function(b,e){a[e]=b});return a},toOrderedMap:function(){return J(this.toKeyedSeq())},toOrderedSet:function(){return la(q(this)?this.valueSeq():this)},toSet:function(){return F(q(this)?
this.valueSeq():this)},toSetSeq:function(){return new Aa(this)},toSeq:function(){return g(this)?this.toIndexedSeq():q(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return K(q(this)?this.valueSeq():this)},toList:function(){return E(q(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return 0===this.size?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var a=fa.call(arguments,0);return C(this,Nc(this,a))},
includes:function(a){return this.some(function(b){return I(b,a)})},entries:function(){return this.__iterator(ka)},every:function(a,b){X(this.size);var e=!0;this.__iterate(function(d,g,m){if(!a.call(b,d,g,m))return e=!1});return e},filter:function(a,b){return C(this,lc(this,a,b,!0))},find:function(a,b,e){return(a=this.findEntry(a,b))?a[1]:e},findEntry:function(a,b){var e;this.__iterate(function(d,g,m){if(a.call(b,d,g,m))return e=[g,d],!1});return e},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,
b)},forEach:function(a,b){X(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){X(this.size);a=void 0!==a?""+a:",";var b="",e=!0;this.__iterate(function(d){e?e=!1:b+=a;b+=null!==d&&void 0!==d?d.toString():""});return b},keys:function(){return this.__iterator(Oa)},map:function(a,b){return C(this,kc(this,a,b))},reduce:function(a,b,e){X(this.size);var d,g;2>arguments.length?g=!0:d=b;this.__iterate(function(b,m,f){g?(g=!1,d=b):d=a.call(e,d,b,m,f)});return d},reduceRight:function(a,b,e){var d=
this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return C(this,zb(this,!0))},slice:function(a,b){return C(this,Ab(this,a,b,!0))},some:function(a,b){return!this.every($a(a),b)},sort:function(a){return C(this,Ca(this,a))},values:function(){return this.__iterator(ea)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(a,b){return v(a?this.toSeq().filter(a,b):this)},countBy:function(a,
b){return Kc(this,a,b)},equals:function(a){return hb(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ga(a._cache);var b=a.toSeq().map(Sc).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter($a(a),b)},findLast:function(a,b,e){return this.toKeyedSeq().reverse().find(a,b,e)},first:function(){return this.find(V)},flatMap:function(a,b){return C(this,Oc(this,a,b))},flatten:function(a){return C(this,nc(this,a,!0))},fromEntrySeq:function(){return new Ba(this)},
get:function(a,b){return this.find(function(b,e){return I(e,a)},void 0,b)},getIn:function(a,b){for(var e=this,d=sc(a),g;!(g=d.next()).done;)if(g=g.value,e=e&&e.get?e.get(g,A):A,e===A)return b;return e},groupBy:function(a,b){return Lc(this,a,b)},has:function(a){return this.get(a,A)!==A},hasIn:function(a){return this.getIn(a,A)!==A},isSubset:function(a){a="function"===typeof a.includes?a:f(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){a="function"===typeof a.isSubset?
a:f(a);return a.isSubset(this)},keySeq:function(){return this.toSeq().map(Rc).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return Xa(this,a)},maxBy:function(a,b){return Xa(this,b,a)},min:function(a){return Xa(this,a?Bc(a):Dc)},minBy:function(a,b){return Xa(this,b?Bc(b):Dc,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return C(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,
b){return C(this,mc(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile($a(a),b)},sortBy:function(a,b){return C(this,Ca(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return C(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return C(this,Mc(this,a,b))},takeUntil:function(a,b){return this.takeWhile($a(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Uc(this))}});var P=
f.prototype;P[Hb]=!0;P[Gb]=P.values;P.__toJS=P.toArray;P.__toStringMapper=Cc;P.inspect=P.toSource=function(){return this.toString()};P.chain=P.flatMap;P.contains=P.includes;(function(){try{Object.defineProperty(P,"length",{get:function(){if(!f.noLengthWarning){var a;try{throw Error();}catch(c){a=c.stack}if(-1===a.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+
a),this.size}}})}catch(a){}})();ma(h,{flip:function(){return C(this,jc(this))},findKey:function(a,b){var e=this.findEntry(a,b);return e&&e[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return I(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return I(b,a)})},mapEntries:function(a,b){var e=this,d=0;return C(this,this.toSeq().map(function(g,m){return a.call(b,[m,g],d++,e)}).fromEntrySeq())},mapKeys:function(a,
b){var e=this;return C(this,this.toSeq().flip().map(function(d,g){return a.call(b,d,g,e)}).flip())}});var ab=h.prototype;ab[Ib]=!0;ab[Gb]=P.entries;ab.__toJS=P.toObject;ab.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+Cc(a)};ma(b,{toKeyedSeq:function(){return new da(this,!1)},filter:function(a,b){return C(this,lc(this,a,b,!1))},findIndex:function(a,b){var e=this.findEntry(a,b);return e?e[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return void 0===a?-1:a},lastIndexOf:function(a){a=
this.toKeyedSeq().reverse().keyOf(a);return void 0===a?-1:a},reverse:function(){return C(this,zb(this,!1))},slice:function(a,b){return C(this,Ab(this,a,b,!1))},splice:function(a,b){var e=arguments.length;b=Math.max(b|0,0);if(0===e||2===e&&!b)return this;var d=0>a?this.count():this.size;a=L(a,d,0);d=this.slice(0,a);return C(this,1===e?d:d.concat(r(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){var e=this.toKeyedSeq().findLastKey(a,b);return void 0===e?-1:e},first:function(){return this.get(0)},
flatten:function(a){return C(this,nc(this,a,!1))},get:function(a,b){a=n(this,a);return 0>a||Infinity===this.size||void 0!==this.size&&a>this.size?b:this.find(function(b,e){return e===a},void 0,b)},has:function(a){a=n(this,a);return 0<=a&&(void 0!==this.size?Infinity===this.size||a<this.size:-1!==this.indexOf(a))},interpose:function(a){return C(this,Pc(this,a))},interleave:function(){var a=[this].concat(r(arguments)),b=Bb(this.toSeq(),G.of,a),e=b.flatten(!0);b.size&&(e.size=b.size*a.length);return C(this,
e)},last:function(){return this.get(-1)},skipWhile:function(a,b){return C(this,mc(this,a,b,!1))},zip:function(){var a=[this].concat(r(arguments));return C(this,Bb(this,Tc,a))},zipWith:function(a){var b=r(arguments);b[0]=this;return C(this,Bb(this,a,b))}});b.prototype[Jb]=!0;b.prototype[ua]=!0;ma(d,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});d.prototype.has=P.includes;ma(Q,h.prototype);ma(G,b.prototype);ma($,d.prototype);
ma(Ia,h.prototype);ma(wa,b.prototype);ma(Sa,d.prototype);return{Iterable:f,Seq:H,Collection:oa,Map:B,OrderedMap:J,List:E,Stack:K,Set:F,OrderedSet:la,Record:Y,Range:O,Repeat:N,is:I,fromJS:eb}})},23:function(n,l,a){n.exports={"default":a(302),__esModule:!0}},44:function(n,l,a){Object.defineProperty(l,"__esModule",{value:!0});var k=(a=a(18))&&a.__esModule?a:{"default":a};l["default"]=function(a){a.config={setState:function(a,b){return this.state=b},getState:function(a){return a},onSerialize:function(a){return a.toJS()},
onDeserialize:function(a){return k["default"].fromJS(a)}};return a};n.exports=l["default"]},46:function(n,l,a){l=a(158);a=a(225)(l);n.exports=a},47:function(n,l,a){var k=a(5)["default"],f=a(2)["default"];l=a(9);a=function(){function a(){f(this,a)}k(a,[{key:"bootstrap",value:function(a){this.dispatch(a)}}]);return a}();l=l.createActions(a);window.StaticActions=l;n.exports=l},49:function(n,l){function a(a,f){f.forEach(function(f){Object.keys(Object(f)).forEach(function(b){a(b,f[b])})})}Object.defineProperty(l,
"__esModule",{value:!0});l.isPromise=function(a){return!!a&&("object"===typeof a||"function"===typeof a)&&"function"===typeof a.then};l.eachObject=a;l.assign=function(k){for(var f=arguments.length,h=Array(1<f?f-1:0),b=1;b<f;b++)h[b-1]=arguments[b];a(function(a,b){return k[a]=b},h);return k};l.isFunction=function(a){return"function"===typeof a}},53:function(n,l,a){var k=a(298)["default"];l["default"]=function(a,h,b){var d=!0;for(;d;)if(null===a&&(a=Function.prototype),d=k(a,h),void 0===d){a=Object.getPrototypeOf(a);
if(null===a)break;d=!0}else{if("value"in d)return d.value;h=d.get;return void 0===h?void 0:h.call(b)}};l.__esModule=!0},54:function(n,l,a){var k=a(222)["default"],f=a(299)["default"];l["default"]=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=k(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(f?f(a,b):a.__proto__=b)};l.__esModule=!0},56:function(n,l){var a=Math.max;
n.exports=function(k,f){if("function"!=typeof k)throw new TypeError("Expected a function");f=a(void 0===f?k.length-1:+f||0,0);return function(){for(var h=arguments,b=-1,d=a(h.length-f,0),e=Array(d);++b<d;)e[b]=h[f+b];switch(f){case 0:return k.call(this,e);case 1:return k.call(this,h[0],e);case 2:return k.call(this,h[0],h[1],e)}d=Array(f+1);for(b=-1;++b<f;)d[b]=h[b];d[f]=e;return k.apply(this,d)}}},78:function(n,l,a){function k(a,g,t,s){s||(s=[]);for(var w=-1,m=a.length;++w<m;){var l=a[w];e(l)&&d(l)&&
(t||b(l)||h(l))?g?k(l,g,t,s):f(s,l):t||(s[s.length]=l)}return s}var f=a(335),h=a(214),b=a(22),d=a(77),e=a(83);n.exports=k},88:function(n,l,a){var k=a(78),f=a(136),h=a(238),b=a(239);l=a(56)(function(a,e){return null==a?{}:"function"==typeof e[0]?b(a,f(e[0],e[1],3)):h(a,k(e))});n.exports=l},99:function(n,l,a){var k=a(5)["default"],f=a(2)["default"],h=a(17)["default"],b=a(23)["default"],d=a(176);l=a(9);var e=a(731),q=a(47),g=a(258),t=a(155),s=a(477);a=a(969);var w=a.DEFAULT_COLLECTION_CONFIGURATIONS,
m=a.DEFAULT_COLLECTION_CONFIGURATION,T=a.DEFAULT_TEMPLATE_PAGE_CONFIGURATION;a=function(){function a(){f(this,a);this.bindListeners({handleLoadTemplate:g.LOAD_TEMPLATE,staticInitialized:q.BOOTSTRAP});this.exportPublicMethods({isTemplateOwner:this.isTemplateOwner,getCollectionConfig:this.getCollectionConfig,getCustomType:this.getCustomType,getPageConfig:this.getPageConfig})}k(a,[{key:"getCollectionConfig",value:function(a){return this.getState().collectionConfigs[a]}},{key:"getCustomType",value:function(a){return this.getState().customTypes[a]}},
{key:"getPageConfig",value:function(a){return this.getState().pageConfigs[a]}},{key:"isTemplateOwner",value:function(){var a=this.getState();return a.ownerWebsiteId===a.websiteId}},{key:"staticInitialized",value:function(a){this.setTemplateData(a.template);this.demoCollections=this.processDemoCollections(a.demoCollections);this.websiteId=a.website.id}},{key:"handleLoadTemplate",value:function(a){this.waitFor(e.dispatchToken);a.error?this.error=a.response:(this.error=null,this.setTemplateData(a.template),
this.demoCollections=this.processDemoCollections(a.demoCollections))}},{key:"setTemplateData",value:function(a){a&&(this.id=a.id,this.name=a.name,this.updatedOn=a.updatedOn,this.ownerWebsiteId=a.ownerWebsiteId,this.collectionConfigs=this.processCollectionConfigs(a.collectionConfigs),this.pageConfigs=this.processPageConfigs(a.pageConfigs),this.customTypes=this.processCustomTypes(a.customTypes),this.layouts=this.processLayouts(a.layouts),this.navigations=a.navigations,this.supportsVideoBackgrounds=
a.supportsVideoBackgrounds)}},{key:"processCollectionConfigs",value:function(a){a.products&&(a.products=h({},w.products,a.products),a.products.acceptTypes&&0===a.products.acceptTypes.length&&(a.products.acceptTypes=w.products.acceptTypes),a.products.ordering=t.USER);a=h({},w,a);a=d(a,function(a){a=h({},m,a);!0===a.index?a.folderBehavior=s.INDEX:!0===a.folder&&(a.folderBehavior=s.NONE);return a});var b=a.folders||a.folder;b&&(b.acceptTypes=this.calculateFolderAcceptTypes(a));return a}},{key:"calculateFolderAcceptTypes",
value:function(a){var e=["subscription","gallery-block","template-page"];return b(a).filter(function(b){return a[b].folder?!1:-1===e.indexOf(b)}).concat(["link"])}},{key:"processPageConfigs",value:function(a){return d(a,function(a){return h({},T,a)})}},{key:"processCustomTypes",value:function(){return(0>=arguments.length||void 0===arguments[0]?[]:arguments[0]).reduce(function(a,b){a[b.name]=b;return a},{})}},{key:"processDemoCollections",value:function(a){return a||[]}},{key:"processLayouts",value:function(a){return a||
{}}}]);return a}();n.exports=l.createStore(a,"TemplateStore")},101:function(n,l,a){var k=a(436);n.exports=function(a){return Object(k(a))}},102:function(n,l,a){var k=a(5)["default"],f=a(2)["default"],h=a(135)["default"],b=a(215),d=a(18),e=d.Set,q=a(313);l=a(9);var g=a(555),t=a(669),s=q(t,function(a,b){b.features.forEach(function(b){var e=b.options;a.push(b.cookieKey);e&&a.push.apply(a,h(e.map(function(a){return a.cookieKey})))})},[]);a=function(){function a(){f(this,a);this.bindActions(g);this.exportPublicMethods({isFeatureEnabled:this.isFeatureEnabled});
var m=s.filter(function(a){return"true"===b.get(a)});this.enabledFeatures=e(m);this.featureGroups=d.fromJS(t);this.allFeatures=d.fromJS(s)}k(a,[{key:"isFeatureEnabled",value:function(a){return this.getState().enabledFeatures.has(a)}},{key:"onSetEnabledFeatures",value:function(a){var e=this.enabledFeatures,d=e.subtract(a),e=a.subtract(e);d.forEach(function(a){b.set(a,"",{expires:new Date(0)})});e.forEach(function(a){b.set(a,"true")});this.enabledFeatures=a}}]);return a}();a.config={onDeserialize:function(a){var b=
a.featureGroups,g=a.enabledFeatures;return{allFeatures:d.fromJS(a.allFeatures),featureGroups:d.fromJS(b),enabledFeatures:e(g)}}};n.exports=l.createStore(a,"BetaFeaturesStore")},103:function(n,l,a){var k=a(5)["default"],f=a(2)["default"];l=a(9);var h=a(44),b=a(47),d=a(289),e=a(432);a=function(){function a(){f(this,a);this.state=new e;this.bindActions(d);this.bindListeners({onStaticBootstrap:b.BOOTSTRAP});this.exportPublicMethods({save:this.save})}k(a,[{key:"onStaticBootstrap",value:function(a){this.setState(new e(a.websiteSettings))}},
{key:"onUpdate",value:function(a){this.setState(this.state.merge(a))}},{key:"save",value:function(a){a=this.getState().mergeDeep(a).toJS();return d.save(a)}}]);return a}();n.exports=l.createStore(h(a),"WebsiteSettingsStore")},104:function(n,l){function a(){}Object.defineProperty(l,"__esModule",{value:!0});l.getInternalMethods=function(a,b){var d=b?f:k,e=b?a.prototype:a;return Object.getOwnPropertyNames(e).reduce(function(a,b){if(-1!==d.indexOf(b))return a;a[b]=e[b];return a},{})};l.warn=function(a){"undefined"!==
typeof console&&console.warn(new ReferenceError(a))};l.uid=function(a,b){for(var d=0,e=b;Object.hasOwnProperty.call(a,e);)e=b+String(++d);return e};l.formatAsConstant=function(a){return a.replace(/[a-z]([A-Z])/g,function(a){return a[0]+"_"+a[1].toLowerCase()}).toUpperCase()};l.dispatchIdentity=function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];this.dispatch(d.length?[a].concat(d):a)};var k=Object.getOwnPropertyNames(a),f=Object.getOwnPropertyNames(a.prototype)},
133:function(n,l,a){var k=a(80),f=a(45),h=a(224);n.exports=function(a,d){var e=(f.Object||{})[a]||Object[a],q={};q[a]=d(e);k(k.S+k.F*h(function(){e(1)}),"Object",q)}},135:function(n,l,a){var k=a(320)["default"];l["default"]=function(a){if(Array.isArray(a)){for(var h=0,b=Array(a.length);h<a.length;h++)b[h]=a[h];return b}return k(a)};l.__esModule=!0},143:function(n,l,a){var k=a(873),f=a(36),h=a(445),b=a(22),d=a(26);n.exports=function(a,q,g){var t=b(a)?k:h;g&&d(a,q,g)&&(q=void 0);if("function"!=typeof q||
void 0!==g)q=f(q,g,3);return t(a,q)}},144:function(n,l,a){var k=a(5)["default"],f=a(2)["default"],h=a(29)["default"];l=a(9);var b=a(319);a=function(){function a(){f(this,a);this.generateActions("insert")}k(a,[{key:"read",value:function(a,d,g){var f=this;void 0===d&&(d=!1);this.dispatch(a);return b.read(a,d,g).then(function(a){return f.actions.insert(a.data)})["catch"](function(a){a=a.data;return h.reject(a.message||a)})}},{key:"readForCollection",value:function(a){var d=this;this.dispatch(a);return b.readForCollection(a).then(function(a){(a=
a.data)&&a.results.forEach(function(a){return d.actions.insert(a)});return h.resolve(a)})["catch"](function(a){a=a.data;return h.reject(a.message||a)})}},{key:"update",value:function(a,d){var g=this;this.dispatch(a.id);return a.field?b.updateField(a).then(function(a){return g.actions.insert(a.data.item)})["catch"](function(a){a=a.data;return h.reject(a.message||a)}):b.update(a,d).then(function(a){a=a.data;g.actions.insert(a);return a})["catch"](function(a){a=a.data;return h.reject(a.message||a)})}},
{key:"updateForCollection",value:function(a,d){var g=this;return b.updateForCollection(a,d).then(function(a){return g.actions.insert(a.data)})["catch"](function(a){a=a.data;return h.reject(a.message||a)})}},{key:"create",value:function(a,d,g){var f=this;return b.create(a,d,g).then(function(a){a=a.data;f.actions.insert(a);return a})["catch"](function(a){a=a.data;return h.reject(a.message||a)})}},{key:"createForCollection",value:function(a,d,g){var f=this;return b.createForCollection(a,d,g).then(function(a){a=
a.data;f.actions.insert(a);return a})["catch"](function(a){a=a.data;return h.reject(a.message||a)})}},{key:"delete",value:function(a,d){this.dispatch(a);return b["delete"](a,d)["catch"](function(a){a=a.data;return h.reject(a.message||a)})}},{key:"deleteMany",value:function(a){this.dispatch(a);return b.deleteMany(a)}}]);return a}();n.exports=l.createActions(a)},146:function(n,l,a){var k=a(5)["default"],f=a(2)["default"],h=a(29)["default"];l=a(18);var b=l.Map,d=l.fromJS;l=a(9);var e=a(144);a=a(44);
var q=function(){function a(){f(this,a);this.state=b();this.bindActions(e);this.exportPublicMethods({fetch:this.fetch,fetchForCollection:this.fetchForCollection,getForCollection:this.getForCollection})}k(a,[{key:"onInsert",value:function(a){this.setState(this.state.set(a.id,d(a)))}},{key:"onDelete",value:function(a){this.setState(this.state["delete"](a))}},{key:"onDeleteMany",value:function(a){this.setState(this.state.filter(function(b,e){return-1===a.indexOf(e)}))}},{key:"fetch",value:function(a,
b,d){var g=this;void 0===b&&(b=!1);if(!a)return h.resolve();var f=this.getState().get(a);return f?h.resolve(f):e.read(a,b,d).then(function(){return g.getState().get(a)})}},{key:"fetchForCollection",value:function(a){var b=this,d=this.getForCollection(a);return 0<d.size?h.resolve(d):e.readForCollection(a).then(function(){return b.getForCollection(a)})}},{key:"getForCollection",value:function(a){return this.getState().filter(function(b){return b.get("collectionId")===a})}}]);return a}();n.exports=l.createStore(a(q),
"ContentItemStore")},157:function(n,l,a){function k(a){return{url:G[a.action].replace("{collectionId}",a.collectionId),isFallback:!0}}function f(a){return{url:H[a.collectionType][a.action].replace("{collectionId}",a.collectionId).replace("{parentId}",a.parentId),isFallback:!1}}function h(){var a=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];if(!a.collectionId)return{url:$[a.action],isFallback:!0};if(a.parentId)return a.collectionType===ba.PRODUCTS?f(a):k(a);var b=Fa[a.collectionOrdering];
if(!b)return k(a);b=b[a.recordType];return!b?k(a):{url:b[a.action].replace("{collectionId}",a.collectionId),isFallback:!1}}var b=a(12)["default"],d,e,q,g,t,s,w,m,T,r,v,va,V,U,L,x,z,u=a(159),aa=a(98);l=a(155);var ba=a(31),Fa=(T={},T[l.CHRONOLOGICAL]=(g={},g[aa.TEXT]=(d={},d[u.GET]="/api/content/blogs/{collectionId}/text-posts/{id}",d[u.POST]="/api/content/blogs/{collectionId}/text-posts",d[u.PUT]="/api/content/blogs/{collectionId}/text-posts/{id}",d[u.DELETE]="/api/content/blogs/{collectionId}/text-posts/{id}",
d),g[aa.IMAGE]=(e={},e[u.GET]="/api/content/blogs/{collectionId}/image-posts/{id}",e[u.POST]="/api/content/blogs/{collectionId}/image-posts",e[u.PUT]="/api/content/blogs/{collectionId}/image-posts/{id}",e[u.DELETE]="/api/content/blogs/{collectionId}/image-posts/{id}",e),g[aa.VIDEO]=(q={},q[u.GET]="/api/content/blogs/{collectionId}/video-posts/{id}",q[u.POST]="/api/content/blogs/{collectionId}/video-posts",q[u.PUT]="/api/content/blogs/{collectionId}/video-posts/{id}",q[u.DELETE]="/api/content/blogs/{collectionId}/video-posts/{id}",
q),g),T[l.CALENDAR]=(s={},s[aa.EVENT]=(t={},t[u.GET]="/api/content/calendars/{collectionId}/events/{id}",t[u.POST]="/api/content/calendars/{collectionId}/events",t[u.PUT]="/api/content/calendars/{collectionId}/events/{id}",t[u.DELETE]="/api/content/calendars/{collectionId}/events/{id}",t),s),T[l.USER]=(m={},m[aa.STORE_ITEM]=(w={},w[u.GET]="/api/content/product-pages/{collectionId}/products/{id}",w[u.POST]="/api/content/product-pages/{collectionId}/products",w[u.PUT]="/api/content/product-pages/{collectionId}/products/{id}",
w[u.DELETE]="/api/content/product-pages/{collectionId}/products/{id}",w),m),T),H=(v={},v[ba.PRODUCTS]=(r={},r[u.GET]="/api/content/product-pages/{collectionId}/products/{parentId}/images/{id}",r[u.POST]="/api/content/product-pages/{collectionId}/products/{parentId}/images",r[u.PUT]="/api/content/product-pages/{collectionId}/products/{parentId}/images/{id}",r[u.DELETE]="/api/content/product-pages/{collectionId}/products/{parentId}/images/{id}",r),v),Q=(L={},L[l.CHRONOLOGICAL]=(va={},va[ba.COLLECTION_TYPE_GENERIC]=
"/api/content/blogs/{collectionId}/posts",va),L[l.CALENDAR]=(V={},V[ba.COLLECTION_TYPE_GENERIC]="/api/content/calendars/{collectionId}/events",V),L[l.USER]=(U={},U[ba.PRODUCTS]="/api/content/product-pages/{collectionId}/products",U),L),G=(x={},x[u.GET]="/api/content-collections/{collectionId}/content-items/{id}",x[u.POST]="/api/content-collections/{collectionId}/content-items",x[u.PUT]="/api/content-collections/{collectionId}/content-items/{id}",x[u.DELETE]="/api/content-collections/{collectionId}/content-items/{id}",
x),$=(z={},z[u.GET]="/api/content-items/{id}",z[u.POST]="/api/content-items",z[u.PUT]="/api/content-items/{id}",z[u.DELETE]="/api/content-items/{id}",z);n.exports={getTemplateForSingleItem:function(){return h(0>=arguments.length||void 0===arguments[0]?{}:arguments[0]).url},getTemplateForCollectionItems:function(a,b){if(!a)return"/api/content-collections/{collectionId}/content-items";var e=void 0;Q.hasOwnProperty(a)&&(e=Q[a][b]);return!e?"/api/content-collections/{collectionId}/content-items":e},getMainImageUploadUrl:function(){var a=
h(b({},0>=arguments.length||void 0===arguments[0]?{}:arguments[0],{action:u.DELETE}));return a.isFallback?"/api/commondata/SaveMedia":a.url+"/main-image"},getMainImageDeletionUrl:function(){var a=h(b({},0>=arguments.length||void 0===arguments[0]?{}:arguments[0],{action:u.DELETE}));return a.isFallback?"/api/commondata/ClearEmbeddedAsset":a.url+"/main-image"},getChildImageUploadUrl:function(){var a=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];return a.recordType===aa.STORE_ITEM?f({collectionType:ba.PRODUCTS,
recordType:aa.STORE_ITEM,action:u.POST,parentId:a.parentId,collectionId:a.collectionId}).url:"/api/commondata/SaveMedia"}}},159:function(n,l){n.exports={GET:1,POST:2,PUT:3,DELETE:4}},163:function(n,l){n.exports=function(){var a=[],k=function(f){f=a.indexOf(f);0<=f&&a.splice(f,1)};return{subscribe:function(f){a.push(f);return{dispose:function(){return k(f)}}},push:function(f){a.forEach(function(a){return a(f)})},unsubscribe:k}}},173:function(n,l,a){var k=a(441),f=a(36),h=a(443),b=a(22),d=a(26);n.exports=
function(a,q,g){var t=b(a)?k:h;g&&d(a,q,g)&&(q=void 0);if("function"!=typeof q||void 0!==g)q=f(q,g,3);return t(a,q)}},210:function(n,l){n.exports={AUTHENTICATED:0,CONFIG:1,ADMIN:2,CONFIG_CONTENT_MANAGER:11,CONFIG_SETTINGS:12,CONFIG_ACTIVITY:13,CONFIG_COMMERCE:14,CONFIG_NEWSLETTER:15,CONFIG_DAMASK:17,CONFIG_CHANGE_STRUCTURE:1110,CONFIG_TRUSTED_COMMENTER:1111,CONFIG_SETTINGS_GENERAL:1210,CONFIG_SETTINGS_LOCALE:1211,CONFIG_SETTINGS_SOCIAL_ACCOUNT:1212,CONFIG_SETTINGS_FACEBOOK:1213,CONFIG_SETTINGS_SOCIAL_SETTINGS:1214,
CONFIG_SETTINGS_MEMBER_ACCOUNTS:1215,CONFIG_SETTINGS_DOMAIN:1216,CONFIG_SETTINGS_TEMPLATE:1217,CONFIG_SETTINGS_IMPORT:1218,CONFIG_SETTINGS_CODEINJECT:1219,CONFIG_SETTINGS_ADVANCED:1220,CONFIG_SETTINGS_DEVELOPER:1221,CONFIG_SETTINGS_SESSIONS:1222,CONFIG_SETTINGS_MOBILE:1223,CONFIG_SETTINGS_BILLING:1224,CONFIG_SETTINGS_SUPPORT:1225,CONFIG_SETTINGS_SITE:1226,CONFIG_SETTINGS_LABS:1227,CONFIG_SETTINGS_ADVERTISING:1228,CONFIG_ACTIVITY_STATS:1310,CONFIG_ACTIVITY_COMMENTS:1311,CONFIG_COMMERCE_ORDERS:1410,
CONFIG_COMMERCE_STORE_SETTINGS:1411,CONFIG_COMMERCE_SHIPPING:1412,CONFIG_COMMERCE_COUPONS:1413,CONFIG_COMMERCE_TAXES:1414,CONFIG_COMMERCE_EMAIL_NOTIFICATIONS:1415,CONFIG_COMMERCE_INVENTORY:1416,CONFIG_COMMERCE_DONATIONS:1417,CONFIG_COMMERCE_ACCOUNTING:1418,CONFIG_COMMERCE_DISCOUNTS:1419,CONFIG_NEWSLETTER_READ_SUBSCRIBER:1510,CONFIG_NEWSLETTER_WRITE_SUBSCRIBER:1511,CONFIG_NEWSLETTER_READ_GROUP:1512,CONFIG_NEWSLETTER_WRITE_GROUP:1513,CONFIG_NEWSLETTER_READ_MESSAGE:1514,CONFIG_NEWSLETTER_WRITE_MESSAGE:1515,
CONFIG_NEWSLETTER_READ_SETTINGS:1516,CONFIG_NEWSLETTER_WRITE_SETTINGS:1517,CONFIG_ACCEPT_TOS:1610,CONFIG_DOMAINS_REMOVE:1611,CONFIG_DOMAINS_ADD:1612,ADMIN_GRANT_ACCESS:2010,ADMIN_BILLING_READ:2011,ADMIN_BILLING_WRITE:2012,ADMIN_READ_CUSTOMER_DATA:2013,ADMIN_WRITE_CUSTOMER_DATA:2014,ADMIN_DEV_SETTINGS:2015,ADMIN_MARKETING_READ:2016,ADMIN_MARKETING_WRITE:2017,ADMIN_LOGINAS:2018,ADMIN_TEMPLATE_SETTINGS:2019,ADMIN_SYSTEM_JSON_VIEW:2020,ADMIN_TAXONOMY:2021,ADMIN_CHANGE_USER_EMAIL:2022,ADMIN_ADD_NOTE:2023,
ADMIN_EDIT_OTHER_NOTES:2024,ADMIN_EXTEND_TRIAL:2025,ADMIN_BIZPIPE_STATS_MOBILE_ACCESS:2026,ADMIN_REFERRALS:2027,ADMIN_BILLING_REFUND:2028,ADMIN_BILLING_APPLY_EDU_DISCOUNT:2029,ADMIN_DEACTIVATE_SQUARESPACE_ACCOUNT:2030,ADMIN_BILLING_EXPIRE:2031,ADMIN_CHANGE_MAX_COMPS:2032,ADMIN_CHANGE_GUILDS:2033,ADMIN_DOMAIN_WRITE:2034,ADMIN_GOOGLE_APPS_WRITE:2035,ADMIN_ADD_CONTRIBUTER:2036,ADMIN_CHANGE_WEBSITE_OWNER:2037,ADMIN_REMOVE_CONTRIBUTER:2038,ADMIN_TAXATION_READ:2039,ADMIN_SUSPEND:2040,ADMIN_TAXATION_WRITE:2041,
ADMIN_LOGINAS_PUBLIC:2042,ADMIN_MASS_REMOVAL:2043}},222:function(n,l,a){n.exports={"default":a(300),__esModule:!0}},225:function(n,l,a){var k=a(165),f=a(107),h=a(162);n.exports=function(a,d){return function(e,q){var g=e?k(e):0;if(!f(g))return a(e,q);for(var t=d?g:-1,s=h(e);(d?t--:++t<g)&&!1!==q(s[t],t,s););return e}}},228:function(n,l,a){var k=a(83),f=Object.prototype.toString;n.exports=function(a){return"number"==typeof a||k(a)&&"[object Number]"==f.call(a)}},238:function(n,l,a){var k=a(162);n.exports=
function(a,h){a=k(a);for(var b=-1,d=h.length,e={};++b<d;){var q=h[b];q in a&&(e[q]=a[q])}return e}},239:function(n,l,a){var k=a(262);n.exports=function(a,h){var b={};k(a,function(a,e,f){h(a,e,f)&&(b[e]=a)});return b}},258:function(n,l,a){var k=a(5)["default"],f=a(2)["default"];l=a(9);var h=a(828);a=function(){function a(){f(this,a)}k(a,[{key:"loadTemplate",value:function(a){var b=this;h.getTemplate(a).then(function(a){b.dispatch(a.data)},function(a){b.dispatch({error:!0,response:a})})}}]);return a}();
n.exports=l.createActions(a)},260:function(n,l,a){var k=a(23)["default"];n.exports=function(a){var h={};k(a).map(function(b){var d=a[b];"object"===typeof d?h[b]=JSON.stringify(d):void 0!==d&&(h[b]=d)});return h}},262:function(n,l,a){var k=a(762),f=a(148);n.exports=function(a,b){return k(a,b,f)}},264:function(n,l,a){var k=a(5)["default"],f=a(2)["default"],h=a(17)["default"],b=a(775),d=a(829);l=a(9);var e=a(431),q=a(258);a=function(){function a(){f(this,a)}k(a,[{key:"loadAll",value:function(){var a=
this;this.dispatch();return d.loadTemplateInstallations().then(function(b){a.actions.loadSuccess(b.data)},function(b){a.actions.loadFailure(b.error)})}},{key:"setPreviewInstallation",value:function(a,d,g){var m=this,f=h({},a,{previewInstallationId:d});b.save(a.id,f).then(function(a){q.loadTemplate.defer(g);m.dispatch(d);setTimeout(e.refresh,1E3)},function(a){})}},{key:"setLiveInstallation",value:function(a,b){var g=this;d.setLiveInstallation(a).then(function(d){q.loadTemplate.defer(b);g.dispatch(a);
setTimeout(e.refresh,1E3)},function(a){})}},{key:"setHomepageCollectionId",value:function(a){var b=this;return d.setHomepageCollectionId(a).then(function(e){e={homepageCollectionId:a};b.dispatch(e);return e},function(e){e={homepageCollectionId:a,error:!0};b.dispatch(e);return e})}},{key:"updateInstallation",value:function(a){return d.updateInstallation(a).then(this.actions.loadAll)}},{key:"loadSuccess",value:function(a){this.dispatch(a)}},{key:"loadFailure",value:function(a){this.dispatch(a)}}]);
return a}();n.exports=l.createActions(a)},269:function(n,l,a){a(272);n.exports=a(45).Object.assign},271:function(n,l,a){var k=a(82),f=a(101),h=a(563);n.exports=a(224)(function(){var a=Object.assign,d={},e={},f=Symbol();d[f]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){e[a]=a});return 7!=a({},d)[f]||"abcdefghijklmnopqrst"!=Object.keys(a({},e)).join("")})?function(a,d){for(var e=f(a),q=arguments,g=q.length,t=1,s=k.getKeys,l=k.getSymbols,m=k.isEnum;g>t;)for(var n=h(q[t++]),r=l?s(n).concat(l(n)):
s(n),v=r.length,va=0,V;v>va;)if(m.call(n,V=r[va++]))e[V]=n[V];return e}:Object.assign},272:function(n,l,a){n=a(80);n(n.S+n.F,"Object",{assign:a(271)})},280:function(n,l){n.exports={QUEUED:1,PROCESSING:2,READY:3,ERROR:4,DOWNLOAD_ERROR:5,ERROR_TOO_LARGE:6,ERROR_FILE_NOT_FOUND:7,ERROR_UNSUPPORTED_IMAGE_TYPE:8,ERROR_UNSUPPORTED_AUDIO_TYPE:9}},283:function(n,l,a){var k=a(48);l=function(){function a(){}return function(h){if(k(h)){a.prototype=h;var b=new a;a.prototype=void 0}return b||{}}}();n.exports=l},
289:function(n,l,a){var k=a(5)["default"],f=a(2)["default"];l=a(9);var h=a(21);a=function(){function a(){f(this,a);this.generateActions("update")}k(a,[{key:"save",value:function(a){var b=this;return h.put("/api/settings",a).then(function(a){return b.actions.update(a.data)})}}]);return a}();n.exports=l.createActions(a)},290:function(n,l,a){var k=a(5)["default"],f=a(2)["default"];l=a(9);var h=a(47),b=a(264);a=function(){function a(){f(this,a);this.templateInstallations={};this.bindListeners({handleLoadSuccess:b.LOAD_SUCCESS,
handleLoadFailure:b.LOAD_FAILURE,handleStaticInitialized:h.BOOTSTRAP,handlePreviewSet:b.SET_PREVIEW_INSTALLATION,handleTemplateSet:b.SET_LIVE_INSTALLATION,handleHomepageCollectionIdSet:b.SET_HOMEPAGE_COLLECTION_ID});this.exportPublicMethods({getHomepageCollectionId:this.getHomepageCollectionId})}k(a,[{key:"getHomepageCollectionId",value:function(){return this.getState().activeInstallation?this.getState().activeInstallation.homepageCollectionId:this.getState().homepageCollectionId}},{key:"handleStaticInitialized",
value:function(a){var b=a.authenticatedAccountWebsiteSettings;this.previewInstallationId=b?b.previewInstallationId:null;this.homepageCollectionId=a.homepageCollectionId;a.templateInstallation?(this.liveInstallationId=a.templateInstallation.id,this.templateInstallations[this.liveInstallationId]=a.templateInstallation):this.liveInstallationId=null;this.updateInstallationReferences()}},{key:"updateInstallationReferences",value:function(){this.liveInstallation=this.getTemplateInstallation(this.liveInstallationId);
this.previewInstallation=null;this.previewInstallationId!==this.liveInstallationId&&(this.previewInstallation=this.getTemplateInstallation(this.previewInstallationId));this.activeInstallation=this.previewInstallation||this.liveInstallation}},{key:"getTemplateInstallation",value:function(a){return!a||!this.templateInstallations[a]?null:this.templateInstallations[a]}},{key:"handleHomepageCollectionIdSet",value:function(a){a.error||(this.homepageCollectionId=a.homepageCollectionId,this.activeInstallation&&
(this.activeInstallation.homepageCollectionId=a.homepageCollectionId))}},{key:"handlePreviewSet",value:function(a){this.previewInstallationId=a;this.updateInstallationReferences()}},{key:"handleTemplateSet",value:function(a){this.liveInstallationId=a;this.previewInstallationId=null;this.updateInstallationReferences()}},{key:"handleLoadSuccess",value:function(a){var b={};a.forEach(function(a){this[a.id]=a},b);this.maintainMissingInstallation(b,this.liveInstallationId);this.maintainMissingInstallation(b,
this.previewInstallationId);this.templateInstallations=b;this.updateInstallationReferences()}},{key:"maintainMissingInstallation",value:function(a,b){b&&!a[b]&&(a[b]=this.templateInstallations[b])}},{key:"handleLoadFailure",value:function(){console.error("Unable to load installations")}}]);return a}();n.exports=l.createStore(a,"TemplateInstallationsStore")},292:function(n,l,a){function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=
a[e]);b["default"]=a;return b}Object.defineProperty(l,"__esModule",{value:!0});var f=function(){function a(b,e){for(var d=0;d<e.length;d++){var f=e[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,e,d){e&&a(b.prototype,e);d&&a(b,d);return b}}();l["default"]=function(a,g,f,h,k){var m=d.uid(a._actionsRegistry,g+"."+f);a._actionsRegistry[m]=1;var l={id:m,namespace:g,name:f},r=new e(a,m,h,k,l),v=function(b){return a.dispatch(m,
b,l)};h=function(){r.dispatched=!1;var a=r._dispatch.apply(r,arguments);!r.dispatched&&(void 0!==a&&!b.isPromise(a))&&(b.isFunction(a)?a(v):v(a));return a};h.defer=function(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];setTimeout(function(){r._dispatch.apply(null,b)})};h.id=m;h.data=l;g=a.actions[g];f=d.uid(g,f);return g[f]=h};var h=a(49),b=k(h);a=a(104);var d=k(a),e=function(){function a(b,e,d,f,m){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.id=e;this._dispatch=d.bind(this);this.actions=f;this.actionDetails=m;this.alt=b}f(a,[{key:"dispatch",value:function(a){this.dispatched=!0;this.alt.dispatch(this.id,a,this.actionDetails)}}]);return a}();n.exports=l["default"]},293:function(n,l,a){function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e]);b["default"]=a;return b}function f(a){if(Array.isArray(a)){for(var b=0,e=Array(a.length);b<a.length;b++)e[b]=a[b];return e}return Array.from(a)}
function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(a.__proto__=b)}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(l,"__esModule",{value:!0});var d=Function.prototype.bind,e=function(){function a(b,e){for(var d=0;d<e.length;d++){var g=
e[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,e,d){e&&a(b.prototype,e);d&&a(b,d);return b}}(),q=a(307),g=a(297),t=k(g),g=a(49),s=k(g),g=a(296),w=k(g),g=a(104),m=k(g),T=(a=a(292))&&a.__esModule?a:{"default":a};a=function(){function a(e){e=void 0===e?{}:e;b(this,a);this.config=e;this.serialize=e.serialize||JSON.stringify;this.deserialize=e.deserialize||JSON.parse;this.dispatcher=e.dispatcher||new q.Dispatcher;this.batchingFunction=
e.batchingFunction||function(a){return a()};this.actions={global:{}};this.stores={};this.storeTransforms=e.storeTransforms||[];this.trapAsync=!1;this._actionsRegistry={};this._initSnapshot={};this._lastSnapshot={}}e(a,[{key:"dispatch",value:function(a,b,e){var d=this;this.batchingFunction(function(){var g=Math.random().toString(18).substr(2,16);return d.dispatcher.dispatch({id:g,action:a,data:b,details:e})})}},{key:"createUnsavedStore",value:function(a){var b=a.displayName||"";w.createStoreConfig(this.config,
a);for(var e=w.transformStore(this.storeTransforms,a),d=arguments.length,g=Array(1<d?d-1:0),m=1;m<d;m++)g[m-1]=arguments[m];return s.isFunction(e)?w.createStoreFromClass.apply(w,[this,e,b].concat(g)):w.createStoreFromObject(this,e,b)}},{key:"createStore",value:function(a,b){var e=b||a.displayName||a.name||"";w.createStoreConfig(this.config,a);var d=w.transformStore(this.storeTransforms,a);if(this.stores[e]||!e)this.stores[e]?m.warn("A store named "+e+" already exists, double check your store names or pass in your own custom identifier for each store"):
m.warn("Store name was not specified"),e=m.uid(this.stores,e);for(var g=arguments.length,f=Array(2<g?g-2:0),r=2;r<g;r++)f[r-2]=arguments[r];d=s.isFunction(d)?w.createStoreFromClass.apply(w,[this,d,e].concat(f)):w.createStoreFromObject(this,d,e);this.stores[e]=d;t.saveInitialSnapshot(this,e);return d}},{key:"generateActions",value:function(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];return this.createActions(b.reduce(function(a,b){a[b]=m.dispatchIdentity;return a},{name:"global"}))}},
{key:"createAction",value:function(a,b,e){return(0,T["default"])(this,"global",a,b,e)}},{key:"createActions",value:function(a){var g=arguments,r=this,q=void 0===arguments[1]?{}:arguments[1],t={},k=m.uid(this._actionsRegistry,a.displayName||a.name||"Unknown");if(s.isFunction(a)){var l,n,w;(function(){s.assign(t,m.getInternalMethods(a,!0));var r=function(a){function d(){b(this,d);for(var a=arguments.length,e=Array(a),g=0;g<a;g++)e[g]=arguments[g];a:{var m=Object.getPrototypeOf(d.prototype),g="constructor",
a=this,f=!0;for(;f;)if(null===m&&(m=Function.prototype),f=Object.getOwnPropertyDescriptor(m,g),void 0===f){m=Object.getPrototypeOf(m);if(null===m)break;f=!0}else{if("value"in f){a=f.value;break a}g=f.get;a=void 0===g?void 0:g.call(a);break a}a=void 0}a.apply(this,e)}h(d,a);e(d,[{key:"generateActions",value:function(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];b.forEach(function(a){t[a]=m.dispatchIdentity})}}]);return d}(a);l=g.length;n=Array(2<l?l-2:0);for(w=2;w<l;w++)n[w-
2]=g[w];s.assign(t,new (d.apply(r,[null].concat(f(n)))))})()}else s.assign(t,a);this.actions[k]=this.actions[k]||{};s.eachObject(function(a,b){if(s.isFunction(b)){q[a]=(0,T["default"])(r,k,a,b,q);var e=m.formatAsConstant(a);q[e]=q[a].id}},[t]);return q}},{key:"takeSnapshot",value:function(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];a=t.snapshot(this,b);s.assign(this._lastSnapshot,a);return this.serialize(a)}},{key:"rollback",value:function(){t.setAppState(this,this.serialize(this._lastSnapshot),
function(a){a.lifecycle("rollback");a.emitChange()})}},{key:"recycle",value:function(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];a=b.length?t.filterSnapshots(this,this._initSnapshot,b):this._initSnapshot;t.setAppState(this,this.serialize(a),function(a){a.lifecycle("init");a.emitChange()})}},{key:"flush",value:function(){var a=this.serialize(t.snapshot(this));this.recycle();return a}},{key:"bootstrap",value:function(a){t.setAppState(this,a,function(a){a.lifecycle("bootstrap");
a.emitChange()})}},{key:"prepare",value:function(a,b){var e={};if(!a.displayName)throw new ReferenceError("Store provided does not have a name");e[a.displayName]=b;return this.serialize(e)}},{key:"addActions",value:function(a,b){for(var e=arguments.length,d=Array(2<e?e-2:0),g=2;g<e;g++)d[g-2]=arguments[g];this.actions[a]=Array.isArray(b)?this.generateActions.apply(this,b):this.createActions.apply(this,[b].concat(d))}},{key:"addStore",value:function(a,b){for(var e=arguments.length,d=Array(2<e?e-2:
0),g=2;g<e;g++)d[g-2]=arguments[g];this.createStore.apply(this,[b,a].concat(d))}},{key:"getActions",value:function(a){return this.actions[a]}},{key:"getStore",value:function(a){return this.stores[a]}}],[{key:"debug",value:function(a,b){"undefined"!==typeof window&&(window["alt.js.org"]=window["alt.js.org"]||[],window["alt.js.org"].push({name:a,alt:b}));return b}}]);return a}();l["default"]=a;n.exports=l["default"]},294:function(n,l,a){Object.defineProperty(l,"__esModule",{value:!0});var k=function(){function a(b,
e){for(var f=0;f<e.length;f++){var g=e[f];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(d,e,f){e&&a(d.prototype,e);f&&a(d,f);return d}}(),f=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e]);d["default"]=a;return d}(a(49)),h=(a=a(163))&&a.__esModule?a:{"default":a};a=function(){function a(d,e,q,g){var t=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var s=e.lifecycleEvents;this.transmitter=(0,h["default"])();this.lifecycle=function(a,b){s[a]&&s[a].push(b)};this.state=q||e;this.preventDefault=!1;this.displayName=e.displayName;this.boundListeners=e.boundListeners;this.StoreModel=g;var k=e.output||function(a){return a};this.emitChange=function(){return t.transmitter.push(k(t.state))};var m=function(a,b){try{return a()}catch(d){if(e.handlesOwnErrors)return t.lifecycle("error",{error:d,payload:b,state:t.state}),!1;throw d;}};f.assign(this,e.publicMethods);
this.dispatchToken=d.dispatcher.register(function(a){t.preventDefault=!1;t.lifecycle("beforeEach",{payload:a,state:t.state});var b=e.actionListeners[a.action]||e.otherwise;b&&!1!==m(function(){return b.call(e,a.data,a.action)},a)&&!t.preventDefault&&t.emitChange();e.reduce&&(m(function(){e.setState(e.reduce(t.state,a))},a),t.preventDefault||t.emitChange());t.lifecycle("afterEach",{payload:a,state:t.state})});this.lifecycle("init")}k(a,[{key:"listen",value:function(a){var b=this;this.transmitter.subscribe(a);
return function(){return b.unlisten(a)}}},{key:"unlisten",value:function(a){this.lifecycle("unlisten");this.transmitter.unsubscribe(a)}},{key:"getState",value:function(){return this.StoreModel.config.getState.call(this,this.state)}}]);return a}();l["default"]=a;n.exports=l["default"]},295:function(n,l,a){Object.defineProperty(l,"__esModule",{value:!0});var k=a(163),f=k&&k.__esModule?k:{"default":k},h=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,
e)&&(d[e]=a[e]);d["default"]=a;return d}(a(49));l["default"]={waitFor:function(){for(var a=arguments.length,d=Array(a),e=0;e<a;e++)d[e]=arguments[e];if(!d.length)throw new ReferenceError("Dispatch tokens not provided");a=d;1===d.length&&(a=Array.isArray(d[0])?d[0]:d);d=a.map(function(a){return a.dispatchToken||a});this.dispatcher.waitFor(d)},exportAsync:function(a){this.registerAsync(a)},registerAsync:function(a){var d=this,e=0,f=h.isFunction(a)?a(this.alt):a;a=Object.keys(f).reduce(function(a,b){var s=
f[b],k=h.isFunction(s)?s(d):s;["success","error","loading"].forEach(function(a){if(k[a]&&!k[a].id)throw Error(a+" handler must be an action function");});a[b]=function(){for(var a=arguments.length,b=Array(a),g=0;g<a;g++)b[g]=arguments[g];var a=d.getInstance().getState(),g=k.local&&k.local.apply(k,[a].concat(b)),g=k.shouldFetch?k.shouldFetch.apply(k,[a].concat(b)):null==g,f=k.interceptResponse||function(a){return a},h=function(a,g){return function(m){var r=function(){e-=1;a(f(m,a,b));if(g)throw m;
};return d.alt.trapAsync?function(){return r()}:r()}};if(g)return e+=1,k.loading&&k.loading(f(null,k.loading,b)),k.remote.apply(k,[a].concat(b)).then(h(k.success),h(k.error,1));d.emitChange()};return a},{});this.exportPublicMethods(a);this.exportPublicMethods({isLoading:function(){return 0<e}})},exportPublicMethods:function(a){var d=this;h.eachObject(function(a,b){if(!h.isFunction(b))throw new TypeError("exportPublicMethods expects a function");d.publicMethods[a]=b},[a])},emitChange:function(){this.getInstance().emitChange()},
on:function(a,d){"error"===a&&(this.handlesOwnErrors=!0);var e=this.lifecycleEvents[a]||(0,f["default"])();this.lifecycleEvents[a]=e;return e.subscribe(d.bind(this))},bindAction:function(a,d){if(!a)throw new ReferenceError("Invalid action reference passed in");if(!h.isFunction(d))throw new TypeError("bindAction expects a function");if(1<d.length)throw new TypeError("Action handler in store "+this.displayName+" for "+((a.id||a).toString()+" was defined with ")+"two parameters. Only a single parameter is passed through the dispatcher, did you mean to pass in an Object instead?");
var e=a.id?a.id:a;this.actionListeners[e]=d.bind(this);this.boundListeners.push(e)},bindActions:function(a){var d=this;h.eachObject(function(a,b){var g=a.replace(/./,function(a){return"on"+a[0].toUpperCase()}),f=null;if(d[a]&&d[g])throw new ReferenceError("You have multiple action handlers bound to an action: "+(a+" and "+g));d[a]?f=d[a]:d[g]&&(f=d[g]);f&&d.bindAction(b,f)},[a])},bindListeners:function(a){var d=this;h.eachObject(function(a,b){var g=d[a];if(!g)throw new ReferenceError(a+" defined but does not exist in "+
d.displayName);Array.isArray(b)?b.forEach(function(a){d.bindAction(a,g)}):d.bindAction(b,g)},[a])}};n.exports=l["default"]},296:function(n,l,a){function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e]);b["default"]=a;return b}function f(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(a.__proto__=b)}function h(a,b,e){if(e){var d=b.StoreModel.config;e=q.isFunction(e)?e(b.state):e;b.state=d.setState.call(a,b.state,e);a.alt.dispatcher.isDispatching()||a.emitChange()}}function b(a,b,e,d){a.boundListeners=[];a.lifecycleEvents={};a.actionListeners={};a.publicMethods={};a.handlesOwnErrors=!1;return q.assign(a,t["default"],{displayName:e,alt:b,dispatcher:b.dispatcher,preventDefault:function(){this.getInstance().preventDefault=!0}},d)}Object.defineProperty(l,
"__esModule",{value:!0});var d=Function.prototype.bind;l.createStoreConfig=function(a,b){b.config=q.assign({getState:function(a){return q.assign({},a)},setState:q.assign},a,b.config)};l.transformStore=function(a,b){return a.reduce(function(a,b){return b(a)},b)};l.createStoreFromObject=function(a,e,d){var f=void 0,r=b({},a,d,q.assign({getInstance:function(){return f},setState:function(a){h(this,f,a)}},e));r.bindListeners&&t["default"].bindListeners.call(r,r.bindListeners);r.observe&&t["default"].bindListeners.call(r,
r.observe(a));r.lifecycle&&q.eachObject(function(a,b){t["default"].on.call(r,a,b)},[r.lifecycle]);return f=q.assign(new g["default"](a,r,r.state||{},e),r.publicMethods,{displayName:d})};l.createStoreFromClass=function(a,k,m){var t=void 0,r=k.config,l=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");for(var a=arguments.length,e=Array(a),d=0;d<a;d++)e[d]=arguments[d];a:{var g=Object.getPrototypeOf(b.prototype),d="constructor",a=this,f=!0;for(;f;)if(null===
g&&(g=Function.prototype),f=Object.getOwnPropertyDescriptor(g,d),void 0===f){g=Object.getPrototypeOf(g);if(null===g)break;f=!0}else{if("value"in f){a=f.value;break a}d=f.get;a=void 0===d?void 0:d.call(a);break a}a=void 0}a.apply(this,e)}f(b,a);return b}(k);b(l.prototype,a,m,{getInstance:function(){return t},setState:function(a){h(this,t,a)}});for(var n=arguments.length,V=Array(3<n?n-3:0),U=3;U<n;U++)V[U-3]=arguments[U];l=new (d.apply(l,[null].concat(V)));r.bindListeners&&l.bindListeners(r.bindListeners);
r.datasource&&l.registerAsync(r.datasource);return t=q.assign(new g["default"](a,l,"object"===typeof l.state?l.state:null,k),e.getInternalMethods(k),r.publicMethods,{displayName:m})};n=a(104);var e=k(n);n=a(49);var q=k(n),g=(n=a(294))&&n.__esModule?n:{"default":n},t=(a=a(295))&&a.__esModule?a:{"default":a}},297:function(n,l,a){Object.defineProperty(l,"__esModule",{value:!0});l.setAppState=function(a,h,b){var d=a.deserialize(h);k.eachObject(function(e,h){var g=a.stores[e];g&&function(){var a=g.StoreModel.config,
f=g.state;a.onDeserialize&&(d[e]=a.onDeserialize(h)||h);k.eachObject(function(a){return delete f[a]},[f]);k.assign(f,d[e]);b(g)}()},[d])};l.snapshot=function(a,h){var b=void 0===h?[]:h;return(b.length?b:Object.keys(a.stores)).reduce(function(b,e){var h=e.displayName||e,g=a.stores[h],k=g.StoreModel.config;g.lifecycle("snapshot");k=k.onSerialize&&k.onSerialize(g.state);b[h]=k?k:g.getState();return b},{})};l.saveInitialSnapshot=function(a,h){var b=a.deserialize(a.serialize(a.stores[h].state));a._initSnapshot[h]=
b;a._lastSnapshot[h]=b};l.filterSnapshots=function(a,h,b){return b.reduce(function(a,b){var f=b.displayName||b;if(!h[f])throw new ReferenceError(f+" is not a valid store");a[f]=h[f];return a},{})};var k=function(a){if(a&&a.__esModule)return a;var h={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(h[b]=a[b]);h["default"]=a;return h}(a(49))},298:function(n,l,a){n.exports={"default":a(301),__esModule:!0}},299:function(n,l,a){n.exports={"default":a(303),__esModule:!0}},300:function(n,
l,a){var k=a(82);n.exports=function(a,h){return k.create(a,h)}},301:function(n,l,a){var k=a(82);a(304);n.exports=function(a,h){return k.getDesc(a,h)}},302:function(n,l,a){a(305);n.exports=a(45).Object.keys},303:function(n,l,a){a(306);n.exports=a(45).Object.setPrototypeOf},304:function(n,l,a){var k=a(700);a(133)("getOwnPropertyDescriptor",function(a){return function(h,b){return a(k(h),b)}})},305:function(n,l,a){var k=a(101);a(133)("keys",function(a){return function(h){return a(k(h))}})},306:function(n,
l,a){n=a(80);n(n.S,"Object",{setPrototypeOf:a(755).set})},307:function(n,l,a){n.exports.Dispatcher=a(308)},308:function(n,l,a){function k(){this.$Dispatcher_callbacks={};this.$Dispatcher_isPending={};this.$Dispatcher_isHandled={};this.$Dispatcher_isDispatching=!1;this.$Dispatcher_pendingPayload=null}var f=a(309),h=1;k.prototype.register=function(a){var d="ID_"+h++;this.$Dispatcher_callbacks[d]=a;return d};k.prototype.unregister=function(a){f(this.$Dispatcher_callbacks[a],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",
a);delete this.$Dispatcher_callbacks[a]};k.prototype.waitFor=function(a){f(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var d=0;d<a.length;d++){var e=a[d];this.$Dispatcher_isPending[e]?f(this.$Dispatcher_isHandled[e],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",e):(f(this.$Dispatcher_callbacks[e],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",e),this.$Dispatcher_invokeCallback(e))}};k.prototype.dispatch=
function(a){f(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this.$Dispatcher_startDispatching(a);try{for(var d in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[d]||this.$Dispatcher_invokeCallback(d)}finally{this.$Dispatcher_stopDispatching()}};k.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching};k.prototype.$Dispatcher_invokeCallback=function(a){this.$Dispatcher_isPending[a]=!0;this.$Dispatcher_callbacks[a](this.$Dispatcher_pendingPayload);
this.$Dispatcher_isHandled[a]=!0};k.prototype.$Dispatcher_startDispatching=function(a){for(var d in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[d]=!1,this.$Dispatcher_isHandled[d]=!1;this.$Dispatcher_pendingPayload=a;this.$Dispatcher_isDispatching=!0};k.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null;this.$Dispatcher_isDispatching=!1};n.exports=k},309:function(n,l){n.exports=function(a,k,f,h,b,d,e,q){if(!a){if(void 0===k)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
else{var g=[f,h,b,d,e,q],t=0;a=Error("Invariant Violation: "+k.replace(/%s/g,function(){return g[t++]}))}a.framesToPop=1;throw a;}}},313:function(n,l,a){var k=a(282),f=a(36),h=a(283),b=a(158),d=a(22),e=a(273),q=a(48),g=a(338);n.exports=function(a,s,l,m){var n=d(a)||g(a);s=f(s,m,4);null==l&&(n||q(a)?(m=a.constructor,l=n?d(a)?new m:[]:h(e(m)?m.prototype:void 0)):l={});(n?k:b)(a,function(a,b,e){return s(l,a,b,e)});return l}},318:function(n,l,a){var k=a(5)["default"],f=a(2)["default"],h=a(18).Set,b=a(173),
d=a(143);l=a(9);var e=a(44),q=a(210),g=a(47),t=a(22),s=a(228),w=function(a){return t(a)&&a.every(function(a){return s(a)})};a=function(){function a(){f(this,a);this.state=h();this.bindListeners({onStaticBootstrap:g.BOOTSTRAP});this.exportPublicMethods({hasPermission:this.hasPermission,hasAllPermissions:this.hasAllPermissions,hasAnyPermission:this.hasAnyPermission,isAdmin:this.isAdmin})}k(a,[{key:"onStaticBootstrap",value:function(a){a=a.accessPermissions;return w(a)?(this.setState(h(a)),!0):!1}},
{key:"hasPermission",value:function(a){var b=this.getState(),e="string"===typeof a?q[a]:a;if(void 0===e)throw Error(a?"Permission '"+a+"' not found.":"Permission is undefined.");return b.has(e)}},{key:"hasAllPermissions",value:function(a){return b(a,this.hasPermission,this)}},{key:"hasAnyPermission",value:function(a){return d(a,this.hasPermission,this)}},{key:"isAdmin",value:function(){return this.hasPermission(q.ADMIN)}}]);return a}();n.exports=l.createStore(e(a),"AccessPermissionStore")},319:function(n,
l,a){function k(a){var b=2>=arguments.length||void 0===arguments[2]?"":arguments[2];return e.getTemplateForSingleItem(f({},1>=arguments.length||void 0===arguments[1]?{}:arguments[1],{action:a})).replace("{id}",b)}var f=a(12)["default"],h=a(147),b=a(21),d=a(260),e=a(157),q=a(159);n.exports={read:function(a,e,d){void 0===e&&(e=!1);return e?b.get("/api/rest/global-content-items/"+a):b.get(k(q.GET,d,a))},readForCollection:function(a,d){var f=e.getTemplateForCollectionItems(d).replace("{collectionId}",
a);return b.get(f)},update:function(a,e){delete a.author;delete a.pendingPushedServices;delete a.pushedServices;return b.put(k(q.PUT,e,a.id),a)},updateForCollection:function(a,e){delete a.author;delete a.pendingPushedServices;delete a.pushedServices;return b.put(k(q.PUT,e,a.id),a)},create:function(a,e,d){return b.post(k(q.POST,d),a,e)},createForCollection:function(a,e,d){return b.post(k(q.POST,d),a,e)},updateField:function(a){a=d(a);return b.post("/api/commondata/SaveItemField",h.stringify(a))},"delete":function(a,
e){return b["delete"](k(q.DELETE,e,a))},deleteMany:function(a){a=h.stringify({items:a});return b.post("/api/commondata/RemoveItems",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}},320:function(n,l,a){n.exports={"default":a(330),__esModule:!0}},330:function(n,l,a){a(212);a(333);n.exports=a(45).Array.from},333:function(n,l,a){var k=a(270);n=a(80);var f=a(101),h=a(793),b=a(792),d=a(756),e=a(332);n(n.S+n.F*!a(794)(function(a){Array.from(a)}),"Array",{from:function(a){var g=f(a),l=
"function"==typeof this?this:Array,s=arguments,n=s.length,m=1<n?s[1]:void 0,T=void 0!==m,r=0,v=e(g);T&&(m=k(m,2<n?s[2]:void 0,2));if(void 0!=v&&!(l==Array&&b(v))){g=v.call(g);for(l=new l;!(s=g.next()).done;r++)l[r]=T?h(g,m,[s.value,r],!0):s.value}else{s=d(g.length);for(l=new l(s);s>r;r++)l[r]=T?m(g[r],r):g[r]}l.length=r;return l}})},335:function(n,l){n.exports=function(a,k){for(var f=-1,h=k.length,b=a.length;++f<h;)a[b+f]=k[f];return a}},419:function(n,l){YUI.add("model",function(a,k){function f(){f.superclass.constructor.apply(this,
arguments)}var h=YUI.namespace("Env.Model"),b=a.Lang,d=a.Array,e=a.Object,q="error";a.Model=a.extend(f,a.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(a){this.changed={};this.lastChange={};this.lists=[]},destroy:function(a,b){var e=this;"function"===typeof a&&(b=a,a=null);e.onceAfter("destroy",function(){function f(m){m||d.each(e.lists.concat(),function(b){b.remove(e,a)});b&&b.apply(null,arguments)}a&&(a.remove||a["delete"])?e.sync("delete",a,f):f()});return f.superclass.destroy.call(e)},
generateClientId:function(){h.lastId||(h.lastId=0);return this.constructor.NAME+"_"+(h.lastId+=1)},getAsHTML:function(e){e=this.get(e);return a.Escape.html(b.isValue(e)?String(e):"")},getAsURL:function(a){a=this.get(a);return encodeURIComponent(b.isValue(a)?String(a):"")},isModified:function(){return this.isNew()||!e.isEmpty(this.changed)},isNew:function(){return!b.isValue(this.get("id"))},load:function(a,b){var e=this;"function"===typeof a&&(b=a,a={});a||(a={});e.sync("read",a,function(d,f){var h=
{options:a,response:f},r;d?(h.error=d,h.src="load",e.fire(q,h)):(e._loadEvent||(e._loadEvent=e.publish("load",{preventable:!1})),r=h.parsed=e._parse(f),e.setAttrs(r,a),e.changed={},e.fire("load",h));b&&b.apply(null,arguments)});return e},parse:function(b){if("string"===typeof b)try{return a.JSON.parse(b)}catch(e){return this.fire(q,{error:e,response:b,src:"parse"}),null}return b},save:function(a,b){var e=this;"function"===typeof a&&(b=a,a={});a||(a={});e._validate(e.toJSON(),function(d){d?b&&b.call(null,
d):e.sync(e.isNew()?"create":"update",a,function(d,f){var r={options:a,response:f},h;d?(r.error=d,r.src="save",e.fire(q,r)):(e._saveEvent||(e._saveEvent=e.publish("save",{preventable:!1})),f&&(h=r.parsed=e._parse(f),e.setAttrs(h,a)),e.changed={},e.fire("save",r));b&&b.apply(null,arguments)})});return e},set:function(a,b,e){var d={};d[a]=b;return this.setAttrs(d,e)},setAttrs:function(b,d){var f=this.idAttribute,h,m,q,r;d=a.merge(d);r=d._transaction={};"id"!==f&&(b=a.merge(b),e.owns(b,f)?b.id=b[f]:
e.owns(b,"id")&&(b[f]=b.id));for(m in b)e.owns(b,m)&&this._setAttr(m,b[m],d);if(!e.isEmpty(r)){f=this.changed;q=this.lastChange={};for(m in r)e.owns(r,m)&&(h=r[m],f[m]=h.newVal,q[m]={newVal:h.newVal,prevVal:h.prevVal,src:h.src||null});d.silent||(this._changeEvent||(this._changeEvent=this.publish("change",{preventable:!1})),d.changed=q,this.fire("change",d))}return this},sync:function(){var a=d(arguments,0,!0).pop();"function"===typeof a&&a()},toJSON:function(){var a=this.getAttrs();delete a.clientId;
delete a.destroyed;delete a.initialized;"id"!==this.idAttribute&&delete a.id;return a},undo:function(a,b){var f=this.lastChange,h=this.idAttribute,m={},q;a||(a=e.keys(f));d.each(a,function(a){e.owns(f,a)&&(a=a===h?"id":a,q=!0,m[a]=f[a].prevVal)});return q?this.setAttrs(m,b):this},validate:function(a,b){b&&b()},addAttr:function(a,e,d){var h=this.idAttribute,m;h&&a===h&&(h=this._isLazyAttr("id")||this._getAttrCfg("id"),m=e.value===e.defaultValue?null:e.value,b.isValue(m)||(m=h.value===h.defaultValue?
null:h.value,b.isValue(m)||(m=b.isValue(e.defaultValue)?e.defaultValue:h.defaultValue)),e.value=m,h.value!==m&&(h.value=m,this._isLazyAttr("id")?this._state.add("id","lazy",h):this._state.add("id","value",m)));return f.superclass.addAttr.apply(this,arguments)},_parse:function(a){return this.parse(a)},_validate:function(a,e){function d(m){b.isValue(m)?(f.fire(q,{attributes:a,error:m,src:"validate"}),e(m)):e()}var f=this;1===f.validate.length?d(f.validate(a,d)):f.validate(a,d)},_setAttrVal:function(a,
b,e,d,m,h){var r=f.superclass._setAttrVal.apply(this,arguments),q=m&&m._transaction,k=h&&h.initializing;r&&(q&&!k)&&(q[a]={newVal:this.get(a),prevVal:e,src:m.src||null});return r}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"3.17.2",{requires:["base-build","escape","json-parse"]})},423:function(n,l){n.exports={ENABLED:1,DISABLED:2}},431:function(n,l,a){var k=a(5)["default"],f=a(2)["default"];l=a(9);a=function(){function a(){f(this,a);this.generateActions("refresh",
"setUrl","removeLoadHandler","disableEditing","enableEditing","previewLockScreen","previewPreviousUrl")}k(a,[{key:"addLoadHandler",value:function(a,d){this.dispatch({key:a,callback:d})}}]);return a}();n.exports=l.createActions(a)},432:function(n,l,a){var k=a(53)["default"],f=a(54)["default"],h=a(5)["default"],b=a(2)["default"];l=a(23)["default"];var d=a(18),e=d.Record,q=d.Set,g=d.Map,t=a(88),s=a(433);a={allowSquarespacePromotion:!0,amazonAssociateTag:void 0,announcementBarSettings:g(),assetPurchasesByNonAdminsAllowed:!0,
businessHours:g(),collectionTitleFormat:void 0,commentAnonAllowed:void 0,commentApprovalRequired:void 0,commentAvatarsOn:void 0,commentDisableAfterDaysDefault:0,commentEnableByDefault:void 0,commentFlagThreshold:0,commentFlagsAllowed:void 0,commentLikesAllowed:void 0,commentSortType:void 0,commentThreaded:void 0,commentsEnabled:!0,configurationMenuItems:void 0,contactEmail:void 0,contactPhoneNumber:void 0,country:void 0,defaultPostFormat:void 0,disqusShortname:"",homepageTitleFormat:void 0,hours:void 0,
id:void 0,itemTitleFormat:void 0,lastAgreedTermsOfService:void 0,markdownMode:void 0,mobileInfoBarSettings:g(),notFoundPageId:null,ownerId:void 0,pinterestOverlayOptions:g(),simpleLikingEnabled:void 0,socialAccountDisplayOrder:void 0,ssBadgeDevices:void 0,ssBadgePosition:void 0,ssBadgeType:void 0,ssBadgeVisibility:void 0,state:void 0,storeSettings:void 0,subjects:void 0,tutorialsCompleted:q(),type:void 0,contentDescription:g(),goals:g(),useDeviceView:!0,useEscapeKeyToLogin:!0,websiteId:void 0};var w=
l(a);n.exports=function(a){function g(){var a=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];b(this,g);k(Object.getPrototypeOf(g.prototype),"constructor",this).call(this,d.fromJS(s(a)))}f(g,a);h(g,[{key:"merge",value:function(a){a=a instanceof e?a:t(s(a),w);return k(Object.getPrototypeOf(g.prototype),"merge",this).call(this,a)}},{key:"serializeToModel",value:function(){var a=this.toJS(),b=a.tutorialsCompleted;null===a.notFoundPageId&&(a.notFoundPageId="system-default");b&&(a.tutorialsCompleted=
b.reduce(function(a,b){a[b]=!0;return a},{}));return a}}]);return g}(e(a))},433:function(n,l,a){var k=a(17)["default"],f=a(23)["default"],h=a(18).Set;n.exports=function(a){var d=a.notFoundPageId,e=a.tutorialsCompleted;a=k({},a);e&&(a.tutorialsCompleted=h(f(e)));"system-default"===d&&(a.notFoundPageId=null);return a}},441:function(n,l){n.exports=function(a,k){for(var f=-1,h=a.length;++f<h;)if(!k(a[f],f,a))return!1;return!0}},443:function(n,l,a){var k=a(46);n.exports=function(a,h){var b=!0;k(a,function(a,
e,f){return b=!!h(a,e,f)});return b}},445:function(n,l,a){var k=a(46);n.exports=function(a,h){var b;k(a,function(a,e,f){b=h(a,e,f);return!b});return!!b}},491:function(n,l,a){var k=a(5)["default"],f=a(2)["default"],h=a(29)["default"],b=a(732);l=a(9);a=function(){function a(){f(this,a);this.generateActions("insert","insertMany")}k(a,[{key:"create",value:function(a){var d=this;this.dispatch(a);return b.create(a).then(function(a){a=a.data;d.actions.insert(a);return a.id})}},{key:"read",value:function(a){var d=
this;this.dispatch(a);return b.read(a).then(function(a){return d.actions.insert(a.data)})}},{key:"readAll",value:function(){var a=this;return b.readAll().then(function(b){return a.actions.insertMany(b.data)})["catch"](function(a){return h.reject(a.data.message)})}},{key:"delete",value:function(a){return b["delete"](a)["catch"](function(a){return h.reject(a.data.message)})}},{key:"update",value:function(a){var d=this;return a.id&&!a.urlId?b.generateUrl(a).then(function(f){a.urlId=f.data.urlId;return b.create(a).then(function(a){d.actions.insert(a.data);
return a.data})})["catch"](function(a){return h.reject(a.data.message)}):b.create(a).then(function(a){a=a.data;d.actions.insert(a);return a})}}]);return a}();n.exports=l.createActions(a)},540:function(n,l){function a(a){this.dispatcher=a.dispatcher;this.listeners={}}Object.defineProperty(l,"__esModule",{value:!0});a.prototype.addActionListener=function(a,f){var h=this.dispatcher.register(function(b){a===b.action&&f(b.data,b.details)});this.listeners[h]=!0;return h};a.prototype.removeActionListener=
function(a){delete this.listeners[a];this.dispatcher.unregister(a)};a.prototype.removeAllActionListeners=function(){Object.keys(this.listeners).forEach(this.removeActionListener.bind(this));this.listeners={}};l["default"]=a;n.exports=l["default"]},552:function(n,l){YUI.add("squarespace-model-sync-rest",function(a){function k(){this._ioConfigCache={}}k.prototype={sync:function(f,h,b){a.Lang.isValue(h.timeout)||(h.timeout=1E7);a.ModelSync.REST.prototype.sync.apply(this,arguments)},_storeRequest:function(f,
h){this._ioConfigCache[f.id]=a.merge(h,{})},_retrieveAndEvict:function(a){var h=this._ioConfigCache[a];this._ioConfigCache[a]=null;return h},_isCrumbFailure:function(a){return a&&a.crumbFail&&a.crumb},_sendSyncIORequest:function(f){var h=a.ModelSync.REST.prototype._sendSyncIORequest.apply(this,arguments);this._storeRequest(h,f);return h},_onSyncIOEnd:function(f,h){this._retrieveAndEvict(f);a.ModelSync.REST.prototype._onSyncIOEnd.apply(this,arguments)},_onSyncIOSuccess:function(f,h,b){var d=this._retrieveAndEvict(f),
e={},q=h.responseText;a.Lang.isValue(q)&&q.trim()&&(e=a.JSON.parse(q));this._isCrumbFailure(e)?(e=e.crumb,a.ModelSync.REST.CSRF_TOKEN=e,a.Env.CSRF_TOKEN=e,d.headers["X-CSRF-Token"]=e,this._sendSyncIORequest(d)):a.ModelSync.REST.prototype._onSyncIOSuccess.apply(this,arguments)},_onSyncIOFailure:function(f,h,b){if(f=b.callback){b={};var d=h.responseText;a.Lang.isValue(d)&&d.trim()&&(b=a.JSON.parse(d));f({code:h.status,msg:h.statusText,responseJSON:b},h)}}};a.mix(k,a.ModelSync.REST,!1,null,1);a.namespace("Squarespace.ModelSync").REST=
k},"1.0",{requires:["model-sync-rest"]})},553:function(n,l){YUI.add("model-list",function(a,k){function f(){f.superclass.constructor.apply(this,arguments)}var h=a.Attribute.prototype,b=a.Lang,d=a.Array;a.ModelList=a.extend(f,a.Base,{model:a.Model,_isYUIModelList:!0,initializer:function(b){b||(b={});var d=this.model=b.model||this.model;"string"===typeof d&&((this.model=a.Object.getValue(a,d.split(".")))||a.error("ModelList: Model class not found: "+d));this.publish("add",{defaultFn:this._defAddFn});
this.publish("reset",{defaultFn:this._defResetFn});this.publish("remove",{defaultFn:this._defRemoveFn});this.after("*:idChange",this._afterIdChange);this._clear();b.items&&this.add(b.items,{silent:!0})},destructor:function(){this._clear()},add:function(e,f){var g=e._isYUIModelList;return g||b.isArray(e)?d.map(g?e.toArray():e,function(b,e){var d=f||{};"index"in d&&(d=a.merge(d,{index:d.index+e}));return this._add(b,d)},this):this._add(e,f)},create:function(b,d,f){var h=this;"function"===typeof d&&
(f=d,d={});d||(d={});b._isYUIModel||(b=new this.model(b));h.fire("create",a.merge(d,{model:b}));return b.save(d,function(a){a||h.add(b,d);f&&f.apply(null,arguments)})},each:function(a,b){var d=this._items.concat(),f,h,k;f=0;for(k=d.length;f<k;f++)h=d[f],a.call(b||h,h,f,this);return this},filter:function(a,b){var d=[],f=this._items,h,k,m;"function"===typeof a&&(b=a,a={});h=0;for(m=f.length;h<m;++h)k=f[h],b.call(this,k,h,this)&&d.push(k);return a.asList?(f=new this.constructor({model:this.model}),d.length&&
f.add(d,{silent:!0}),f):d},get:function(a){return this.attrAdded(a)?h.get.apply(this,arguments):this.invoke("get",a)},getAsHTML:function(b){return this.attrAdded(b)?a.Escape.html(h.get.apply(this,arguments)):this.invoke("getAsHTML",b)},getAsURL:function(a){return this.attrAdded(a)?encodeURIComponent(h.get.apply(this,arguments)):this.invoke("getAsURL",a)},getByClientId:function(a){return this._clientIdMap[a]||null},getById:function(a){return this._idMap[a]||null},invoke:function(a){var b=[this._items,
a].concat(d(arguments,1,!0));return d.invoke.apply(d,b)},load:function(a,b){var d=this;"function"===typeof a&&(b=a,a={});a||(a={});this.sync("read",a,function(f,h){var k={options:a,response:h},m;f?(k.error=f,k.src="load",d.fire("error",k)):(d._loadEvent||(d._loadEvent=d.publish("load",{preventable:!1})),m=k.parsed=d._parse(h),d.reset(m,a),d.fire("load",k));b&&b.apply(null,arguments)});return this},map:function(a,b){return d.map(this._items,a,b)},parse:function(b){if("string"===typeof b)try{return a.JSON.parse(b)||
[]}catch(d){return this.fire("error",{error:d,response:b,src:"parse"}),null}return b||[]},remove:function(a,f){var g=a._isYUIModelList;return g||b.isArray(a)?(a=d.map(g?a.toArray():a,function(a){return b.isNumber(a)?this.item(a):a},this),d.map(a,function(a){return this._remove(a,f)},this)):this._remove(a,f)},reset:function(b,f){b||(b=[]);f||(f={});var g=a.merge({src:"reset"},f);b=b._isYUIModelList?b.toArray():d.map(b,function(a){return a._isYUIModel?a:new this.model(a)},this);g.models=b;f.silent?
this._defResetFn(g):(this.comparator&&b.sort(a.bind(this._sort,this)),this.fire("reset",g));return this},some:function(a,b){var d=this._items.concat(),f,h,k;f=0;for(k=d.length;f<k;f++)if(h=d[f],a.call(b||h,h,f,this))return!0;return!1},sort:function(b){if(!this.comparator)return this;var d=this._items.concat();b||(b={});d.sort(a.rbind(this._sort,this,b));d=a.merge(b,{models:d,src:"sort"});b.silent?this._defResetFn(d):this.fire("reset",d);return this},sync:function(){var a=d(arguments,0,!0).pop();"function"===
typeof a&&a()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(a){return a.toJSON()})},_add:function(d,f){var g;f||(f={});d._isYUIModel||(d=new this.model(d));g=d.get("id");if(this._clientIdMap[d.get("clientId")]||b.isValue(g)&&this._idMap[g])this.fire("error",{error:"Model is already in the list.",model:d,src:"add"});else return g=a.merge(f,{index:"index"in f?f.index:this._findIndex(d),model:d}),f.silent?this._defAddFn(g):this.fire("add",g),d},_attachList:function(a){a.lists.push(this);
a.addTarget(this)},_clear:function(){d.each(this._items,this._detachList,this);this._clientIdMap={};this._idMap={};this._items=[]},_compare:function(a,b){return a<b?-1:a>b?1:0},_detachList:function(a){var b=d.indexOf(a.lists,this);-1<b&&(a.lists.splice(b,1),a.removeTarget(this))},_findIndex:function(a){var b=this._items,d=b.length,f=0,h,k;if(!this.comparator||!d)return d;for(k=this.comparator(a);f<d;)h=f+d>>1,a=b[h],0>this._compare(this.comparator(a),k)?f=h+1:d=h;return f},_parse:function(a){return this.parse(a)},
_remove:function(d,f){var g;f||(f={});b.isNumber(d)?(g=d,d=this.item(g)):g=this.indexOf(d);if(-1===g||!d)this.fire("error",{error:"Model is not in the list.",index:g,model:d,src:"remove"});else return g=a.merge(f,{index:g,model:d}),f.silent?this._defRemoveFn(g):this.fire("remove",g),d},_sort:function(a,b,d){a=this._compare(this.comparator(a),this.comparator(b));return 0===a?a:d&&d.descending?-a:a},_afterIdChange:function(a){var d=a.newVal,f=a.prevVal;a=a.target;if(b.isValue(f))if(this._idMap[f]===
a)delete this._idMap[f];else return;else if(-1===this.indexOf(a))return;b.isValue(d)&&(this._idMap[d]=a)},_defAddFn:function(a){var d=a.model,f=d.get("id");this._clientIdMap[d.get("clientId")]=d;b.isValue(f)&&(this._idMap[f]=d);this._attachList(d);this._items.splice(a.index,0,d)},_defRemoveFn:function(a){var d=a.model,f=d.get("id");this._detachList(d);delete this._clientIdMap[d.get("clientId")];b.isValue(f)&&delete this._idMap[f];this._items.splice(a.index,1)},_defResetFn:function(a){"sort"===a.src?
this._items=a.models.concat():(this._clear(),a.models.length&&this.add(a.models,{silent:!0}))}},{NAME:"modelList"});a.augment(f,a.ArrayList)},"3.17.2",{requires:"array-extras array-invoke arraylist base-build escape json-parse model".split(" ")})},554:function(n,l){YUI.add("model-sync-rest",function(a,k){function f(){}var h=a.Lang;f.CSRF_TOKEN=YUI.Env.CSRF_TOKEN;f.EMULATE_HTTP=!1;f.HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"};f.HTTP_METHODS={create:"POST",read:"GET",
update:"PUT","delete":"DELETE"};f.HTTP_TIMEOUT=3E4;f._NON_ATTRS_CFG=["root","url"];f.prototype={root:"",url:"",initializer:function(a){a||(a={});"root"in a&&(this.root=a.root||"");"url"in a&&(this.url=a.url||"")},getURL:function(b,d){var e=this.root,f=this.url;return this._isYUIModelList?!f?this.model.prototype.root:this._substituteURL(f,a.merge(this.getAttrs(),d)):e&&("create"===b||this.isNew())?e:!f?this._joinURL(this.getAsURL("id")||""):this._substituteURL(f,a.merge(this.getAttrs(),d))},parseIOResponse:function(a){return a.responseText},
serialize:function(b){return a.JSON.stringify(this)},sync:function(b,d,e){d||(d={});var h=this.getURL(b,d),g=f.HTTP_METHODS[b],k=a.merge(f.HTTP_HEADERS,d.headers),l=d.timeout||f.HTTP_TIMEOUT;d=d.csrfToken||f.CSRF_TOKEN;var n;"POST"===g||"PUT"===g?n=this.serialize(b):delete k["Content-Type"];if(f.EMULATE_HTTP&&("PUT"===g||"DELETE"===g))k["X-HTTP-Method-Override"]=g,g="POST";if(d&&("POST"===g||"PUT"===g||"DELETE"===g))k["X-CSRF-Token"]=d;this._sendSyncIORequest({action:b,callback:e,entity:n,headers:k,
method:g,timeout:l,url:h})},_joinURL:function(a){var d=this.root;if(!d&&!a)return"";"/"===a.charAt(0)&&(a=a.substring(1));return d&&"/"===d.charAt(d.length-1)?d+a+"/":d+"/"+a},_parse:function(a){"function"===typeof this.parseIOResponse&&(a=this.parseIOResponse(a));return this.parse(a)},_sendSyncIORequest:function(b){return a.io(b.url,{arguments:{action:b.action,callback:b.callback,url:b.url},context:this,data:b.entity,headers:b.headers,method:b.method,timeout:b.timeout,on:{start:this._onSyncIOStart,
failure:this._onSyncIOFailure,success:this._onSyncIOSuccess,end:this._onSyncIOEnd}})},_substituteURL:function(b,d){if(!b)return"";var e={};a.Object.each(d,function(a,b){if(h.isString(a)||h.isNumber(a))e[b]=encodeURIComponent(a)});return h.sub(b,e)},_onSyncIOEnd:function(a,d){},_onSyncIOFailure:function(a,d,e){(a=e.callback)&&a({code:d.status,msg:d.statusText},d)},_onSyncIOSuccess:function(a,d,e){(a=e.callback)&&a(null,d)},_onSyncIOStart:function(a,d){}};a.namespace("ModelSync").REST=f},"3.17.2",{requires:["model",
"io-base","json-stringify"]})},555:function(n,l,a){var k=a(2)["default"];l=a(9);n.exports=l.createActions(function h(){k(this,h);this.generateActions("setEnabledFeatures")})},557:function(n,l,a){var k=a(5)["default"],f=a(2)["default"];l=a(9);a=function(){function a(){f(this,a);this.generateActions("reset")}k(a,[{key:"updateAttributes",value:function(a,d){a&&this.dispatch({itemId:a,attrs:d})}}]);return a}();n.exports=l.createActions(a)},669:function(n,l){n.exports=[{label:"General",features:[{cookieKey:"referralsBetaEnabled",
title:"Referrals Program",description:"Enable the panel for the Referrals program. During the beta, be careful not to enter the contact info of anyone not also beta testing!"},{cookieKey:"albumBlockEnabled",title:"Playlist Block",description:"It's an album page - in a block!"},{cookieKey:"pageOnboardingEnabled",title:"Page Onboarding",description:"Enable onboarding for newly created page with preset layouts."},{cookieKey:"tweakImportExportEnabled",title:"Style Pack Import Export",description:"Enable the features to import and export Style Packs in the style editor."},
{cookieKey:"revisions",title:"Revisions",description:"Enable the revision history panel."},{cookieKey:"twoFactorAuth",title:"Two-factor auth",description:"Enable features related to two-factor auth."},{cookieKey:"existingContentPagePicker",title:"New Page Picker in Content Link Tab",description:'Uses a navigation-based page picker on the "existing content" tab when creating a navbar link.'},{cookieKey:"mobileAdminSiteLink",title:"Admin site link - on mobile",description:"Adds a 'View site' link to the editing state on mobile."},
{cookieKey:"imageBlockCards",title:"Image Block: Cards",description:"Adds several fields to the Image Block Editor to support new layouts."},{cookieKey:"websiteVideoBackgrounds",title:"Website Video Backgrounds",description:"Enables video backgrounds on select website templates."}]},{label:"i18n",features:[{cookieKey:"i18nShowFormattedCurrency",title:"Show Currency Formatting",description:"Display a \ud83d\udcb0 emoji around formatted currencies."},{cookieKey:"i18nShowLocalizedComponents",title:"Show Localized Components",
description:"Add a special demarcation for localized components and wrap non-visual content strings with a flag emoji, like: \ud83c\uddfa\ud83c\uddf8 text \ud83c\uddfa\ud83c\uddf8."},{cookieKey:"i18nShowFormattedDates",title:"Show Formatted Dates",description:"Display a \ud83d\udcc6 emoji around formatted dates."}]},{label:"Commerce",features:[{cookieKey:"abandonedCarts",title:"Abandoned Carts",description:"Activate abandoned UI and notifications"},{cookieKey:"realTimeShippingRates",title:"Real-Time Shipping Rates",
description:"Activate Real-Time Shipping options"},{cookieKey:"CRMEnabled",title:"Commerce CRM",description:"Enable customer management panel"}]},{label:"Developers",features:[{cookieKey:"localDevNotice",title:"Show Local Dev Notice",description:"Display a notice to developers about local development."},{cookieKey:"devDropboxSync",title:"Dropbox Sync",description:"Use Dropbox to download your template source code and keep changes in sync."},{cookieKey:"devAutoRefresh",title:"Template Auto-Refresh",
description:"Refresh your website whenever a change is detected to the template."}]},{label:"Domains",features:[{cookieKey:"domainFirstAsInternal",title:"Domain Purchase 2",description:'Use "Domain First" checkout for logged in domain purchase.'}]}]},731:function(n,l,a){var k=a(5)["default"],f=a(2)["default"];l=a(18);var h=l.Map,b=l.fromJS;l=a(9);var d=a(44),e=a(47),q=a(258);a=function(){function a(){f(this,a);this.state=h();this.bindListeners({onSiteLayoutReset:[e.bootstrap,q.loadTemplate]});this.exportPublicMethods({getCollectionLinks:this.getCollectionLinks})}
k(a,[{key:"onSiteLayoutReset",value:function(a){a=a.siteLayout;if(!a)return!1;var d=h();a.forEach(function(a){d=d.set(a.identifier,b(a))});this.setState(d)}},{key:"getCollectionLinks",value:function(){return this.state.reduce(function(a,b){var d=b.toJS().links;a.push(d.filter(function(a){return!!a.collectionId}));return a},[])}}]);return a}();n.exports=l.createStore(d(a),"SiteNavigationStore")},732:function(n,l,a){var k=a(147),f=a(21),h=a(260),b=a(1039);n.exports={generateUrl:function(a){if(a.id){var e=
3>a.title.length?a.typeName+"-"+a.title:a.title,e=b(e);return f.post("/api/content-collections/"+a.id+"/generate-url",{title:a.title,urlId:e})}},create:function(a){a=h(a);a=k.stringify(a);return f.post("/api/commondata/SaveCollection",a,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},read:function(a){return f.get("/api/commondata/GetCollection",{params:{collectionId:a}})},readAll:function(){return f.get("/api/commondata/GetCollections")},"delete":function(a){return f.post("/api/commondata/RemoveCollection",
k.stringify({collectionId:a}))}}},774:function(n,l){YUI.add("datatype-date-format",function(a,k){var f=function(a,d,e){"undefined"===typeof e&&(e=10);for(d+="";parseInt(a,10)<e&&1<e;e/=10)a=d+a;return a.toString()},h={formats:{a:function(a,d){return d.a[a.getDay()]},A:function(a,d){return d.A[a.getDay()]},b:function(a,d){return d.b[a.getMonth()]},B:function(a,d){return d.B[a.getMonth()]},C:function(a){return f(parseInt(a.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(a){return f(parseInt(h.formats.G(a)%
100,10),0)},G:function(a){var d=a.getFullYear(),e=parseInt(h.formats.V(a),10);a=parseInt(h.formats.W(a),10);a>e?d++:0===a&&52<=e&&d--;return d},H:["getHours","0"],I:function(a){a=a.getHours()%12;return f(0===a?12:a,0)},j:function(a){var d=new Date(""+a.getFullYear()+"/1/1 GMT");a=new Date(""+a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" GMT")-d;a=parseInt(a/6E4/60/24,10)+1;return f(a,0,100)},k:["getHours"," "],l:function(a){a=a.getHours()%12;return f(0===a?12:a," ")},m:function(a){return f(a.getMonth()+
1,0)},M:["getMinutes","0"],p:function(a,d){return d.p[12<=a.getHours()?1:0]},P:function(a,d){return d.P[12<=a.getHours()?1:0]},s:function(a,d){return parseInt(a.getTime()/1E3,10)},S:["getSeconds","0"],u:function(a){a=a.getDay();return 0===a?7:a},U:function(a){var d=parseInt(h.formats.j(a),10);a=6-a.getDay();d=parseInt((d+a)/7,10);return f(d,0)},V:function(a){var d=parseInt(h.formats.W(a),10),e=(new Date(""+a.getFullYear()+"/1/1")).getDay(),d=d+(4<e||1>=e?0:1);53===d&&4>(new Date(""+a.getFullYear()+
"/12/31")).getDay()?d=1:0===d&&(d=h.formats.V(new Date(""+(a.getFullYear()-1)+"/12/31")));return f(d,0)},w:"getDay",W:function(a){var d=parseInt(h.formats.j(a),10);a=7-h.formats.u(a);d=parseInt((d+a)/7,10);return f(d,0,10)},y:function(a){return f(a.getFullYear()%100,0)},Y:"getFullYear",z:function(a){a=a.getTimezoneOffset();var d=f(parseInt(Math.abs(a/60),10),0),e=f(Math.abs(a%60),0);return(0<a?"-":"+")+d+e},Z:function(a){var d=a.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,
"");4<d.length&&(d=h.formats.z(a));return d},"%":function(a){return"%"}},aggregates:{c:"locale",D:"%m/%d/%y",F:"%Y-%m-%d",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"},format:function(b,d){d=d||{};if(!a.Lang.isDate(b))return a.Lang.isValue(b)?b:"";var e,k;e=d.format||"%Y-%m-%d";k=a.Intl.get("datatype-date-format");for(var g=function(a,b){var d=h.aggregates[b];return"locale"===d?k[b]:d},l=function(d,e){var m=h.formats[e];switch(a.Lang.type(m)){case "string":return b[m]();
case "function":return m.call(b,b,k);case "array":if("string"===a.Lang.type(m[0]))return f(b[m[0]](),m[1]);default:return e}};e.match(/%[cDFhnrRtTxX]/);)e=e.replace(/%([cDFhnrRtTxX])/g,g);e=e.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,l);g=l=void 0;return e}};a.mix(a.namespace("Date"),h);a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",{lang:"ar ar-JO ca ca-ES da da-DK de de-AT de-DE el el-GR en en-AU en-CA en-GB en-IE en-IN en-JO en-MY en-NZ en-PH en-SG en-US es es-AR es-BO es-CL es-CO es-EC es-ES es-MX es-PE es-PY es-US es-UY es-VE fi fi-FI fr fr-BE fr-CA fr-FR hi hi-IN hu id id-ID it it-IT ja ja-JP ko ko-KR ms ms-MY nb nb-NO nl nl-BE nl-NL pl pl-PL pt pt-BR ro ro-RO ru ru-RU sv sv-SE th th-TH tr tr-TR vi vi-VN zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-Hant-TW".split(" ")})},
775:function(n,l,a){var k=a(5)["default"],f=a(2)["default"];l=a(9);var h=a(826);a=function(){function a(){f(this,a);this.generateActions("saveSuccess")}k(a,[{key:"save",value:function(a,b){var f=this;this.dispatch();return h.save(a,b).then(function(a){f.actions.saveSuccess(a)})}}]);return a}();n.exports=l.createActions(a)},813:function(n,l,a){var k=a(5)["default"],f=a(2)["default"],h=a(29)["default"];l=a(18);var b=l.Map,d=l.fromJS;l=a(9);var e=a(491);a=a(44);var q=function(){function a(){f(this,a);
this.state=b();this.bindActions(e);this.exportPublicMethods({fetch:this.fetch,fetchFromServer:this.fetchFromServer})}k(a,[{key:"onInsert",value:function(a){this.setState(this.state.set(a.id,d(a)))}},{key:"onInsertMany",value:function(a){var b=this.state;a.forEach(function(a){return b=b.set(a.id,d(a))});this.setState(b)}},{key:"onDelete",value:function(a){this.setState(this.state["delete"](a.id))}},{key:"fetch",value:function(a){var b=this.getState().get(a);return b?h.resolve(b):this.fetchFromServer(a)}},
{key:"fetchFromServer",value:function(a){var b=this;return e.read(a).then(function(){return b.getState().get(a)})}}]);return a}();n.exports=l.createStore(a(q),"ContentCollectionStore")},826:function(n,l,a){var k=a(21);n.exports={save:function(a,h){return k.put("/api/member-website-settings/"+a,h)}}},828:function(n,l,a){var k=a(21);n.exports={getTemplate:function(a){return k.get("/api/templates/"+a)}}},829:function(n,l,a){var k=a(21),f=a(147);n.exports={loadTemplateInstallations:function(){return k.get("/api/template-installations")},
setLiveInstallation:function(a){return k.post("/api/template/SetTemplate",f.stringify({installationId:a}))},updateInstallation:function(a){return k.put("/api/template-installations/"+a.id,a)},setHomepageCollectionId:function(a){return k.post("/api/template/SetHomepageCollection",f.stringify({collectionId:a}))}}},936:function(n,l,a){var k=a(318),f=a(102);YUI.add("squarespace-util-authenticated",function(a){a.namespace("Squarespace");a.Squarespace.UtilAuthenticated={userHasAccessPermission:function(a){return k.hasPermission(a)},
isSquarespaceAdmin:function(){return k.isAdmin()},isBetaFeatureEnabled:function(a){return f.isFeatureEnabled(a)}}},"1.0",{requires:["squarespace-util"]})},937:function(n,l){YUI.add("datatype-date-math",function(a,k){var f=a.Lang;a.mix(a.namespace("Date"),{isValidDate:function(a){return f.isDate(a)&&isFinite(a)&&"Invalid Date"!=a&&!isNaN(a)&&null!=a?!0:!1},areEqual:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()==b.getTime()},isGreater:function(a,b){return this.isValidDate(a)&&
this.isValidDate(b)&&a.getTime()>b.getTime()},isGreaterOrEqual:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()>=b.getTime()},isInRange:function(a,b,d){return this.isGreaterOrEqual(a,b)&&this.isGreaterOrEqual(d,a)},addDays:function(a,b){return new Date(a.getTime()+864E5*b)},addMonths:function(a,b){var d=a.getFullYear(),e=a.getMonth()+b,d=Math.floor(d+e/12),e=(e%12+12)%12,f=new Date(a.getTime());f.setFullYear(d);f.setMonth(e);return f},addYears:function(a,b){var d=a.getFullYear()+
b,e=new Date(a.getTime());e.setFullYear(d);return e},listOfDatesInMonth:function(a){if(!this.isValidDate(a))return[];var b=this.daysInMonth(a),d=a.getFullYear();a=a.getMonth();for(var e=[],f=1;f<=b;f++)e.push(new Date(d,a,f,12,0,0));return e},daysInMonth:function(a){if(!this.isValidDate(a))return 0;var b=a.getMonth(),d=[31,28,31,30,31,30,31,31,30,31,30,31];if(1!=b)return d[b];a=a.getFullYear();return 0===a%400?29:0===a%100?28:0===a%4?29:28}});a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",
{requires:["yui-base"]})},938:function(n,l){YUI.add("datatype-date-parse",function(a,k){a.mix(a.namespace("Date"),{parse:function(f){f=new Date(+f||f);return a.Lang.isDate(f)?f:null}});a.namespace("Parsers").date=a.Date.parse;a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2")},969:function(n,l,a){l=a(155);var k=a(31);a=a(975);n.exports={DEFAULT_COLLECTION_CONFIGURATIONS:{page:{collectionType:k.COLLECTION_TYPE_PAGE,typeName:"page",title:"Page",ordering:l.CUSTOM,icon:"page",addText:"Add Block"},
"gallery-block":{collectionType:k.GALLERY_BLOCK,typeName:"gallery-block",title:"Gallery Block",ordering:l.USER,acceptTypes:["image","video"]},products:{collectionType:k.PRODUCTS,typeName:"products",title:"Products",pageSize:20,ordering:l.USER,acceptTypes:["store_item"],view:a.PRODUCT_TABLE,icon:"products",addText:"Add Product"},"template-page":{collectionType:k.TEMPLATE_PAGE,title:"Template Page",icon:"projects"},"splash-page":{collectionType:k.SPLASH_PAGE,typeName:"splash-page",title:"Cover Page",
ordering:l.CUSTOM,icon:"splash-page"},subscription:{collectionType:k.COLLECTION_TYPE_SUBSCRIPTION,typeName:"subscription",title:"Subscription",ordering:l.CHRONOLOGICAL}},DEFAULT_COLLECTION_CONFIGURATION:{collectionType:k.COLLECTION_TYPE_GENERIC,supported:!0},DEFAULT_TEMPLATE_PAGE_CONFIGURATION:{icon:"template-page",collectionType:k.TEMPLATE_PAGE,supported:!0,folder:!1}}},975:function(n,l){n.exports={LIST:"list",GRID:"grid",PRODUCT:"product"}},1035:function(n,l,a){var k=a(5)["default"],f=a(2)["default"],
h=a(18);l=a(9);var b=a(557),d=a(144),e=a(146);a=a(44);var q=h.Map,g=function(){function a(){f(this,a);this.state=q();this.bindListeners({onUpdateAttributes:b.updateAttributes,unstageChanges:[d.insert,d["delete"],b.reset]});this.exportPublicMethods({fetchStaged:this.fetchStaged,getItemDirtyState:this.getItemDirtyState,getItemState:this.getItemState,unstageChanges:this.unstageChanges})}k(a,[{key:"onUpdateAttributes",value:function(a){var b=h.fromJS(a.attrs),d=this.state.get(a.itemId);d&&(b=d.merge(a.attrs));
this.setState(this.state.set(a.itemId,b))}},{key:"unstageChanges",value:function(a){a&&a.id&&this.setState(this.state["delete"](a.id))}},{key:"getItemState",value:function(a){if(a=this.state.get(a))return a.toJS()}},{key:"getItemDirtyState",value:function(a){return!!this.state.get(a)}},{key:"fetchStaged",value:function(a,b){var d=this.state.get(a);return e.fetch(a,!1,b).then(function(a){return d?a.merge(d.toJS()):a})}}]);return a}();n.exports=l.createStore(a(g),"YUIStagedContentItemStore")},1036:function(n,
l,a){l=a(9);a=new (a(540))(l);n.exports=a},1039:function(n,l){n.exports=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"").toLowerCase().replace(/[^a-z0-9_\s]+/g,"").replace(/[\s]+/g,"-")}},1060:function(n,l,a){var k=a(99),f=a(31),h=a(477);YUI.add("squarespace-content-collection-utils",function(a){a.namespace("Squarespace").ContentCollectionUtils={groupCollectionsByTypeName:function(d){for(var e={},f=0;f<d.length;f++){var g=d[f];if(!g.get("isDemoCollection")){g=g.get("typeName");if(!e[g]){var h=
k.getState().collectionConfigs[g];e[g]={title:h?h.title:"Unknown",collections:[]}}e[g].collections.push(d[f])}}return a.Object.values(e)},getIconClassNames:function(a){var b=a.getTemplateConfiguration(),h="";b&&b.get("supported")&&(h=b.get("icon"));""===h&&(b&&b.get("collectionType")===f.TEMPLATE_PAGE)&&(h="template-page");""===h&&(h=a.get("typeName"));return h},filterCollections:function(d,e){var h=["collectionType","ordering","folder","index"];return a.Squarespace.ContentCollectionCache.filter(function(g){if(a.Lang.isArray(e)&&
-1!==e.indexOf(g.get("id"))||g.get("isDemoCollection")&&g.get("type")!==f.TEMPLATE_PAGE)return!1;var k=!0,l=g.getTemplateConfiguration(),n;for(n in d)if(k=d[n],a.Lang.isArray(k)||(k=[k]),k=a.Array.some(k,function(d,e){var f;f=n;f=-1!==h.indexOf(f)?a.Lang.isValue(l)&&l.get(f)===d:g.get(f)===d;return f}),!k)break;return k})},getCollectionFilter:function(a,b){return a===f.PRODUCTS?{collectionType:a}:{collectionType:a,ordering:b}},isTemplatePage:function(a){return a.get("type")===f.TEMPLATE_PAGE},isIndex:function(a){return(a=
a.getTemplateConfiguration())&&a.get("folderBehavior")==h.INDEX?!0:!1},isFolder:function(a){return(a=a.getTemplateConfiguration())&&a.get("folder")},isVanillaFolder:function(a){return this.isFolder(a)&&!this.isIndex(a)},isAdjustablePageSizeCollection:function(d){var e=k.getCollectionConfig(d.get("typeName")),e=e&&e.forcePageSize,h=d.get("type")===f.COLLECTION_TYPE_GENERIC,g=this._getCollectionOrdering(d)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL;return!e&&!this.isIndex(d)&&!this.isFolder(d)&&
h&&g},isBlog:function(d){return!this.isGenericOrProduct(d)||this.isFolder(d)||this.isIndex(d)?!1:this._getCollectionOrdering(d)==a.Squarespace.CollectionOrdering.CHRONOLOGICAL?!0:!1},_getCollectionOrdering:function(a){return a.get("ordering")||a.getTemplateConfiguration().get("ordering")},isPostableByEmailAddress:function(d){var e=this._getCollectionOrdering(d);return!this.isIndex(d)&&!this.isFolder(d)&&d.get("type")===f.COLLECTION_TYPE_GENERIC&&e!==a.Squarespace.CollectionOrdering.CALENDAR&&e!==
a.Squarespace.CollectionOrdering.CUSTOM&&e!==a.Squarespace.CollectionOrdering.MUSIC_ALBUM},isSupportedByBookmarklet:function(d){return!this.isIndex(d)&&!this.isFolder(d)&&d.get("type")===f.COLLECTION_TYPE_GENERIC&&this._getCollectionOrdering(d)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL},hasSupportForInjectableCodePerItem:function(d){return!this.isIndex(d)&&!this.isFolder(d)&&d.get("type")===f.COLLECTION_TYPE_GENERIC&&this._getCollectionOrdering(d)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL},
hasSupportForSyndication:function(d){return!this.isIndex(d)&&!this.isFolder(d)&&d.get("type")===f.COLLECTION_TYPE_GENERIC&&this._getCollectionOrdering(d)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL},isDemoCollectionId:function(d){var e=k.getState().demoCollections;return!e?!1:!!a.Array.find(e,function(a){return a.collectionId==d})},isGenericOrProduct:function(a){a=a.getTemplateConfiguration();return!a?!1:!1===a.get("folder")&&(a.get("collectionType")===f.PRODUCTS||a.get("collectionType")===f.COLLECTION_TYPE_GENERIC)},
isProduct:function(a){var b=a.getTemplateConfiguration();return!b||a.get("isDemoCollection")?!1:!1===b.get("folder")&&b.get("collectionType")===f.PRODUCTS},isPage:function(a){a=a.getTemplateConfiguration();return!a?!1:!1===a.get("folder")&&a.get("collectionType")===f.COLLECTION_TYPE_PAGE},isNotCalendar:function(d){return d.getTemplateConfiguration().get("ordering")===a.Squarespace.CollectionOrdering.CALENDAR?!1:!0},usesDisplayIndex:function(d){return[a.Squarespace.CollectionOrdering.MUSIC_ALBUM,a.Squarespace.CollectionOrdering.USER].contains(d)},
getIdentifierForCollection:function(d){if(!a.Lang.isValue(d))return null;var e=d.get("typeName");!e&&d.get("type")===f.COLLECTION_TYPE_PAGE&&(d.set("typeName","page"),e="page");var h=d.get("type");if(h===f.COLLECTION_TYPE_GENERIC){var g=d.get("ordering");a.Lang.isValue(g)||(g=k.getCollectionConfig(e),e=k.getPageConfig(e),g=(g||e).ordering);if(a.Squarespace.ContentCollectionUtils.isIndex(d))return"INDEX";if(g===a.Squarespace.CollectionOrdering.USER)return"GALLERY";if(g===a.Squarespace.CollectionOrdering.CHRONOLOGICAL)return"BLOG";
if(g===a.Squarespace.CollectionOrdering.CALENDAR)return"CALENDAR";if(g===a.Squarespace.CollectionOrdering.MUSIC_ALBUM)return"MUSIC_ALBUM";if(g===a.Squarespace.CollectionOrdering.KNOWLEDGE_BASE)return"KNOWLEDGE_BASE"}if(h===f.COLLECTION_TYPE_PAGE)return"PAGE";if(h===f.PRODUCTS)return"PRODUCT";if(h===f.TEMPLATE_PAGE)return"TEMPLATE_PAGE"}}},"MY FATHER WAS A ROBOT, BUT HIS FATHER WAS A HUMAN",{requires:["squarespace-models-content-collection"]})},1064:function(n,l){YUI.add("squarespace-mixins-event-list",
function(a){a.namespace("Squarespace.Mixins");a.Squarespace.Mixins.EventList=a.Base.create("EventList",a.Base,[],{initializer:function(){a.Do.before(function(k){var f=a.Object.hasKey(k,"upcoming"),h=a.Object.hasKey(k,"past");if(f&&h)return new a.Do.AlterArgs("Parsing calendar-specific response",[[].concat(k.upcoming).concat(k.past)])},this,"parse",this)},getPastEvents:function(){var k=new Date;return this.filter(function(f){f=f.get("structuredContent");if(null===f)return!1;f=a.DataType.Date.parse(f.get("endDate"));
return a.DataType.Date.isGreater(k,f)})},getUpcomingEvents:function(){var k=new Date;return this.filter(function(f){f=f.get("structuredContent");if(null===f)return!1;f=a.DataType.Date.parse(f.get("endDate"));return!a.DataType.Date.isGreater(k,f)})}})},"1.0",{requires:["base","datatype-date","event-custom","json"]})},1065:function(n,l){YUI.add("squarespace-models-audio",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Audio=a.Base.create("Audio",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"Audio",validator:function(a){return"Audio"===a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},audioAssetUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},artistName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},lengthInMilliSeconds:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},bitRate:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},sampleRate:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1066:function(n,l){YUI.add("squarespace-models-calendar-event",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CalendarEvent=a.Base.create("CalendarEvent",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CalendarEvent",validator:function(a){return"CalendarEvent"===a},readOnly:!0},startDate:{valueFn:function(){var a=
new Date,f=a.getMinutes();a.setSeconds(0);a.setMilliseconds(0);30<=f?(a.addHours(1),a.setMinutes(0)):a.setMinutes(30);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber},endDate:{valueFn:function(){var a=new Date(this.get("startDate"));a.addHours(1);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1067:function(n,l){YUI.add("squarespace-models-check-in",function(a){a.namespace("Squarespace.Models");
a.Squarespace.Models.CheckIn=a.Base.create("CheckIn",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CheckIn",validator:function(a){return"CheckIn"===a},readOnly:!0},checkinId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},venueId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},venueName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},address:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},crossStreet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},city:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},state:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},country:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},postalCode:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
categoryPluralName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryShortName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryIcon:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1068:function(n,l,a){var k=a(31),f=a(477);YUI.add("squarespace-models-collection-configuration",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CollectionConfiguration=
a.Base.create("CollectionConfiguration",a.Model,[],{initializer:function(b){a.Lang.isBoolean(b.index)&&b.index?this.set("folderBehavior",f.INDEX):a.Lang.isBoolean(b.folder)&&b.folder&&this.set("folderBehavior",f.NONE)}},{ATTRS:{collectionType:{value:k.COLLECTION_TYPE_GENERIC},folder:{value:!1},folderBehavior:{},supported:{value:!0}}})},"1.0",{requires:["base","model"]})},1069:function(n,l,a){a(9);var k=a(290),f=a(264),h=a(99),b=a(491),d=a(813),e=a(31),q=a(139),g=a(280),t=a(155);YUI.add("squarespace-models-content-collection",
function(a){a.namespace("Squarespace.Models");var l=a.Squarespace.Models.ContentCollection=a.Base.create("Collection",a.Model,[],{initializer:function(b){this.publish("delete");this.items=b?new a.Squarespace.Models.ContentItemList({items:b.items||[],parent:this,limit:this.get("itemLimit")}):new a.Squarespace.Models.ContentItemList({parent:this,limit:this.get("itemLimit")});this._itemsEventHandle=this.items.after(["load","add","remove"],this._updateItemCount,this);this._syncFolderChange(this.get("folder"));
this.after("folderChange",function(a){this._syncFolderChange(a.newVal)});this._initialAttrs=this.getAttrs();this.unlistenToModelStore=d.listen(this._handleStoreChange.bind(this))},destructor:function(){this._itemsEventHandle.detach();this._itemsEventHandle=null;this.items.destroy();this.items=null},toDebugString:function(){return a.JSON.stringify(this.getAttrs(["navigationTitle","urlId","configureUrlId","id"]))},toJSON:function(){var a=this.constructor.superclass.toJSON.call(this);a.items=this.items.toJSON();
return a},parse:function(a){a=l.superclass.parse.apply(this,arguments);a.passwordProtected&&(a.password=q.PASSWORD_MASK);return a},sync:function(a,b,d){switch(a){case "create":this._ensureDemoCloneAndSave(d);break;case "delete":this.fire("delete",b);this._delete(d);break;case "read":this._read(b,d);break;case "update":this._ensureDemoCloneAndSave(d)}},load:function(b,d,e){"function"===typeof b&&(e=d,d=b,b={});if(this._readInProgress)this.onceAfter("load",d,e);else a.Model.prototype.load.call(this,
b,d?a.bind(d,e||this):null)},resetToLastRead:function(){return d.fetch(this.get("id")).then(function(b){var d=this.getAttrs();a.Object.keys(d).map(function(a){d[a]=void 0});b=a.merge(d,this._initialAttrs,this.parse(b.toJS()));this.setAttrs(b);this.set("dirty",!1)}.bind(this)).catch(this._errorHandler)},updateAttributes:function(a,b){this.setAttrs(a,b)},ensureProcessedItems:function(){var b=function(d){this.items.load({fields:["mediaProcessingState"]},function(){this.items.some(function(a){return a.get("mediaProcessingState")!==
g.READY})?a.later(500,this,b,d):d()}.bind(this))}.bind(this);return new a.Promise(function(a){b(a)}.bind(this))},_syncFolderChange:function(a){a&&this.set("dropdown",!0)},_ensureDemoCloneAndSave:function(b){if(this._shouldCloneCollection()){var d=this.toJSON();delete d.id;this.cloneToNewCollection({silent:!0}).then(a.bind(this._save,this,b,d))}else this._save(b)},_handleStoreChange:function(a){if(a=a.get(this.getId()))this.setAttrs(this.parse(a.toJS())),this.set("dirty",!1)},serialize:function(b){b=
a.merge(b,this.toJSON());b.collectionId=b.id;delete b.dirty;delete b.body;delete b.tags;delete b.categories;delete b.iTunesImage;delete b.items;a.Lang.isValue(b.mainImage)&&(b.mainImageId=a.instanceOf(b.mainImage,a.Squarespace.Models.ContentItem)?b.mainImage.get("id"):b.mainImage.id);delete b.mainImage;b.metadata&&b.metadata.albumCover&&delete b.metadata.albumCover;b.productQuickViewEnabled&&(b.features.productQuickView.isEnabled=b.productQuickViewEnabled,delete b.productQuickViewEnabled);b.relatedItemsEnabled&&
(b.features.relatedItems.isEnabled=b.relatedItemsEnabled,delete b.relatedItemsEnabled);return b},_errorHandler:function(a){console.error(a.stack)},_save:function(a,d){d=this.serialize(d);b.update(d).then(function(b){b.error?a(b,null):(this._initialAttrs=b,a(null,b))}).catch(this._errorHandler)},_delete:function(a){b.delete(this.get("id")).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler)},_read:function(b,e){this._readInProgress=!0;d.fetch(this.get("id")).then(function(b){var d=
this.parse(b.toJS());a.Squarespace.ContentCollectionUtils.usesDisplayIndex(d.ordering)?this._fetchItemCount(d.id).then(function(a){this._readInProgress=!1;d.itemCount=a;e(null,d)}.bind(this)):(this._readInProgress=!1,e(null,d))}.bind(this),function(a){this._readInProgress=!1;e(a,null)}.bind(this)).catch(this._errorHandler)},_updateItemCount:function(){a.Squarespace.ContentCollectionUtils.usesDisplayIndex(this.get("ordering"))&&(this.isNew()?this.set("itemCount",0):this._fetchItemCount(this.get("id")).then(function(a){this.set("itemCount",
a)}.bind(this)).catch(this._errorHandler))},_fetchItemCount:function(b){return new a.Promise(function(d,e){a.Data.get({url:"/api/content-collections/"+b+"/item-count",success:function(a){d(a)},failure:e},this)})},getTemplateConfiguration:function(){var b;b=this.get("typeName");var d=this.get("type");return(b=d===e.TEMPLATE_PAGE?h.getPageConfig(b):h.getCollectionConfig(b))?new a.Squarespace.Models.CollectionConfiguration(b):new a.Squarespace.Models.CollectionConfiguration({collectionType:d||e.COLLECTION_TYPE_GENERIC,
ordering:this.get("ordering"),folder:this.get("folder"),supported:!1})},cloneToNewCollection:function(b){return new a.Promise(a.bind(function(d,e){var f=a.Squarespace.Singletons.TemplateNavigationList.getItemByCollectionId(this.get("id"));this._cloneExampleContent(b).then(a.bind(function(a){f.set("collectionId",a);f.save(d)},this))},this))},_cloneExampleContent:function(b){b=b||{};var d=new a.Promise(a.bind(function(d,e){var g=this.get("id");a.Data.post({url:"/api/commondata/CopyCollection",data:{collectionId:this.get("id"),
processPointedCollectionItems:!!b.processPointedCollectionItems},success:function(b){this.setAttrs(a.merge({mainImageId:null,mainImage:null},b));var m=b.id;k.getHomepageCollectionId()===g?f.setHomepageCollectionId(m).then(function(a){a.error?e():d(m)}):d(m)}},this)},this));d.then(a.bind(function(){this.fire("clonedExampleContent",{silent:!!b.silent})},this));return d},_shouldCloneCollection:function(){return this.get("isDemoCollection")&&this.get("type")===e.COLLECTION_TYPE_PAGE},deleteTrashItems:function(b){a.Data.del({url:"/api/recycle-bin/collection/"+
this.get("id")+"/items",success:function(a){b(a,null)},failure:function(a){b(null,a)}})},getId:function(){return this.get("id")},_set:function(a,b,d){return this.constructor.superclass._set.call(this,a,b,d)}},{ATTRS:{dirty:{value:!1},body:{value:null},title:{validator:a.Lang.isString},navigationTitle:{validator:a.Lang.isString},description:{value:{html:"",source:""}},websiteId:{},id:{value:null},enabled:{value:!0,validator:a.Lang.isBoolean},deleted:{value:!1,validator:a.Lang.isBoolean},homepage:{validator:a.Lang.isBoolean},
starred:{validator:a.Lang.isBoolean},synchronizing:{validator:a.Lang.isBoolean},updatedOn:{},folder:{value:!1},isDemoCollection:{getter:function(){return a.Squarespace.ContentCollectionUtils.isDemoCollectionId(this.get("id"))}},itemCountExceeded:{getter:function(){return this.get("type")==e.PRODUCTS&&this.get("itemCount")>=this.get("maxItemCount")?!0:!1}},itemCount:{validator:a.Lang.isNumber},isEmpty:{getter:function(){return 0===this.items.size()}},maxItemCount:{getter:function(){return this.get("type")==
e.PRODUCTS?200:9999}},tags:{value:[],validator:a.Lang.isArray},categories:{value:[],validator:a.Lang.isArray},pageSize:{validator:a.Lang.isNumber,valueFn:function(){if(this.getTemplateConfiguration().get("ordering")===t.CHRONOLOGICAL)return 20}},itemLimit:{value:20,validator:a.Squarespace.AttrValidators.isNumber},ordering:{validator:function(b){return a.Object.values(t).contains(b)}},type:{validator:function(b){return a.Object.values(e).contains(b)}},typeName:{validator:a.Lang.isString},video:{validator:a.Lang.isObject},
fullUrl:{validator:a.Lang.isString},urlId:{validator:a.Squarespace.AttrValidators.isNullOrString},configureUrlId:{getter:function(b){b="";a.Lang.isValue(this.get("id"))&&(b=this.get("id")+"-configure");return b}},nextDisplayIndex:{getter:function(){return this.get("itemCount")}},regionName:{value:"default",validator:function(b){return!a.Lang.isString(b)||0===b.length?!1:a.Object.keys(h.getState().layouts).contains(b)}},postByEmailAddress:{getter:function(a){return a?a+"@"+Static.SQUARESPACE_CONTEXT.prodDomain:
""}}}});a.Squarespace.Models.ContentCollectionList=a.Base.create("Collections",a.ModelList,[],{model:a.Squarespace.Models.ContentCollection,sync:function(a,d,e){"read"==a&&b.readAll().then(function(a){e(null,a)},function(a){e(a,null)}).catch(this._errorHandler)},getCollectionById:function(b,d,e){var f=this.getById(b);f?d.call(e,f):(f=new a.Squarespace.Models.ContentCollection({id:b}),f.load({},function(){this.add(f);d.call(e,f)},this))},getCollectionFromData:function(b,d){if(!b)return null;if(!b.id)throw"getCollectionFromData needs at least an ID in the data to work.";
var e=this.getById(b.id);e?!d&&!a.Squarespace.UtilAuthenticated.isBetaFeatureEnabled("configurationPanels")&&e.setAttrs(b):e=this.add(new a.Squarespace.Models.ContentCollection(b));return e}});a.Squarespace.Utils.isInDamaskFrame()?a.Squarespace.ContentCollectionCache=a.config.win.top.Y.Squarespace.ContentCollectionCache:a.Squarespace.ContentCollectionCache=new a.Squarespace.Models.ContentCollectionList},"2.0",{requires:"base model model-list promise squarespace-content-collection-utils squarespace-models-collection-configuration squarespace-models-content-item squarespace-models-content-item-list squarespace-util squarespace-util-authenticated".split(" ")})},
1070:function(n,l,a){var k=a(157);YUI.add("squarespace-models-content-item-list",function(a){a.namespace("Squarespace.Models");var h=a.Squarespace.Models.ContentItemList=a.Base.create("ContentItemList",a.ModelList,[a.Squarespace.Mixins.EventList],{initializer:function(b){this.model=a.Squarespace.Models.ContentItem;b=b||{};(b=b.items)&&this.reset(b)},sync:function(a,d,e){switch(a){case "create":console.error("Squarespace.Models.ContentItemList: Create not implemented.");break;case "delete":console.error("Squarespace.Models.ContentItemList: Create not implemented.");
break;case "read":this._read(d,e);break;case "update":console.error("Squarespace.Models.ContentItemList: Create not implemented.")}},load:function(a,d){if(this.get("isChildItemList"))throw"Squarespace.Models.ContentItemList: Child items are loaded with their parent item. Loading them manually is not supported";h.superclass.load.call(this,a,d)},removeItems:function(b,d){this.remove(b,{source:"bulk-remove"});var e=a.Array.map(b,function(a){var b=a.get("id");a.destroy();return b},this);a.Data.post({url:"/api/commondata/RemoveItems",
data:{items:e},success:function(e){this.get("parent").load();a.Lang.isFunction(d)&&d(null,e);this.fire("bulk-remove",b)},failure:function(b){a.Lang.isFunction(d)&&d(b,null)}},this)},moveItems:function(b,d,e){if(this.get("isChildItemList"))throw"Squarespace.Models.ContentItemList: Moving child items is not currently supported.";var h=a.Array.map(b,function(a){return null!==this.getById(a.get("id"))?this.remove(this.getById(a.get("id"))):a},this),g=d.get("id"),k=d.items;k.load(a.bind(function(){k.add(h)},
this));var l=a.Array.map(h,function(a){a.set("collectionId",g);a.get("items").each(function(a){a.set("collectionId",g)});a.save();return a.get("id")},this);a.Data.post({url:"/api/commondata/MoveItems",data:{toCollectionId:g,items:l},success:function(g){this.get("parent").load();a.Lang.isFunction(e)&&e(null,g);this.fire("move-items",b,d)},failure:function(b){a.Lang.isFunction(e)&&e(b,null)}},this)},reorderItems:function(b,d,e){var h=this.get("parent"),g={};this.get("isChildItemList")?(g.collectionId=
h.get("collectionId"),g.parentId=h.get("id")):g.collectionId=h.get("id");var k=1===b.length,l;k?(b=b[0],l=this.indexOf(this.getById(b.get("id"))),this._reorder([b],d),0!==d&&(g.afterId=this.item(d-1).get("id")),g.itemId=b.get("id")):(this._reorder(b,d),0!==d&&(g.afterId=this.item(d-1).get("id")),b=a.Array.map(b,function(a){return a.get("id")},this),g.itemIds=a.JSON.stringify(b));var n=a.bind(function(b){a.Data.post({url:"/api/commondata/ReorderItems",data:b,success:function(b){k&&(0===l||0===d)&&
h.load();a.Lang.isUndefined(b.items)||a.Array.each(b.items,function(a,b){this.getById(a.id).set("displayIndex",a.displayIndex)},this);this.fire("reordered");a.Lang.isFunction(e)&&e(null,b);0<this._reorderQueue.size()&&n(thie._reorderQueue.next())},failure:function(b){a.Lang.isFunction(e)&&e(b,null)}},this)},this);this._reorderQueue||(this._reorderQueue=new a.Queue);this._reorderQueue.add(g);n(this._reorderQueue.next())},_reorder:function(a,d){var e=a.map(function(a){return this.getById(a.get("id"))},
this);this.remove(e,{onReorder:!0,source:"reorder"});this.add(e,{onReorder:!0,source:"reorder",index:d})},_read:function(b,d){a.Data.get({url:this._getReadUrl(),data:a.merge({limit:this.get("limit")},b),success:function(a){this.set("pagination",{hasNextPage:a.hasNextPage,hasPreviousPage:a.hasPreviousPage,nextPageStart:a.nextPageStart,previousPageStart:a.previousPageStart});d(null,a.results)},failure:function(a){d(a,null)}},this)},_getReadUrl:function(){var b=this.get("parent"),d=k.getTemplateForCollectionItems(b.get("ordering"),
b.get("type"));return a.Lang.sub(d,{collectionId:b.get("id")})}},{ATTRS:{parent:{value:null,validator:function(b){return b instanceof a.Squarespace.Models.ContentCollection||b instanceof a.Squarespace.Models.ContentItem}},isChildItemList:{getter:function(){return this.get("parent")instanceof a.Squarespace.Models.ContentItem}},pagination:{value:null},limit:{value:20,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:"base json model-list squarespace-content-collection-utils squarespace-mixins-event-list squarespace-models-content-collection squarespace-models-content-item squarespace-util".split(" ")})},
1071:function(n,l,a){var k=a(423),f=a(280),h=a(98),b=a(495),d=a(1036),e=a(144),q=a(146),g=a(557),t=a(1035),s=a(103);a(159);var w=a(157);YUI.add("squarespace-models-content-item",function(a){a.namespace("Squarespace.Models");var l=a.Squarespace.Models.ContentItem=a.Base.create("Item",a.Model,[],{sync:function(a,b,d){switch(a){case "delete":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._delete.bind(this,d));break;case "read":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._read.bind(this,
b,d));break;case "update":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._save.bind(this,d));break;case "create":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._create.bind(this,b,d))}},_errorHandler:function(a){console.error(a.stack)},_save:function(a,b){var d=this.serialize();d.id||this._create(a);d.collectionId?e.updateForCollection(d,b).then(function(b){this._initialAttrs=b;a(null,b)},function(b){a(b,null)}).catch(this._errorHandler):
e.update(d).then(function(b){this._initialAttrs=b;a(null,b)},function(b){a(b,null)}).catch(this._errorHandler)},_create:function(a,b,d){var f=this.serialize();f.collectionId?e.createForCollection(f,a,d).then(function(a){b(null,a)},function(a){b(a,null)}).catch(this._errorHandler):e.create(f,a).then(function(a){b(null,a)},function(a){b(a,null)}).catch(this._errorHandler)},_delete:function(a,b){e.delete(this.get("id"),b).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler)},
_read:function(a,b,d){this.get("isGlobalFakeContentItem")?this._readGlobalFakeContentItem(this.get("id"),a,b):(this._readInProgress=!0,a.forceReload?e.read(this.get("id"),!1,d).then(function(a){this._readInProgress=!1;a=a?a.toJS():a;b(null,a)}.bind(this),function(a){this._readInProgress=!1;b(a,null)}.bind(this)).catch(this._errorHandler):t.fetchStaged(this.get("id"),d).then(function(a){this._readInProgress=!1;b(null,a.toJS())}.bind(this),function(a){this._readInProgress=!1;b(a,null)}.bind(this)).catch(this._errorHandler))},
_readGlobalFakeContentItem:function(b,d,e){a.Data.get({url:"/api/rest/global-content-items/"+b,success:function(a){e(null,a)},failure:function(a){e(a,null)}},this)},_getUrlDeterminants:function(a){var b={recordType:this.get("recordType")};a&&(b.collectionOrdering=a.get("ordering"),b.collectionType=a.get("type"),b.collectionId=a.get("id"),b.parentId=this.get("parentId"));return b},resetToLastRead:function(){g.reset(this.toJSON())},initializer:function(a){this._needsJobListener()&&this._bindJobListener();
this._updateNextDisplayIndex();a=this.get("items");a.after(["add","remove"],function(){this._updateNextDisplayIndex();g.updateAttributes(this.getId(),{items:this.get("items")})},this);this.items=a;this._initialAttrs=this.getAttrs();this.bindListenersToContentStores()},destructor:function(){this._jobListener&&(this._jobListener.detach(),this._jobListener=null);this._actionListeners&&this._actionListeners.forEach(function(a){d.removeActionListener(a)})},bindListenersToContentStores:function(){this._actionListeners=
[];this._actionListeners.push(d.addActionListener(g.UPDATE_ATTRIBUTES,this._onUpdate.bind(this)));this._actionListeners.push(d.addActionListener(g.RESET,this._onReset.bind(this)));this._actionListeners.push(d.addActionListener(e.INSERT,this._onInsert.bind(this)))},_onUpdate:function(b){this.get("id")===a.Object.getValue(b,["itemId"])&&this._setAttrsInOrder(b.attrs)},_onReset:function(b){this.get("id")===a.Object.getValue(b,["id"])&&q.fetch(this.get("id")).then(function(b){var d=this.getAttrs();a.Object.keys(d).map(function(a){d[a]=
void 0});b=a.merge(d,this._initialAttrs,b.toJS());this._setAttrsInOrder(b)}.bind(this)).catch(this._errorHandler)},_onInsert:function(b){if(this.get("id")===a.Object.getValue(b,["id"])){var d=t.getItemState(this.getId());this._setAttrsInOrder(a.merge(b,d))}},_getParentCollection:function(){return new a.Promise(function(b,d){var e=this.get("collectionId");e?a.Squarespace.ContentCollectionCache.getCollectionById(e,b):b(null)}.bind(this))},_setAttrsInOrder:function(a){if(a&&a.mediaProcessingState){var b=
Object.keys(a).filter(function(a){return"mediaProcessingState"!==a}).reduce(function(b,d){b[d]=a[d];return b},{});this.setAttrs(b);this.set("mediaProcessingState",a.mediaProcessingState)}else this.setAttrs(a)},updateAttributes:function(a,b){this.setAttrs(a,b);g.updateAttributes(this.getId(),a)},toJSON:function(){var b=l.superclass.toJSON.call(this),d=b.structuredContent;a.Lang.isValue(d)&&(b.structuredContent=d.toJSON());b.items=b.items.toJSON();a.Lang.isObject(b.pushedServices)&&(b.pushedServices=
a.Object.keys(b.pushedServices));a.Lang.isObject(b.pendingPushedServices)&&(b.pendingPushedServices=a.Object.keys(b.pendingPushedServices));return b},serialize:function(){var a=this.toJSON();delete a.dirty;delete a.items;delete a.author;delete a.fullUrl;delete a.assetUrl;delete a.resolved;delete a.postItemInjectCode;delete a.promotedBlock;delete a.promotedBlockType;delete a.nextDisplayIndex;delete a.mediaIsUploading;delete a.hasFileData;delete a.isGlobalFakeContentItem;delete a.childrenGroups;delete a.colorData;
delete a.mainImage;delete a.gallery;this._normalizeDates(a);this._attachCommentingToData(a);this._attachWorkflowToData(a);this._updateStructuredContent(a);return a},_updateStructuredContent:function(b){b.structuredContent&&b.startDate&&(b.structuredContent=a.merge(b.structuredContent,{startDate:b.startDate,endDate:b.endDate}))},_getWorkflowStateForString:function(d){return a.Object.getValue({published:b.PUBLISHED,scheduled:b.SCHEDULED,needsreview:b.NEEDS_REVIEW,draft:b.DRAFT},d)},_attachWorkflowToData:function(b){a.Lang.isValue(b.workflow)&&
(b.workflowState=this._getWorkflowStateForString(b.workflow.state),b.publishOn=b.workflow.date,delete b.workflow)},_attachCommentingToData:function(b){a.Lang.isValue(b.commenting)&&(b.commentState=a.Squarespace.CommentStates["allow"===b.commenting.state?"ENABLED":"DISABLED"],b.commentDisableOn=b.commenting.date,delete b.commenting)},_normalizeDates:function(b){a.Array.each("addedOn publishOn updatedOn commentDisableOn startDate endDate".split(" "),function(d,e){a.Lang.isDate(b[d])&&(b[d]=b[d].getTime())},
this)},save:function(b,d){this.isNew()||!a.Lang.isObject(b)||!b.fields?l.superclass.save.call(this,b,d):this._saveFields(b.fields,d)},autoSave:function(b,d){a.Lang.isFunction(b)?(d=b,b={}):a.Lang.isValue(b)||(b={});b.headers=a.merge(b.headers,{"X-AutoSave":!0});this.save(b,d)},like:function(b){a.Data.post({url:"/api/content-items/"+this.getId()+"/sentiment/like",success:function(d){a.Lang.isFunction(b)&&b(null,d)},failure:function(d){a.Lang.isFunction(b)&&b(d,null)}},this)},dislike:function(b){a.Data.post({url:"/api/content-items/"+
this.getId()+"/sentiment/dislike",success:function(d){a.Lang.isFunction(b)&&b(null,d)},failure:function(d){a.Lang.isFunction(b)&&b(d,null)}},this)},clearFileData:function(b){this.setAttrs({systemDataId:null,systemDataOrigin:null,mediaProcessingState:null,systemDataSourceType:null,systemDataVariants:null,filename:null});this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(function(b){var d=this.get("id");b=w.getMainImageDeletionUrl(b).replace("{id}",d);a.Data.del({url:b,data:{itemId:d}})}.bind(this))},
clearChildGroup:function(b,d){a.Data.post({url:"/api/commondata/ClearChildGroup",data:{childType:b,itemId:this.get("id")},success:function(b){a.Lang.isFunction(d)&&d(null,b)},failure:function(b){a.Lang.isFunction(d)&&d(b,null)}})},createConfiguration:function(b){b=a.merge(b,{model:this,title:"Back",panelPathName:this.get("name")||"newItem"});return new (a.Squarespace.ContentItemEditorFactory.getEditor(this,{variant:a.Squarespace.ContentItemEditorVariants.PANEL}))(b)},getAssetUrlForFormat:function(b){return a.Lang.sub("{assetUrl}?format={format}",
{assetUrl:this.get("assetUrl"),format:b})},getId:function(){return this.get("id")},isLicensedAssetPreview:function(){return a.Lang.isValue(this.get("licensedAssetPreview"))},isLicensedAsset:function(){return a.Lang.isValue(this.get("licensedAssetId"))},getMainImageUploadUrl:function(a){this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(function(b){a(w.getMainImageUploadUrl(b).replace("{id}",this.get("id")))}.bind(this))},_needsJobListener:function(){var a=this.get("mediaProcessingState");
return a===f.QUEUED||a===f.PROCESSING},_bindJobListener:function(){Static&&Static.JOB_MANAGER&&(this._jobListener=a.config.win.Static.JOB_MANAGER.on("completed",function(b){var d=this.get("id"),e=b.get("data.contentItemId");b=b.get("data.globalContentItemId");e===d?(this.load({forceReload:!0}),this._jobListener.detach()):a.Lang.isValue(b)&&b===d&&(this._readGlobalFakeContentItem(b,{},function(a,b){a?console.log("error loading model",a):(this.set("assetUrl",b.assetUrl),this.setAttrs(b))}.bind(this)),
this._jobListener.detach())},this))},_updateNextDisplayIndex:function(){var a=0;this.get("items").each(function(b){b=b.get("displayIndex");b>=a&&(a=b+1)},this);this._set("nextDisplayIndex",a)},_saveFields:function(b,d){if(1<b.length)throw Error("Saving multiple fields is not currently supported.");var f=b[0],f={field:f,itemId:this.get("id"),value:this.get(f)};e.update(f).then(function(b){a.Lang.isFunction(d)&&d(null,b.item)},function(b){a.Lang.isFunction(d)&&d.call(b,null)}).catch(this._errorHandler)},
_getStructuredContentCtor:function(){switch(this.get("recordType")){case h.AUDIO:return a.Squarespace.Models.Audio;case h.EVENT:return a.Squarespace.Models.CalendarEvent;case h.CHECKIN:return a.Squarespace.Models.CheckIn;case h.VIDEO:return a.Squarespace.Models.Embed;case h.KBARTICLE:return a.Squarespace.Models.KBArticle;case h.LINK:return a.Squarespace.Models.Link;case h.QUOTE:return a.Squarespace.Models.Quote;case h.STORE_ITEM:return a.Squarespace.Models.StoreItem;case h.TWEET:return a.Squarespace.Models.Tweet;
default:return null}}},{ATTRS:{id:{value:null},collectionId:{value:null},parentId:{value:null},authorId:{valueFn:function(){var b=a.Object.getValue(Static,["SQUARESPACE_CONTEXT","authenticatedAccount"]);return b?b.id:null}},proxyForId:{value:null},recordType:{validator:a.Squarespace.AttrValidators.isValueIn(h),writeOnce:!0},childType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},addedOn:{valueFn:function(){return(new Date).getTime()},validator:a.Squarespace.AttrValidators.isNumber,
writeOnce:"initOnly"},updatedOn:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber,writeOnce:"initOnly"},publishOn:{valueFn:function(){return(new Date).getTime()},validator:a.Squarespace.AttrValidators.isNumber},unsaved:{value:null,validator:a.Squarespace.AttrValidators.isNullOrBoolean},urlId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},title:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},body:{value:null,setter:function(b){return a.merge(this.get("body"),
b)},validator:a.Squarespace.AttrValidators.isNullOrObject},excerpt:{value:{html:"",raw:!1},validator:a.Squarespace.AttrValidators.isNullOrObject},displayIndex:{value:0,validator:a.Squarespace.AttrValidators.isNumber},starred:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},passthrough:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},tags:{value:[],validator:a.Squarespace.AttrValidators.isArray},categories:{value:[],validator:a.Squarespace.AttrValidators.isArray},workflowState:{value:b.DRAFT,
validator:a.Squarespace.AttrValidators.isValueIn(b)},systemDataId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},systemDataVariants:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},systemDataOrigin:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},contentType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},filename:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},dataSize:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},
sourceUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},mediaProcessingState:{value:null,validator:a.Squarespace.AttrValidators.isNullOr(a.Squarespace.AttrValidators.isValueIn(f))},mediaFocalPoint:{value:{x:0.5,y:0.5},setter:function(b){if(a.Lang.isString(b)){b=b.split(",");var d=parseFloat(b[0]);b=parseFloat(b[1]);return{x:!isNaN(d)&&1>=d?d:0.5,y:!isNaN(b)&&1>=b?b:0.5}}return b}},colorData:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},clickthroughUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},location:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},customContent:{value:null},likeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},dislikeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},publicCommentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentState:{valueFn:function(){var a=s.getState().toJS(),
b=a.commentsEnabled;return a.commentEnableByDefault&&b?k.ENABLED:k.DISABLED},validator:a.Squarespace.AttrValidators.isValueIn(k)},commentDisableOn:{valueFn:function(){var b=a.Object.getValue(Static,["SQUARESPACE_CONTEXT","websiteSettings","commentDisableAfterDaysDefault"]);return b?a.Date.addDays(new Date,b).getTime():null},validator:a.Squarespace.AttrValidators.isNullOrNumber},pushedServices:{value:{},validator:a.Squarespace.AttrValidators.isObject},shareStates:{value:[]},structuredContent:{valueFn:function(){var b=
this._getStructuredContentCtor();return a.Lang.isNull(b)?null:new b},setter:function(b){if(b instanceof a.Squarespace.Models.StructuredContent)return b;var d=this._getStructuredContentCtor();return a.Lang.isNull(d)?null:new d(b)}},items:{valueFn:function(){return new a.Squarespace.Models.ContentItemList({parent:this})},setter:function(b){var d=this.get("items");return a.Lang.isValue(d)?(d.reset(b),d):b instanceof a.Squarespace.Models.ContentItemList?b:new a.Squarespace.Models.ContentItemList({items:b,
parent:this})}},childrenGroups:{value:{},validator:a.Squarespace.AttrValidators.isObject},author:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},fullUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},assetUrl:{value:null,getter:function(b){return a.Squarespace.UrlUtils.isSecure()?a.Squarespace.UrlUtils.securifyURL(b):b},validator:a.Squarespace.AttrValidators.isNulLOrString},resolved:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},postItemInjectCode:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlock:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlockType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},nextDisplayIndex:{value:0,validator:a.Squarespace.AttrValidators.isNumber,readOnly:!0},mediaIsUploading:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},hasFileData:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},isGlobalFakeContentItem:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},
licensedAssetPreview:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},licensedAssetId:{value:null,validator:a.Lang.isString},name:{getter:function(){return this.get("id")}},isPusher:{value:!0,readOnly:!0,validator:a.Squarespace.AttrValidators.isBoolean},dirty:{getter:function(){return t.getItemDirtyState(this.get("id"))}}}})},"1.0",{requires:"base json model squarespace-attr-validators squarespace-model-sync-rest squarespace-models-audio squarespace-models-calendar-event squarespace-models-check-in squarespace-models-content-collection squarespace-models-content-item-list squarespace-models-embed squarespace-models-instagram squarespace-models-kb-article squarespace-models-link squarespace-models-quote squarespace-models-store-item squarespace-models-tweet squarespace-url-utils squarespace-util".split(" ")})},
1072:function(n,l){YUI.add("squarespace-models-embed",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Embed=a.Base.create("Embed",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Embed",validator:function(a){return"Embed"===a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},oembed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},overlay:{value:!0,validator:a.Squarespace.AttrValidators.isBoolean}}})},"1.0",
{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1073:function(n,l){YUI.add("squarespace-models-instagram",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Instagram=a.Base.create("Instagram",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Instagram",validator:function(a){return"Instagram"===a},readOnly:!0},instagramId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
imageLowResolutionUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageThumbnailUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageStandardUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},width:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},height:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},filter:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userProfilePictureUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},userAccountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userDisplayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1074:function(n,l){YUI.add("squarespace-models-kb-article",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.KBArticle=a.Base.create("KBArticle",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"KBArticle",validator:function(a){return"KBArticle"===a},readOnly:!0},upVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber},downVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1075:function(n,l){YUI.add("squarespace-models-link",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Link=a.Base.create("Link",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"Link",validator:function(a){return"Link"===a},readOnly:!0},url:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1077:function(n,l){YUI.add("squarespace-models-quote",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Quote=a.Base.create("Quote",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Quote",validator:function(a){return"Quote"===
a},readOnly:!0},quote:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1078:function(n,l,a){var k=a(132);YUI.add("squarespace-models-store-item",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.StoreItem=a.Base.create("StoreItem",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"StoreItem",validator:function(a){return"StoreItem"===a},readOnly:!0},
productType:{value:k.PHYSICAL,validator:a.Squarespace.AttrValidators.isValueIn(k)},priceCents:{value:0,validator:a.Squarespace.AttrValidators.isNumber},salePriceCents:{value:0,validator:a.Squarespace.AttrValidators.isNumber},onSale:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},variants:{value:[],validator:a.Squarespace.AttrValidators.isArray},originalVariants:{value:[],validator:a.Squarespace.AttrValidators.isArray},variantOptionOrdering:{value:[],validator:a.Squarespace.AttrValidators.isArray},
additionalFieldsFormId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},customAddButtonText:{value:"Add to Cart",validator:a.Squarespace.AttrValidators.isString},useCustomAddButtonText:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},additionalFieldsForm:{value:null}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1079:function(n,l){YUI.add("squarespace-models-structured-content",function(a){a.namespace("Squarespace.Models");
a.Squarespace.Models.StructuredContent=a.Base.create("StructuredContent",a.Model,[],{},{ATTRS:{_type:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString,writeOnce:"initOnly"}}})},"1.0",{requires:["base","model","squarespace-attr-validators"]})},1080:function(n,l){YUI.add("squarespace-models-tweet",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Tweet=a.Base.create("Tweet",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Tweet",validator:function(a){return"Tweet"===
a},readOnly:!0},tweetId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},displayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},tweet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrlHttps:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userLocation:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},2941:function(n,l){YUI.add("squarespace-simple-liking",function(a){var k=a.config.win.Static;a.Squarespace.SimpleLike={TEXT_LIKE_VERB_NONE:"No Likes",TEXT_LIKE_VERB_SINGULAR:"Like",
TEXT_LIKE_VERB_PLURAL:"Likes",TEXT_LIKE_ACTIVATED:"You like this",TEXT_LIKE_SUGGEST:"Click to like",attached:!1,attach:function(){if(!this.attached){this.attached=!0;var f;try{localStorage&&((f=a.JSON.parse(localStorage.getItem("squarespace-likes")))||(f={}),localStorage.setItem("squarespace-likes",a.JSON.stringify(f)))}catch(h){f={}}this.eventHandlers=[];var b=a.delegate("click",function(b){b=b.currentTarget;var e=b.getAttribute("data-item-id");if(e){for(var h=0;5>h;++h)a.Squarespace.SimpleLike.burst(b);
if(!b.hasClass("clicked")&&!b.hasClass("float")){h=parseInt(b.getAttribute("data-like-count"),10);b.setAttribute("data-like-count",h+1);a.Squarespace.SimpleLike.renderLikeCount(b);b.addClass("clicked");try{localStorage&&(f[e]=!0,localStorage.setItem("squarespace-likes",a.JSON.stringify(f)))}catch(g){console.warn("Unable to save like to local storage: ",g)}(new a.Squarespace.Models.ContentItem({id:e})).like(function(b,d){d.commited&&console.log("Like was counted!");a.Lang.isValue(b)&&b.crumbFail&&
!a.Squarespace.Utils.areCookiesEnabled()&&alert("You need to enable cookies to be able to like something.")})}}},"body",".sqs-simple-like");this.eventHandlers.push(b);a.all(".sqs-simple-like").each(function(b){var e=b.getAttribute("data-item-id");e&&(k.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled||b.remove(),f[e]&&b.addClass("clicked"),a.Squarespace.SimpleLike.renderLikeCount(b))})}},detach:function(){this.attached=!1;this.eventHandlers.forEach(function(a){a.detach()})},renderLikeCount:function(f){var h=
f.getAttribute("data-item-id"),b=f.getAttribute("data-like-count");f=f.one(".like-count");h&&f&&(h="",h=0===b?a.Squarespace.SimpleLike.TEXT_LIKE_VERB_NONE:1==b?"1 "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_SINGULAR:b+" "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_PLURAL,f.setContent(h))},burst:function(f){var h=f.cloneNode(!0);h.one(".like-count")&&h.one(".like-count").remove();var b=f.one(".like-icon");if(!b||"none"===b.getStyle("display"))b=f;h.setStyles({position:"absolute",left:b.getX()+"px",top:b.getY()+
"px"});a.one(a.config.doc.body).append(h);f=new a.Anim({node:h,duration:2,easing:a.Easing.easeOut});f.set("to",{curve:a.Squarespace.SimpleLike.randomCurve(h)});f.on("end",function(){this.get("node").remove()});f.run();h.removeClass("clicked");h.addClass("float")},randomCurve:function(a){var h=[],b=Math.floor(2*Math.random())?1:-1,d=Math.floor(2*Math.random())?1:-1,e=a.getX();a=a.getY();for(var k=0;3>k;++k)e+=Math.floor(30*Math.random())*b,a+=Math.floor(30*Math.random())*d,h.push([e,a]);return h}};
a.config.win.Squarespace.onInitialize(a,function(){k.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled&&a.Squarespace.SimpleLike.attach()});a.config.win.Squarespace.onDestroy(a,function(){!0===a.Squarespace.SimpleLike.attached&&a.Squarespace.SimpleLike.detach()})},1,{requires:["anim","json","node","squarespace-models-content-item","squarespace-util"]})}});
