webpackJsonp([37],{0:function(m,n,c){c(2939)},2939:function(m,n){YUI.add("squarespace-share-buttons",function(c){function k(a,b){try{var p=a[e.URL_KEYS[b]],d=f.createElement("a");d.href=p;var c=d.pathname.replace(/^\/|\/$/g,"");d.remove();var g=a[e.COUNT_KEYS[b]]||0,h=f.querySelectorAll('.Share[data-item-path="'+c+'"] .Share-buttons-item[data-service="'+b+'"]');Array.prototype.forEach.call(h,function(a){a.querySelector(".Share-buttons-item-count").innerHTML=g})}catch(k){console.error(k)}}function l(a){this.container=
a.container;this.like=a.like;this.ID=a.id;this.PATH=a.path;this.SHARE_LINK=g.Static.SQUARESPACE_CONTEXT.website.baseUrl+"/"+this.PATH;this.shareButtonClickHandler=this.shareButtonClickHandler.bind(this)}var g=c.config.win,f=c.config.win.document,e={CALLBACK_NAMESPACE:"SquarespaceShareButtonCounts"+Date.now(),SERVICE_NAMES:["facebook","linkedin","pinterest"],COUNT_KEYS:{facebook:"shares",linkedin:"count",pinterest:"count"},URL_KEYS:{facebook:"id",linkedin:"url",pinterest:"url"},API_BASE_URLS:{facebook:"https://graph.facebook.com/?id=",
linkedin:"https://www.linkedin.com/countserv/count/share?url=",pinterest:"https://widgets.pinterest.com/v1/urls/count.json?source=6&url="}};g[e.CALLBACK_NAMESPACE]={facebook:function(a){k(a,"facebook")},linkedin:function(a){k(a,"linkedin")},pinterest:function(a){k(a,"pinterest")}};l.prototype={init:function(){e.SERVICE_NAMES.forEach(function(a){this.getCount(a)},this);this.like&&(this.syncLikes(),this.isInLocalStorage(this.like)&&this.like.classList.add("is-active"));this.container.addEventListener("click",
this.shareButtonClickHandler)},destroy:function(){this.container.removeEventListener("click",this.shareButtonClickHandler)},getCount:function(a){var b=f.createElement("script");b.src=[e.API_BASE_URLS[a],this.SHARE_LINK,"&callback=",e.CALLBACK_NAMESPACE,".",a].join("");f.body.appendChild(b);f.body.removeChild(b)},shareButtonClickHandler:function(a){a.preventDefault();for(a=a.target;a.parentElement&&a!==this.container&&!a.classList.contains("Share-buttons-item");)a=a.parentElement;if(a.getAttribute("data-service"))if(this.like&&
a===this.like)this.onLike();else this.onShare(a)},syncLikes:function(a){var b=this.like.querySelector(".Share-buttons-item-label");a||(a=parseInt(this.like.getAttribute("data-like-count"),10));b.innerHTML=1===a?a+" Like":a+" Likes";this.like.setAttribute("data-like-count",a)},onLike:function(){if(!this.like.classList.contains("is-active")){var a=[window.location.origin,"/api/content-items/",this.ID,"/sentiment/like","?crumb="+this.readCookie("crumb")].join(""),b=new XMLHttpRequest;b.onreadystatechange=
this.likeRequestHandler.bind(this);b.open("POST",a,!0);b.send()}},likeRequestHandler:function(a){if(!(a.target.readyState!==XMLHttpRequest.DONE||200!==a.target.status))try{!0===JSON.parse(a.target.responseText).commited&&(this.incrementLike(),this.addToLocalStorage(this.like))}catch(b){console.error("ERROR LIKING:",b)}},incrementLike:function(){var a=parseInt(this.like.getAttribute("data-like-count"),10),a=a+1;this.like.classList.add("is-active");this.syncLikes(a)},onShare:function(a){window.open(a.getAttribute("href"),
"Share","width=420,height=230,dialog");if(a=a.querySelector(".Share-buttons-item-count"))a.innerHTML=parseInt(a.innerHTML,10)+1},onSharePopupClose:function(a,b){var c=0,d=setInterval(function(){if(a.closed||150<c)clearInterval(d),this.getCount(b);c++}.bind(this),200)},getLocalStorageKey:function(a){var b=a.getAttribute("data-service");return a===this.like?"squarespace-likes":b?"squarespace-shares-"+b:null},isInLocalStorage:function(a){if(!localStorage||!JSON)return!1;a=this.getLocalStorageKey(a);
if(a=JSON.parse(localStorage.getItem(a)))return!0===a[this.ID]?!0:!1},addToLocalStorage:function(a){if(!localStorage||!JSON)return!1;a=this.getLocalStorageKey(a);var b=JSON.parse(localStorage.getItem(a))||{};b[this.ID]=!0;localStorage.setItem(a,JSON.stringify(b))},readCookie:function(a){a+="=";for(var b=f.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null}};var h;g.Squarespace.onInitialize(c,
function(){h=[];c.all(".Share").each(function(a){a=a.getDOMNode();a=new l({container:a,id:a.getAttribute("data-item-identifier"),path:a.getAttribute("data-item-path"),like:a.querySelector(".Share-buttons-item--like")});a.init();h.push(a)})});g.Squarespace.onDestroy(c,function(){h.forEach(function(a){a.destroy()});h=null})},"MY FATHER WAS A ROBOT, BUT HIS FATHER WAS A HUMAN",{requires:[]})}});
