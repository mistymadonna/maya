webpackJsonp([24],{0:function(x,B,f){f(1642);f(1312);f(1332);f(1331);f(938);f(774);f(937);f(1333);f(1217)},774:function(x,B){YUI.add("datatype-date-format",function(f,s){var b=function(d,e,a){"undefined"===typeof a&&(a=10);for(e+="";parseInt(d,10)<a&&1<a;a/=10)d=e+d;return d.toString()},a={formats:{a:function(d,e){return e.a[d.getDay()]},A:function(d,e){return e.A[d.getDay()]},b:function(d,e){return e.b[d.getMonth()]},B:function(d,e){return e.B[d.getMonth()]},C:function(d){return b(parseInt(d.getFullYear()/
100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(d){return b(parseInt(a.formats.G(d)%100,10),0)},G:function(d){var e=d.getFullYear(),b=parseInt(a.formats.V(d),10);d=parseInt(a.formats.W(d),10);d>b?e++:0===d&&52<=b&&e--;return e},H:["getHours","0"],I:function(d){d=d.getHours()%12;return b(0===d?12:d,0)},j:function(d){var e=new Date(""+d.getFullYear()+"/1/1 GMT");d=new Date(""+d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate()+" GMT")-e;d=parseInt(d/6E4/60/24,10)+1;return b(d,0,100)},k:["getHours",
" "],l:function(d){d=d.getHours()%12;return b(0===d?12:d," ")},m:function(d){return b(d.getMonth()+1,0)},M:["getMinutes","0"],p:function(d,e){return e.p[12<=d.getHours()?1:0]},P:function(d,e){return e.P[12<=d.getHours()?1:0]},s:function(d,e){return parseInt(d.getTime()/1E3,10)},S:["getSeconds","0"],u:function(d){d=d.getDay();return 0===d?7:d},U:function(d){var e=parseInt(a.formats.j(d),10);d=6-d.getDay();e=parseInt((e+d)/7,10);return b(e,0)},V:function(d){var e=parseInt(a.formats.W(d),10),u=(new Date(""+
d.getFullYear()+"/1/1")).getDay(),e=e+(4<u||1>=u?0:1);53===e&&4>(new Date(""+d.getFullYear()+"/12/31")).getDay()?e=1:0===e&&(e=a.formats.V(new Date(""+(d.getFullYear()-1)+"/12/31")));return b(e,0)},w:"getDay",W:function(d){var e=parseInt(a.formats.j(d),10);d=7-a.formats.u(d);e=parseInt((e+d)/7,10);return b(e,0,10)},y:function(d){return b(d.getFullYear()%100,0)},Y:"getFullYear",z:function(d){d=d.getTimezoneOffset();var e=b(parseInt(Math.abs(d/60),10),0),a=b(Math.abs(d%60),0);return(0<d?"-":"+")+e+
a},Z:function(d){var e=d.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,"");4<e.length&&(e=a.formats.z(d));return e},"%":function(d){return"%"}},aggregates:{c:"locale",D:"%m/%d/%y",F:"%Y-%m-%d",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"},format:function(d,e){e=e||{};if(!f.Lang.isDate(d))return f.Lang.isValue(d)?d:"";var u,M;u=e.format||"%Y-%m-%d";M=f.Intl.get("datatype-date-format");for(var n=function(e,d){var b=a.aggregates[d];
return"locale"===b?M[d]:b},v=function(e,u){var n=a.formats[u];switch(f.Lang.type(n)){case "string":return d[n]();case "function":return n.call(d,d,M);case "array":if("string"===f.Lang.type(n[0]))return b(d[n[0]](),n[1]);default:return u}};u.match(/%[cDFhnrRtTxX]/);)u=u.replace(/%([cDFhnrRtTxX])/g,n);u=u.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,v);n=v=void 0;return u}};f.mix(f.namespace("Date"),a);f.namespace("DataType");f.DataType.Date=f.Date},"3.17.2",{lang:"ar ar-JO ca ca-ES da da-DK de de-AT de-DE el el-GR en en-AU en-CA en-GB en-IE en-IN en-JO en-MY en-NZ en-PH en-SG en-US es es-AR es-BO es-CL es-CO es-EC es-ES es-MX es-PE es-PY es-US es-UY es-VE fi fi-FI fr fr-BE fr-CA fr-FR hi hi-IN hu id id-ID it it-IT ja ja-JP ko ko-KR ms ms-MY nb nb-NO nl nl-BE nl-NL pl pl-PL pt pt-BR ro ro-RO ru ru-RU sv sv-SE th th-TH tr tr-TR vi vi-VN zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-Hant-TW".split(" ")})},
937:function(x,B){YUI.add("datatype-date-math",function(f,s){var b=f.Lang;f.mix(f.namespace("Date"),{isValidDate:function(a){return b.isDate(a)&&isFinite(a)&&"Invalid Date"!=a&&!isNaN(a)&&null!=a?!0:!1},areEqual:function(a,d){return this.isValidDate(a)&&this.isValidDate(d)&&a.getTime()==d.getTime()},isGreater:function(a,d){return this.isValidDate(a)&&this.isValidDate(d)&&a.getTime()>d.getTime()},isGreaterOrEqual:function(a,d){return this.isValidDate(a)&&this.isValidDate(d)&&a.getTime()>=d.getTime()},
isInRange:function(a,d,e){return this.isGreaterOrEqual(a,d)&&this.isGreaterOrEqual(e,a)},addDays:function(a,d){return new Date(a.getTime()+864E5*d)},addMonths:function(a,d){var e=a.getFullYear(),b=a.getMonth()+d,e=Math.floor(e+b/12),b=(b%12+12)%12,f=new Date(a.getTime());f.setFullYear(e);f.setMonth(b);return f},addYears:function(a,d){var e=a.getFullYear()+d,b=new Date(a.getTime());b.setFullYear(e);return b},listOfDatesInMonth:function(a){if(!this.isValidDate(a))return[];var d=this.daysInMonth(a),
e=a.getFullYear();a=a.getMonth();for(var b=[],f=1;f<=d;f++)b.push(new Date(e,a,f,12,0,0));return b},daysInMonth:function(a){if(!this.isValidDate(a))return 0;var d=a.getMonth(),e=[31,28,31,30,31,30,31,31,30,31,30,31];if(1!=d)return e[d];a=a.getFullYear();return 0===a%400?29:0===a%100?28:0===a%4?29:28}});f.namespace("DataType");f.DataType.Date=f.Date},"3.17.2",{requires:["yui-base"]})},938:function(x,B){YUI.add("datatype-date-parse",function(f,s){f.mix(f.namespace("Date"),{parse:function(b){b=new Date(+b||
b);return f.Lang.isDate(b)?b:null}});f.namespace("Parsers").date=f.Date.parse;f.namespace("DataType");f.DataType.Date=f.Date},"3.17.2")},1217:function(x,B){YUI.add("squarespace-calendar-day-template",function(f){var s=f.Handlebars;(function(){var b=s.template;(s.templates=s.templates||{})["calendar-day.html"]=b(function(a,d,e,b,f){function n(e,g){return""}function v(G,g){var d,c,b;d='\n\t<div class="background';if((b=e["if"].call(G,(c=(c=(c=G.events,null==c||!1===c?c:c[0]),null==c||!1===c?c:c.structuredContent),
null==c||!1===c?c:c.startDate),{hash:{},inverse:h.noop,fn:h.program(5,l,g),data:g}))||0===b)d+=b;return d+='">\n\t\t<a href="'+r((c=(c=(c=G.events,null==c||!1===c?c:c[0]),null==c||!1===c?c:c.fullUrl),typeof c===z?c.apply(G):c))+'" class="background-image-link"><img data-src="'+r((c=(c=(c=G.events,null==c||!1===c?c:c[0]),null==c||!1===c?c:c.assetUrl),typeof c===z?c.apply(G):c))+'" data-image-dimensions="'+r((c=(c=(c=G.events,null==c||!1===c?c:c[0]),null==c||!1===c?c:c.originalSize),typeof c===z?c.apply(G):
c))+'" data-load="false" class="background-image"></a>\n\t</div>\n\t'}function l(e,g){return" background--iseventscollection"}function q(e,g){return" itemlist--iseventscollection"}function D(g,d){var b,c,a;b='\n\t<li class="item';if((c=e["if"].call(g,g.isMultiday,{hash:{},inverse:h.noop,fn:h.program(11,m,d),data:d}))||0===c)b+=c;if((c=e["if"].call(g,g.isSubsequentDayOfMultidayEvent,{hash:{},inverse:h.noop,fn:h.program(13,k,d),data:d}))||0===c)b+=c;b+='">\n\t\t<a href="';(c=e.fullUrl)?c=c.call(g,{hash:{},
data:d}):(c=g.fullUrl,c=typeof c===z?c.apply(g):c);b+=r(c)+'" class="item-link">\n\t\t\t<span class="item-time item-time--12hr">';a={hash:{},data:d};b+=r((c=e["calendar-compact-time-format"]||g["calendar-compact-time-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.startDate),a):A.call(g,"calendar-compact-time-format",(c=g.structuredContent,null==c||!1===c?c:c.startDate),a)))+'&nbsp;</span>\n\t\t\t<span class="item-time item-time--24hr">';a={hash:{format:"%H:%M"},data:d};b+=r((c=e["date-format"]||
g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.startDate),a):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.startDate),a)))+'&nbsp;</span>\n\t\t\t<span class="item-title">';(c=e.title)?c=c.call(g,{hash:{},data:d}):(c=g.title,c=typeof c===z?c.apply(g):c);b+=r(c)+"</span>\n\t\t\t";if((c=e["if"].call(g,g.isMultiday,{hash:{},inverse:h.noop,fn:h.program(15,H,d),data:d}))||0===c)b+=c;return b+"\n\t\t</a>\n\t</li>\n\t"}function m(e,g){return" item--multiday"}function k(e,
g){return" item--ongoing"}function H(g,d){var b,c;b={hash:{format:"%b %e"},data:d};return b='<span class="item-enddate">&nbsp;'+(r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.endDate),b):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.endDate),b)))+"</span>")}function w(e,g){return" flyoutitemlist--iseventscollection"}function s(e,g){return" \n\t\tflyoutitemlist--hasmorecontent\n\t"}function t(g,d){var b,c,a;b="\n\t\t";a={hash:{},inverse:h.noop,
fn:h.program(22,x,d),data:d};(c=e.events)?c=c.call(g,a):(c=g.events,c=typeof c===z?c.apply(g):c);e.events||(c=N.call(g,c,a));if(c||0===c)b+=c;return b+"\n\t"}function x(g,d){var b,c;b="\n\t\t\t";if((c=e["if"].call(g,g.excerpt,{hash:{},inverse:h.program(25,E,d),fn:h.program(23,B,d),data:d}))||0===c)b+=c;return b+"\n\t\t"}function B(e,g){return" \n\t\t\t\tflyoutitemlist--hasmorecontent\n\t\t\t"}function E(g,d){var b,c,a;b="\n\t\t\t\t";if((a=e["if"].call(g,(c=g.location,null==c||!1===c?c:c.addressLine1),
{hash:{},inverse:h.noop,fn:h.program(26,C,d),data:d}))||0===a)b+=a;return b+"\n\t\t\t"}function C(e,g){return" \n\t\t\t\t\tflyoutitemlist--hasmorecontent\n\t\t\t\t"}function I(d,b){var a,c,f;a='\n\t<li class="flyoutitem';if((c=e["if"].call(d,d.isMultiday,{hash:{},inverse:h.noop,fn:h.program(29,J,b),data:b}))||0===c)a+=c;if((c=e["if"].call(d,d.isSubsequentDayOfMultidayEvent,{hash:{},inverse:h.noop,fn:h.program(31,K,b),data:b}))||0===c)a+=c;a+='">\n\t\t<h1 class="flyoutitem-title"><a href="';(c=e.fullUrl)?
c=c.call(d,{hash:{},data:b}):(c=d.fullUrl,c=typeof c===z?c.apply(d):c);a+=r(c)+'" class="flyoutitem-link">';(c=e.title)?c=c.call(d,{hash:{},data:b}):(c=d.title,c=typeof c===z?c.apply(d):c);a+=r(c);if((c=e["if"].call(d,d.isMultiday,{hash:{},inverse:h.noop,fn:h.program(33,F,b),data:b}))||0===c)a+=c;a+='&nbsp;<span class="flyoutitem-link-arrow"></span></a></h1>\n\t\t<div class="flyoutitem-datetime flyoutitem-datetime--12hr">\n\t\t\t';if((c=e["if"].call(d,d.isMultiday,{hash:{},inverse:h.program(37,L,
b),fn:h.program(35,O,b),data:b}))||0===c)a+=c;a+='\n\t\t</div>\n\t\t<div class="flyoutitem-datetime flyoutitem-datetime--24hr">\n\t\t\t';if((c=e["if"].call(d,d.isMultiday,{hash:{},inverse:h.program(41,g,b),fn:h.program(39,y,b),data:b}))||0===c)a+=c;a+='\n\t\t</div>\n\t\t<div class="flyoutitem-location">\n\t\t\t';if((f=e["if"].call(d,(c=d.location,null==c||!1===c?c:c.addressTitle),{hash:{},inverse:h.noop,fn:h.program(43,R,b),data:b}))||0===f)a+=f;a+="\n\t\t\t";if((f=e["if"].call(d,(c=d.location,null==
c||!1===c?c:c.addressLine1),{hash:{},inverse:h.noop,fn:h.program(45,S,b),data:b}))||0===f)a+=f;a+="\n\t\t\t";if((f=e["if"].call(d,(c=d.location,null==c||!1===c?c:c.addressLine2),{hash:{},inverse:h.noop,fn:h.program(47,T,b),data:b}))||0===f)a+=f;a+="\n\t\t\t";if((f=e["if"].call(d,(c=d.location,null==c||!1===c?c:c.addressCountry),{hash:{},inverse:h.noop,fn:h.program(49,U,b),data:b}))||0===f)a+=f;a+="\n\t\t</div>\n\t\t";if((f=e["if"].call(d,d.excerpt,{hash:{},inverse:h.noop,fn:h.program(51,V,b),data:b}))||
0===f)a+=f;return a+"\n\t</li>\n\t"}function J(e,g){return" flyoutitem--multiday"}function K(e,g){return" flyoutitem--ongoing"}function F(g,d){var b,c;b={hash:{format:"%b %e"},data:d};return b=' <span class="flyoutitem-enddate">'+(r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.endDate),b):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.endDate),b)))+"</span>")}function O(g,d){var b,c,a;a={hash:{format:"%a, %b %e, %l:%M%P"},data:d};b=
"\n\t\t\t\t"+(r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.startDate),a):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.startDate),a)))+" &ndash; ");a={hash:{format:"%a, %b %e, %l:%M%P"},data:d};return b+=r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.endDate),a):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.endDate),a)))+"\n\t\t\t"}function L(g,d){var b,c,a;a={hash:{format:"%l:%M%P"},
data:d};b="\n\t\t\t\t"+(r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.startDate),a):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.startDate),a)))+" &ndash; ");a={hash:{format:"%l:%M%P"},data:d};return b+=r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.endDate),a):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.endDate),a)))+"\n\t\t\t"}function y(g,d){var b,c,a;a={hash:{format:"%a, %b %e, %H:%M"},
data:d};b="\n\t\t\t\t"+(r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.startDate),a):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.startDate),a)))+" &ndash; ");a={hash:{format:"%a, %b %e, %H:%M"},data:d};return b+=r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.endDate),a):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.endDate),a)))+"\n\t\t\t"}function g(g,b){var d,c,
a;a={hash:{format:"%H:%M"},data:b};d="\n\t\t\t\t"+(r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.startDate),a):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.startDate),a)))+" &ndash; ");a={hash:{format:"%H:%M"},data:b};return d+=r((c=e["date-format"]||g["date-format"],c?c.call(g,(c=g.structuredContent,null==c||!1===c?c:c.endDate),a):A.call(g,"date-format",(c=g.structuredContent,null==c||!1===c?c:c.endDate),a)))+"\n\t\t\t"}function R(g,
e){var d,c;return d=""+('<div class="flyoutitem-location-addresstitle">'+r((c=(c=g.location,null==c||!1===c?c:c.addressTitle),typeof c===z?c.apply(g):c))+"</div>")}function S(g,e){var d,c;return d=""+('<div class="flyoutitem-location-address1">'+r((c=(c=g.location,null==c||!1===c?c:c.addressLine1),typeof c===z?c.apply(g):c))+"</div>")}function T(g,e){var d,c;return d=""+('<div class="flyoutitem-location-address2">'+r((c=(c=g.location,null==c||!1===c?c:c.addressLine2),typeof c===z?c.apply(g):c))+"</div>")}
function U(g,e){var d,c;return d=""+('<div class="flyoutitem-location-addresscountry">'+r((c=(c=g.location,null==c||!1===c?c:c.addressCountry),typeof c===z?c.apply(g):c))+"</div>")}function V(g,d){var b,c;b='<div class="flyoutitem-excerpt">';(c=e.excerpt)?c=c.call(g,{hash:{},data:d}):(c=g.excerpt,c=typeof c===z?c.apply(g):c);if(c||0===c)b+=c;return b+"</div>"}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,a.helpers);f=f||{};a="";var p,h=this,z="function",r=this.escapeExpression,A=e.helperMissing,
N=e.blockHelperMissing;if((b=e["if"].call(d,(p=(p=d.events,null==p||!1===p?p:p[0]),null==p||!1===p?p:p.systemDataId),{hash:{},inverse:h.noop,fn:h.program(1,function(g,d){var b,c,a;b="\n\t";if((a=e["if"].call(g,(c=(c=g.events,null==c||!1===c?c:c[1]),null==c||!1===c?c:c.title),{hash:{},inverse:h.program(4,v,d),fn:h.program(2,n,d),data:d}))||0===a)b+=a;return b+"\n"},f),data:f}))||0===b)a+=b;b={hash:{format:"%a"},data:f};a=a+'\n\n<div class="marker">\n\t<div class="marker-dayname">'+(r((p=e["day-of-month-format"]||
d["day-of-month-format"],p?p.call(d,d.date,b):A.call(d,"day-of-month-format",d.date,b)))+'</div>\n\t<div class="marker-daynum">');b={hash:{format:"%e"},data:f};a+=r((p=e["day-of-month-format"]||d["day-of-month-format"],p?p.call(d,d.date,b):A.call(d,"day-of-month-format",d.date,b)))+"</div>\n</div>\n\n";if((b=e["if"].call(d,d.events,{hash:{},inverse:h.noop,fn:h.program(7,function(g,d){var b,c,a,f;b='\n<ul class="itemlist';if((a=e["if"].call(g,(c=(c=(c=g.events,null==c||!1===c?c:c[0]),null==c||!1===
c?c:c.structuredContent),null==c||!1===c?c:c.startDate),{hash:{},inverse:h.noop,fn:h.program(8,q,d),data:d}))||0===a)b+=a;b+='">\n\t';f={hash:{},inverse:h.noop,fn:h.program(10,D,d),data:d};(a=e.events)?a=a.call(g,f):(a=g.events,a=typeof a===z?a.apply(g):a);e.events||(a=N.call(g,a,f));if(a||0===a)b+=a;b+='\n</ul>\n\n<ul class="\n\tflyoutitemlist\n\t';if((a=e["if"].call(g,(c=(c=(c=g.events,null==c||!1===c?c:c[0]),null==c||!1===c?c:c.structuredContent),null==c||!1===c?c:c.startDate),{hash:{},inverse:h.noop,
fn:h.program(17,w,d),data:d}))||0===a)b+=a;b+="\n\t";if((a=e["if"].call(g,(c=(c=g.events,null==c||!1===c?c:c[1]),null==c||!1===c?c:c.title),{hash:{},inverse:h.program(21,t,d),fn:h.program(19,s,d),data:d}))||0===a)b+=a;b+='\n">\n\t';f={hash:{},inverse:h.noop,fn:h.program(28,I,d),data:d};(a=e.events)?a=a.call(g,f):(a=g.events,a=typeof a===z?a.apply(g):a);e.events||(a=N.call(g,a,f));if(a||0===a)b+=a;return b+='\n</ul>\n\n<div class="itemcount">'+r((c=(c=g.events,null==c||!1===c?c:c.length),typeof c===
z?c.apply(g):c))+"</div>\n"},f),data:f}))||0===b)a+=b;return a+="\n"})})();f.Handlebars.registerPartial("calendar-day.html".replace("/","."),s.templates["calendar-day.html"])},"1.0",{requires:["handlebars-base"]})},1312:function(x,B,f){var s=f(98);YUI.add("squarespace-calendar-core-renderer",function(b){var a=function(b){return b.recordType===s.EVENT?b.structuredContent.startDate:b.addedOn};b.Squarespace.SquarespaceCalendar=b.Base.create("SquarespaceCalendar",b.Calendar,[],{initializer:function(){this._fetchEvents()},
bindUI:function(){b.Calendar.superclass.bindUI.call(this);this.before("dateChange",this._clearEvents,this);this.after("dateChange",this._fetchEvents,this);this.after("collectionIdChange",this._fetchEvents,this)},_clearEvents:function(){this.set("events",[])},_fetchEvents:function(){var a=this.get("date"),a=b.DataType.Date.format(a,{format:"%B-%Y",locale:"en"});b.Data.get({url:this._getFetchUrl(a),success:this._parseResponse,failure:this._handleResponseError},this)},_parseResponse:function(b){this.set("events",
b)},_handleResponseError:function(b){this.fire("fetchEventsFailure");console.error("Failed fetch data: "+b)},_getFetchUrl:function(a){var d=this.get("collectionId"),f=this.get("pageCollectionId");a="/api/open/GetItemsByMonth?collectionId="+d+"&month="+a;b.Lang.isValue(f)&&(a+="&pageCollectionId="+f);return a}},{ATTRS:{events:{value:[],validator:b.Lang.isArray},collectionId:{value:null,validator:b.Lang.isString},pageCollectionId:{value:null,validator:b.Lang.isString}}});b.Squarespace.CalendarBaseRenderer=
b.Base.create("CalendarBaseRenderer",b.Plugin.Base,[],{initializer:function(b){this.host=b.host;this.afterHostEvent("eventsChange",this._onEventsChange,this)},_onEventsChange:function(a){var d=null;b.Lang.isArray(a.newVal)&&0<a.newVal.length&&(d=b.bind(this._calendarFilterFunction,this));this.host.set("customRenderer",{rules:{all:"events"},filterFunction:d})},_calendarFilterFunction:function(b,a,d){d=this.host.get("events");d=this._getEventsOfDay(d,b);this._sortEvents(d);this._renderDay(b,a,d)},_renderDay:function(b,
a,d){0<d.length&&a.setStyle("background","gray")},_sortEvents:function(b){b.sort(function(b,d){var e=a(b);return a(d)-e})},_getEventsOfDay:function(a,d){var f=b.DataType.Date.format(d,{format:"%Y-%m-%d"});return b.Lang.isArray(a)&&0<a.length?b.Array.filter(a,function(b){return this._isEventPartOfDay(b,f)},this):[]},_isEventPartOfDay:function(a,d){var f,n;n=a.structuredContent;if(a.recordType!==s.EVENT)return f=b.Squarespace.DateUtils.dateFormat(a.addedOn,{format:"%Y-%m-%d"}),f===d;f=b.Squarespace.DateUtils.dateFormat(n.startDate,
{format:"%Y-%m-%d"});n=b.Squarespace.DateUtils.dateFormat(n.endDate,{format:"%Y-%m-%d"});return d==f||d==n||new Date(d)>new Date(f)&&new Date(d)<new Date(n)?!0:!1},_getEventDisplayTime:function(d){d=a(d);return b.Squarespace.DateUtils.dateFormat(d,{format:"%l:%M%P"}).trim()},_isSameDay:function(a,d){if(a.recordType!==s.EVENT)return!0;var f=b.Squarespace.DateUtils.dateFormat(a.structuredContent.startDate,{format:"%Y-%m-%d"}),n=b.DataType.Date.format(d,{format:"%Y-%m-%d"});return f===n}},{NS:"calendarPlugin"});
var d=b.namespace("Squarespace").SquarespaceCalendarRenderer=b.Base.create("squarespaceCalendarRenderer",b.Squarespace.CalendarBaseRenderer,[],{initializer:function(a){this._loadingSpinner=new b.Squarespace.Spinner({color:"dark",size:"extra-large",render:this.host.get("contentBox")});this.onceAfterHostEvent("eventsChange",this._renderCalendar);this.onceAfterHostEvent("fetchEventsFailure",function(){this._loadingSpinner&&this._loadingSpinner.destroy(!0);window.SQUARESPACE_LOGIN&&window.SQUARESPACE_LOGIN.isLoggedIn()&&
this.host.get("boundingBox").ancestor().append('<div class="sqs-state-message">Please choose a valid collection for this calendar to display. It is possible that this calendar is pointing to a deleted collection.</div>');this.host.destroy()},this);this._bindUI()},destructor:function(){this._loadingSpinner&&this._loadingSpinner.destroy(!0);this._resizeEvent.detach()},_bindUI:function(){this._resizeEvent=b.on("resize",this._syncUI,b.config.win,this)},_syncUI:function(){this.host.get("contentBox").getDOMNode()&&
(this._fitToContainer(),this._setupCells(),this.host.get("contentBox").hasClass(d.COMPACT_LAYOUT_CLASS)||this._loadImages(),this._setFlyoutHeights())},_onEventsChange:function(a){a=b.bind(this._calendarFilterFunction,this);this.host.set("customRenderer",{rules:{all:{all:{all:{0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"}}}},filterFunction:a});this.get("isRendered")&&this._syncUI()},_calendarFilterFunction:function(a,b,f){d.superclass._calendarFilterFunction.apply(this,
arguments);0<=f.indexOf("sunday")?b.addClass("sunday"):0<=f.indexOf("monday")?b.addClass("monday"):0<=f.indexOf("friday")?b.addClass("friday"):0<=f.indexOf("saturday")&&b.addClass("saturday")},_fitToContainer:function(){var a=this.host.get("contentBox");a.toggleClass(d.SMALL_LAYOUT_CLASS,770>=a.get("offsetWidth"));a.toggleClass(d.COMPACT_LAYOUT_CLASS,600>=a.get("offsetWidth"));a.toggleClass(d.TINY_LAYOUT_CLASS,300>=a.get("offsetWidth"))},_setupHeader:function(){this.host.get("contentBox").one(".yui3-calendar-header-label").wrap("<h1></h1>")},
_setupCells:function(){var a=this.host.get("contentBox").one("table");a.setStyle("width",null);this.cellSpacing=parseInt(a.getComputedStyle("borderSpacing"),10);var b=7*parseInt((a.get("offsetWidth")-8*this.cellSpacing)/7,10)+8*this.cellSpacing;a.setStyle("width",b);a.all("td").setStyles({width:parseInt(b/7,10)-this.cellSpacing,height:parseInt(b/7,10)-this.cellSpacing})},_loadImages:function(){this.host.get("contentBox").all("img[data-src]").each(function(a){ImageLoader.load(a,{mode:"fill",load:!0})},
this)},_setFlyoutHeights:function(){this.host.get("contentBox").all(".flyoutitemlist--hasmorecontent").each(function(a){var b=a.ancestor("tr"),d=this._getRowHeight(b),b=a.ancestor("tr:nth-child(4)")||a.ancestor("tr:nth-child(5)")||a.ancestor("tr:nth-child(6)")?this._getRowHeight(b.previous("tr")):this._getRowHeight(b.next("tr"));a.setStyle("height",d+b+this.cellSpacing)},this);this.host.get("contentBox").all("tr").removeAttribute("data-row-height")},_getRowHeight:function(a){if(a.getAttribute("data-row-height"))return parseInt(a.getAttribute("data-row-height"),
10);var b=a.get("offsetHeight");a.setAttribute("data-row-height",b);return b},_renderCalendar:function(){this._setupHeader();this._syncUI();this._loadingSpinner&&this._loadingSpinner.destroy(!0);this.host.get("boundingBox").addClass("loaded");this.set("isRendered",!0)},_renderDay:function(a,b,d){this.setAttrs({date:a,node:b,events:this._groupEvents(d,a)});this._highlightToday();this._highlightDaysWithEvents();a=this._getTemplateInfo().template(this._getHBTemplateContext());b.empty().append(a)},_highlightToday:function(){var a=
new Date,a=new Date(a.setMinutes(a.getMinutes()+b.Squarespace.DateUtils.getTimeOffsetToWebsiteTimezone(a)));this.get("date").setHours(0,0,0,0)===a.setHours(0,0,0,0)&&this.get("node").addClass(d.TODAY_CLASS)},_highlightDaysWithEvents:function(){0<this.get("events").length&&this.get("node").addClass(d.HAS_EVENT_CLASS)},_getTemplateInfo:function(){return{template:b.Squarespace.UITemplates.getCompiledTemplate(d.HANDLEBARS_TEMPLATE)}},_getHBTemplateContext:function(){return{date:this.get("date"),events:this.get("events")}},
_groupEvents:function(a,d){var f=[],n=[];b.Array.each(a,function(a){this._isSameDay(a,d)?f.unshift(a):(a.isSubsequentDayOfMultidayEvent=!0,n.unshift(a));this._isMultidayEvent(a)&&(a.isMultiday=!0)},this);return n.concat(f)},_isMultidayEvent:function(a){if(a.recordType===s.EVENT){var d=a.structuredContent;a=b.Squarespace.DateUtils.dateFormat(d.startDate,{format:"%d%m%Y"});d=b.Squarespace.DateUtils.dateFormat(d.endDate,{format:"%d%m%Y"});return a!==d}}},{NS:"calendarPlugin",TODAY_CLASS:"today",HAS_EVENT_CLASS:"has-event",
SMALL_LAYOUT_CLASS:"small-layout",COMPACT_LAYOUT_CLASS:"compact-layout",TINY_LAYOUT_CLASS:"tiny-layout",HANDLEBARS_TEMPLATE:"calendar-day.html"});b.Handlebars.registerHelper("day-of-month-format",function(a,d){return b.DataType.Date.format(a,{format:d.hash.format||"%B %e, %Y"})});b.Handlebars.registerHelper("date-format",function(a,d){return b.Squarespace.DateUtils.dateFormat(a,{format:d.hash.format||"%B %e, %Y"})});b.Handlebars.registerHelper("calendar-compact-time-format",function(a){var d="PM"==
b.Squarespace.DateUtils.dateFormat(a,{format:"%p"})?"p":"a";return 0===(new Date(a)).getMinutes()?b.Squarespace.DateUtils.dateFormat(a,{format:"%l"})+d:b.Squarespace.DateUtils.dateFormat(a,{format:"%l:%M"})+d})},"1.0",{requires:"base calendar node squarespace-attr-validators squarespace-calendar-day-template squarespace-date-utils squarespace-spinner squarespace-ui-base squarespace-ui-templates squarespace-widgets-alert".split(" ")})},1331:function(x,B){YUI.add("calendar-base",function(f,s){function b(){b.superclass.constructor.apply(this,
arguments)}var a=f.ClassNameManager.getClassName,d=a("calendar","grid"),e=a("calendar","left-grid"),u=a("calendar","right-grid"),x=a("calendar","body"),n=a("calendar","header"),v=a("calendar","header-label"),l=a("calendar","weekdayrow"),q=a("calendar","weekday"),D=a("calendar","column-hidden"),m=a("calendar","day-selected"),k=a("calendar","selection-disabled"),H=a("calendar","row"),w=a("calendar","day"),P=a("calendar","prevmonth-day"),t=a("calendar","nextmonth-day"),B=a("calendar","anchor"),Q=a("calendar",
"pane"),a=a("calendar","status"),E=f.Lang,C=E.sub,I=f.Array.each,J=f.Object.each,K=f.Array.indexOf,F=f.Object.hasKey,O=f.Object.setValue,L=f.Object.isEmpty,y=f.DataType.Date;f.CalendarBase=f.extend(b,f.Widget,{_paneProperties:{},_paneNumber:1,_calendarId:null,_selectedDates:{},_rules:{},_filterFunction:null,_storedDateCells:{},initializer:function(){this._paneProperties={};this._calendarId=f.guid("calendar");this._selectedDates={};L(this._rules)&&(this._rules={});this._storedDateCells={}},renderUI:function(){this.get("contentBox").appendChild(this._initCalendarHTML(this.get("date")));
this.get("showPrevMonth")&&this._afterShowPrevMonthChange();this.get("showNextMonth")&&this._afterShowNextMonthChange();this._renderCustomRules();this._renderSelectedDates();this.get("boundingBox").setAttribute("aria-labelledby",this._calendarId+"_header")},bindUI:function(){this.after("dateChange",this._afterDateChange);this.after("showPrevMonthChange",this._afterShowPrevMonthChange);this.after("showNextMonthChange",this._afterShowNextMonthChange);this.after("headerRendererChange",this._afterHeaderRendererChange);
this.after("customRendererChange",this._afterCustomRendererChange);this.after("enabledDatesRuleChange",this._afterCustomRendererChange);this.after("disabledDatesRuleChange",this._afterCustomRendererChange);this.after("focusedChange",this._afterFocusedChange);this.after("selectionChange",this._renderSelectedDates);this._bindCalendarEvents()},_getSelectedDatesList:function(){var a=[];J(this._selectedDates,function(d){J(d,function(d){J(d,function(d){a.push(d)},this)},this)},this);return a},_getSelectedDatesInMonth:function(a){var d=
a.getFullYear();a=a.getMonth();return F(this._selectedDates,d)&&F(this._selectedDates[d],a)?f.Object.values(this._selectedDates[d][a]):[]},_isNumInList:function(a,d){if("all"===d)return!0;for(var b=d.split(","),f=b.length,e;f--;)if(e=b[f].split("-"),2===e.length&&a>=parseInt(e[0],10)&&a<=parseInt(e[1],10)||1===e.length&&parseInt(b[f],10)===a)return!0;return!1},_getRulesForDate:function(a){var d=a.getFullYear(),b=a.getMonth(),f=a.getDate();a=a.getDay();var e=this._rules,m=[],p,h,k,w;for(p in e)if(this._isNumInList(d,
p))if(E.isString(e[p]))m.push(e[p]);else for(h in e[p])if(this._isNumInList(b,h))if(E.isString(e[p][h]))m.push(e[p][h]);else for(k in e[p][h])if(this._isNumInList(f,k))if(E.isString(e[p][h][k]))m.push(e[p][h][k]);else for(w in e[p][h][k])this._isNumInList(a,w)&&E.isString(e[p][h][k][w])&&m.push(e[p][h][k][w]);return m},_matchesRule:function(a,d){return 0<=K(this._getRulesForDate(a),d)},_canBeSelected:function(a){var d=this.get("enabledDatesRule"),b=this.get("disabledDatesRule");return d?this._matchesRule(a,
d):b?!this._matchesRule(a,b):!0},selectDates:function(a){y.isValidDate(a)?this._addDateToSelection(a):E.isArray(a)&&this._addDatesToSelection(a);return this},deselectDates:function(a){a?y.isValidDate(a)?this._removeDateFromSelection(a):E.isArray(a)&&this._removeDatesFromSelection(a):this._clearSelection();return this},_addDateToSelection:function(a,d){a=this._normalizeTime(a);if(this._canBeSelected(a)){var b=a.getFullYear(),f=a.getMonth(),e=a.getDate();F(this._selectedDates,b)?F(this._selectedDates[b],
f)||(this._selectedDates[b][f]={}):(this._selectedDates[b]={},this._selectedDates[b][f]={});this._selectedDates[b][f][e]=a;this._selectedDates=O(this._selectedDates,[b,f,e],a);d||this._fireSelectionChange()}},_addDatesToSelection:function(a){I(a,this._addDateToSelection,this);this._fireSelectionChange()},_addDateRangeToSelection:function(a,d){var b=6E4*(d.getTimezoneOffset()-a.getTimezoneOffset()),f=a.getTime(),e=d.getTime(),m;f>e?(m=f,f=e,e=m+b):e-=b;for(b=f;b<=e;b+=864E5)f=new Date(b),f.setHours(12),
this._addDateToSelection(f,b);this._fireSelectionChange()},_removeDateFromSelection:function(a,b){var d=a.getFullYear(),f=a.getMonth(),e=a.getDate();F(this._selectedDates,d)&&(F(this._selectedDates[d],f)&&F(this._selectedDates[d][f],e))&&(delete this._selectedDates[d][f][e],b||this._fireSelectionChange())},_removeDatesFromSelection:function(a){I(a,this._removeDateFromSelection,this);this._fireSelectionChange()},_removeDateRangeFromSelection:function(a,d){for(var b=a.getTime(),f=d.getTime();b<=f;b+=
864E5)this._removeDateFromSelection(new Date(b),b);this._fireSelectionChange()},_clearSelection:function(a){this._selectedDates={};this.get("contentBox").all("."+m).removeClass(m).setAttribute("aria-selected",!1);a||this._fireSelectionChange()},_fireSelectionChange:function(){this.fire("selectionChange",{newSelection:this._getSelectedDatesList()})},_restoreModifiedCells:function(){var a=this.get("contentBox"),b;for(b in this._storedDateCells)a.one("#"+b).replace(this._storedDateCells[b]),delete this._storedDateCells[b]},
_renderCustomRules:function(){this.get("contentBox").all("."+w+",."+t).removeClass(k).setAttribute("aria-disabled",!1);if(!L(this._rules)){var a,b;for(a=0;a<this._paneNumber;a++)b=y.addMonths(this.get("date"),a),b=y.listOfDatesInMonth(b),I(b,f.bind(this._renderCustomRulesHelper,this))}},_renderCustomRulesHelper:function(a){var b=this.get("enabledDatesRule"),d=this.get("disabledDatesRule"),f;f=this._getRulesForDate(a);0<f.length?((b&&0>K(f,b)||!b&&d&&0<=K(f,d))&&this._disableDate(a),E.isFunction(this._filterFunction)&&
(b=this._dateToNode(a),this._storedDateCells[b.get("id")]=b.cloneNode(!0),this._filterFunction(a,b,f))):b&&this._disableDate(a)},_renderSelectedDates:function(){this.get("contentBox").all("."+m).removeClass(m).setAttribute("aria-selected",!1);var a,b;for(a=0;a<this._paneNumber;a++)b=y.addMonths(this.get("date"),a),b=this._getSelectedDatesInMonth(b),I(b,f.bind(this._renderSelectedDatesHelper,this))},_renderSelectedDatesHelper:function(a){this._dateToNode(a).addClass(m).setAttribute("aria-selected",
!0)},_disableDate:function(a){this._dateToNode(a).addClass(k).setAttribute("aria-disabled",!0)},_dateToNode:function(a){var b=a.getDate(),d=0,f=b%7;a=(12+a.getMonth()-this.get("date").getMonth())%12;var e=this._paneProperties[this._calendarId+"_pane_"+a].cutoffCol;switch(f){case 0:d=6<=e?12:5;break;case 1:d=6;break;case 2:d=0<e?7:0;break;case 3:d=1<e?8:1;break;case 4:d=2<e?9:2;break;case 5:d=3<e?10:3;break;case 6:d=4<e?11:4}return this.get("contentBox").one("#"+this._calendarId+"_pane_"+a+"_"+d+"_"+
b)},_nodeToDate:function(a){a=a.get("id").split("_").reverse();var b=parseInt(a[2],10);a=parseInt(a[0],10);var d=y.addMonths(this.get("date"),b),b=d.getFullYear(),d=d.getMonth();return new Date(b,d,a,12,0,0,0)},_bindCalendarEvents:function(){},_normalizeDate:function(a){return a?new Date(a.getFullYear(),a.getMonth(),1,12,0,0,0):null},_normalizeTime:function(a){return a?new Date(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0,0):null},_getCutoffColumn:function(a,b){return 6-(this._normalizeDate(a).getDay()-
b+7)%7},_turnPrevMonthOn:function(a){var b=a.get("id"),d=y.daysInMonth(y.addMonths(this._paneProperties[b].paneDate,-1)),f;this._paneProperties[b].hasOwnProperty("daysInPrevMonth")||(this._paneProperties[b].daysInPrevMonth=0);if(d!==this._paneProperties[b].daysInPrevMonth){this._paneProperties[b].daysInPrevMonth=d;for(f=5;0<=f;f--)a.one("#"+b+"_"+f+"_"+(f-5)).set("text",d--)}},_turnPrevMonthOff:function(a){var b=a.get("id"),d;this._paneProperties[b].daysInPrevMonth=0;for(d=5;0<=d;d--)a.one("#"+b+
"_"+d+"_"+(d-5)).setContent("&nbsp;")},_cleanUpNextMonthCells:function(a){var b=a.get("id");a.one("#"+b+"_6_29").removeClass(t);a.one("#"+b+"_7_30").removeClass(t);a.one("#"+b+"_8_31").removeClass(t);a.one("#"+b+"_0_30").removeClass(t);a.one("#"+b+"_1_31").removeClass(t)},_turnNextMonthOn:function(a){var b=1,d=a.get("id"),f=this._paneProperties[d].daysInMonth,e=this._paneProperties[d].cutoffCol,m;for(m=f-22;m<e+7;m++)a.one("#"+d+"_"+m+"_"+(m+23)).set("text",b++).addClass(t);m=e;for(31===f&&1>=e?m=
2:30===f&&0===e&&(m=1);m<e+7;m++)a.one("#"+d+"_"+m+"_"+(m+30)).set("text",b++).addClass(t)},_turnNextMonthOff:function(a){var b=a.get("id"),d=this._paneProperties[b].daysInMonth,f=this._paneProperties[b].cutoffCol,e;for(e=d-22;12>=e;e++)a.one("#"+b+"_"+e+"_"+(e+23)).setContent("&nbsp;").addClass(t);e=0;for(31===d&&1>=f?e=2:30===d&&0===f&&(e=1);12>=e;e++)a.one("#"+b+"_"+e+"_"+(e+30)).setContent("&nbsp;").addClass(t)},_afterShowNextMonthChange:function(){var a=this.get("contentBox").one("#"+this._calendarId+
"_pane_"+(this._paneNumber-1));this._cleanUpNextMonthCells(a);this.get("showNextMonth")?this._turnNextMonthOn(a):this._turnNextMonthOff(a)},_afterShowPrevMonthChange:function(){var a=this.get("contentBox").one("#"+this._calendarId+"_pane_0");this.get("showPrevMonth")?this._turnPrevMonthOn(a):this._turnPrevMonthOff(a)},_afterHeaderRendererChange:function(){this.get("contentBox").one("."+v).setContent(this._updateCalendarHeader(this.get("date")))},_afterCustomRendererChange:function(){this._restoreModifiedCells();
this._renderCustomRules()},_afterDateChange:function(){var a=this.get("contentBox"),b=a.one("."+n).one("."+v),f=a.all("."+d),e=this.get("date"),m=0;a.setStyle("visibility","hidden");b.setContent(this._updateCalendarHeader(e));this._restoreModifiedCells();f.each(function(a){this._rerenderCalendarPane(y.addMonths(e,m++),a)},this);this._afterShowPrevMonthChange();this._afterShowNextMonthChange();this._renderCustomRules();this._renderSelectedDates();a.setStyle("visibility","inherit")},_initCalendarPane:function(a,
d){var e=this.get("strings.very_short_weekdays")||"Su Mo Tu We Th Fr Sa".split(" "),m=f.Intl.get("datatype-date-format").A,k=this.get("strings.first_weekday")||0,H=this._getCutoffColumn(a,k),p=y.daysInMonth(a),h="     ".split(" "),l={},q,n,s;l.weekday_row="";for(q=k;q<=k+6;q++)l.weekday_row+=C(b.WEEKDAY_TEMPLATE,{short_weekdayname:e[q%7],weekdayname:m[q%7]});l.weekday_row_template=C(b.WEEKDAY_ROW_TEMPLATE,l);for(e=0;5>=e;e++)for(m=0;12>=m;m++){k=7*e-5+m;q=d+"_"+m+"_"+k;n=w;1>k?n=P:k>p&&(n=t);if(1>
k||k>p)k="&nbsp;";s=m>=H&&m<H+7?"":D;h[e]+=C(b.CALDAY_TEMPLATE,{day_content:k,calendar_col_class:"calendar_col"+m,calendar_col_visibility_class:s,calendar_day_class:n,calendar_day_id:q})}l.body_template="";I(h,function(a){l.body_template+=C(b.CALDAY_ROW_TEMPLATE,{calday_row:a})});l.calendar_pane_id=d;l.calendar_pane_tabindex=this.get("tabIndex");l.pane_arialabel=y.format(a,{format:"%B %Y"});h=C(C(b.CALENDAR_GRID_TEMPLATE,l),b.CALENDAR_STRINGS);this._paneProperties[d]={cutoffCol:H,daysInMonth:p,paneDate:a};
return h},_rerenderCalendarPane:function(a,b){var d=this.get("strings.first_weekday")||0,d=this._getCutoffColumn(a,d),f=y.daysInMonth(a),e=b.get("id"),m,k;b.setStyle("visibility","hidden");b.setAttribute("aria-label",y.format(a,{format:"%B %Y"}));for(m=0;12>=m;m++)if(k=b.all(".calendar_col"+m),k.removeClass(D),m<d||m>=d+7)k.addClass(D);else switch(m){case 0:k=b.one("#"+e+"_0_30");30<=f?(k.set("text","30"),k.removeClass(t).addClass(w)):(k.setContent("&nbsp;"),k.removeClass(w).addClass(t));break;case 1:k=
b.one("#"+e+"_1_31");31<=f?(k.set("text","31"),k.removeClass(t).addClass(w)):(k.setContent("&nbsp;"),k.removeClass(w).addClass(t));break;case 6:k=b.one("#"+e+"_6_29");29<=f?(k.set("text","29"),k.removeClass(t).addClass(w)):(k.setContent("&nbsp;"),k.removeClass(w).addClass(t));break;case 7:k=b.one("#"+e+"_7_30");30<=f?(k.set("text","30"),k.removeClass(t).addClass(w)):(k.setContent("&nbsp;"),k.removeClass(w).addClass(t));break;case 8:k=b.one("#"+e+"_8_31"),31<=f?(k.set("text","31"),k.removeClass(t).addClass(w)):
(k.setContent("&nbsp;"),k.removeClass(w).addClass(t))}this._paneProperties[e].cutoffCol=d;this._paneProperties[e].daysInMonth=f;this._paneProperties[e].paneDate=a;b.setStyle("visibility","inherit")},_updateCalendarHeader:function(a){var b="",d=this.get("headerRenderer");f.Lang.isString(d)?b=y.format(a,{format:d}):d instanceof Function&&(b=d.call(this,a));return b},_initCalendarHeader:function(a){return C(C(b.HEADER_TEMPLATE,{calheader:this._updateCalendarHeader(a),calendar_id:this._calendarId}),b.CALENDAR_STRINGS)},
_initCalendarHTML:function(a){var d={},e=0,m,k;d.header_template=this._initCalendarHeader(a);d.calendar_id=this._calendarId;d.body_template=C(C(b.CONTENT_TEMPLATE,d),b.CALENDAR_STRINGS);k=d.body_template.replace(/\{calendar_grid_template\}/g,f.bind(function(){m=this._initCalendarPane(y.addMonths(a,e),d.calendar_id+"_pane_"+e);e++;return m},this));this._paneNumber=e;return k}},{CALENDAR_STRINGS:{calendar_grid_class:d,calendar_body_class:x,calendar_hd_class:n,calendar_hd_label_class:v,calendar_weekdayrow_class:l,
calendar_weekday_class:q,calendar_row_class:H,calendar_day_class:w,calendar_dayanchor_class:B,calendar_pane_class:Q,calendar_right_grid_class:u,calendar_left_grid_class:e,calendar_status_class:a},CONTENT_TEMPLATE:'<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1">{calendar_grid_template}</div></div>',ONE_PANE_TEMPLATE:'<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1">{calendar_grid_template}</div></div>',
TWO_PANE_TEMPLATE:'<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1-2"><div class = "{calendar_left_grid_class}">{calendar_grid_template}</div></div><div class="yui3-u-1-2"><div class = "{calendar_right_grid_class}">{calendar_grid_template}</div></div></div>',THREE_PANE_TEMPLATE:'<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1-3"><div class="{calendar_left_grid_class}">{calendar_grid_template}</div></div><div class="yui3-u-1-3">{calendar_grid_template}</div><div class="yui3-u-1-3"><div class="{calendar_right_grid_class}">{calendar_grid_template}</div></div></div>',
CALENDAR_GRID_TEMPLATE:'<table class="{calendar_grid_class}" id="{calendar_pane_id}" role="grid" aria-readonly="true" aria-label="{pane_arialabel}" tabindex="{calendar_pane_tabindex}"><thead>{weekday_row_template}</thead><tbody>{body_template}</tbody></table>',HEADER_TEMPLATE:'<div class="yui3-g {calendar_hd_class}"><div class="yui3-u {calendar_hd_label_class}" id="{calendar_id}_header" aria-role="heading">{calheader}</div></div>',WEEKDAY_ROW_TEMPLATE:'<tr class="{calendar_weekdayrow_class}" role="row">{weekday_row}</tr>',
CALDAY_ROW_TEMPLATE:'<tr class="{calendar_row_class}" role="row">{calday_row}</tr>',WEEKDAY_TEMPLATE:'<th class="{calendar_weekday_class}" role="columnheader" aria-label="{weekdayname}">{short_weekdayname}</th>',CALDAY_TEMPLATE:'<td class="{calendar_col_class} {calendar_day_class} {calendar_col_visibility_class}" id="{calendar_day_id}" role="gridcell" tabindex="-1">{day_content}</td>',NAME:"calendarBase",ATTRS:{tabIndex:{value:1},date:{value:new Date,setter:function(a){a=this._normalizeDate(a);return y.areEqual(a,
this.get("date"))?this.get("date"):a}},showPrevMonth:{value:!1},showNextMonth:{value:!1},strings:{valueFn:function(){return f.Intl.get("calendar-base")}},headerRenderer:{value:"%B %Y"},enabledDatesRule:{value:null},disabledDatesRule:{value:null},selectedDates:{readOnly:!0,getter:function(){return this._getSelectedDatesList()}},customRenderer:{lazyAdd:!1,value:{},setter:function(a){this._rules=a.rules;this._filterFunction=a.filterFunction}}}})},"3.17.2",{requires:["widget","datatype-date","datatype-date-math",
"cssgrids"],lang:"de en es es-AR fr hu it ja nb-NO nl pt-BR ru zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-HANT-TW".split(" "),skinnable:!0})},1332:function(x,B){YUI.add("calendar",function(f,s){function b(){b.superclass.constructor.apply(this,arguments)}var a=f.ClassNameManager.getClassName,d=a("calendar","day-selected"),e=a("calendar","day-highlighted"),u=a("calendar","day"),x=a("calendar","prevmonth-day"),n=a("calendar","nextmonth-day"),v=a("calendar","grid"),l=f.DataType.Date,q=a("calendar","pane"),
D=f.UA.os;f.Calendar=f.extend(b,f.CalendarBase,{_keyEvents:[],_highlightedDateNode:null,_lastSelectedDate:null,initializer:function(){this.plug(f.Plugin.CalendarNavigator);this._keyEvents=[];this._lastSelectedDate=this._highlightedDateNode=null},_bindCalendarEvents:function(){var a=this.get("contentBox").one("."+q);a.on("selectstart",this._preventSelectionStart);a.delegate("click",this._clickCalendar,"."+u+", ."+x+", ."+n,this);a.delegate("keydown",this._keydownCalendar,"."+v,this);a.delegate("focus",
this._focusCalendarGrid,"."+v,this);a.delegate("focus",this._focusCalendarCell,"."+u,this);a.delegate("blur",this._blurCalendarGrid,"."+v+",."+u,this);this.after(["minimumDateChange","maximumDateChange"],this._afterCustomRendererChange)},_preventSelectionStart:function(a){a.preventDefault()},_highlightDateNode:function(a){this._unhighlightCurrentDateNode();a=this._dateToNode(a);a.focus();a.addClass(e)},_unhighlightCurrentDateNode:function(){var a=this.get("contentBox").all("."+e);a&&a.removeClass(e)},
_getGridNumber:function(a){a=a.get("id").split("_").reverse();return parseInt(a[0],10)},_blurCalendarGrid:function(){this._unhighlightCurrentDateNode()},_focusCalendarCell:function(a){this._highlightedDateNode=a.target;a.stopPropagation()},_focusCalendarGrid:function(){this._unhighlightCurrentDateNode();this._highlightedDateNode=null},_keydownCalendar:function(a){var b=this._getGridNumber(a.target),e=!this._highlightedDateNode?null:this._nodeToDate(this._highlightedDateNode),f=a.keyCode,q=0,n;switch(f){case 40:q=
7;break;case 38:q=-7;break;case 37:q=-1;break;case 39:q=1;break;case 32:case 13:if(a.preventDefault(),this._highlightedDateNode)if(n=this.get("selectionMode"),"single"===n&&!this._highlightedDateNode.hasClass(d))this._clearSelection(!0),this._addDateToSelection(e);else if("multiple"===n||"multiple-sticky"===n)this._highlightedDateNode.hasClass(d)?this._removeDateFromSelection(e):this._addDateToSelection(e)}if(40===f||38===f||37===f||39===f)e||(e=l.addMonths(this.get("date"),b),q=0),a.preventDefault(),
a=l.addDays(e,q),b=this.get("date"),e=l.addMonths(this.get("date"),this._paneNumber-1),f=new Date(e),e.setDate(l.daysInMonth(e)),l.isInRange(a,b,e)?this._highlightDateNode(a):l.isGreater(b,a)?l.isGreaterOrEqual(this.get("minimumDate"),b)||(this.set("date",l.addMonths(b,-1)),this._highlightDateNode(a)):l.isGreater(a,e)&&!l.isGreaterOrEqual(f,this.get("maximumDate"))&&(this.set("date",l.addMonths(b,1)),this._highlightDateNode(a))},_clickCalendar:function(a){var b=a.currentTarget,e=b.hasClass(u)&&!b.hasClass(x)&&
!b.hasClass(n),f=b.hasClass(d);switch(this.get("selectionMode")){case "single":e&&!f&&(this._clearSelection(!0),this._addDateToSelection(this._nodeToDate(b)));break;case "multiple-sticky":e&&(f?this._removeDateFromSelection(this._nodeToDate(b)):this._addDateToSelection(this._nodeToDate(b)));break;case "multiple":e&&(!a.metaKey&&!a.ctrlKey&&!a.shiftKey?(this._clearSelection(!0),this._lastSelectedDate=this._nodeToDate(b),this._addDateToSelection(this._lastSelectedDate)):("macintosh"===D&&a.metaKey||
"macintosh"!==D&&a.ctrlKey)&&!a.shiftKey?f?(this._removeDateFromSelection(this._nodeToDate(b)),this._lastSelectedDate=null):(this._lastSelectedDate=this._nodeToDate(b),this._addDateToSelection(this._lastSelectedDate)):("macintosh"===D&&a.metaKey||"macintosh"!==D&&a.ctrlKey)&&a.shiftKey?this._lastSelectedDate?(a=this._nodeToDate(b),this._addDateRangeToSelection(a,this._lastSelectedDate),this._lastSelectedDate=a):(this._lastSelectedDate=this._nodeToDate(b),this._addDateToSelection(this._lastSelectedDate)):
a.shiftKey&&(this._lastSelectedDate?(a=this._nodeToDate(b),this._clearSelection(!0),this._addDateRangeToSelection(a,this._lastSelectedDate),this._lastSelectedDate=a):(this._clearSelection(!0),this._lastSelectedDate=this._nodeToDate(b),this._addDateToSelection(this._lastSelectedDate))))}e?this.fire("dateClick",{cell:b,date:this._nodeToDate(b)}):b.hasClass(x)?this.fire("prevMonthClick"):b.hasClass(n)&&this.fire("nextMonthClick")},_canBeSelected:function(a){var d=this.get("minimumDate"),e=this.get("maximumDate");
return d&&!l.isGreaterOrEqual(a,d)||e&&l.isGreater(a,e)?!1:b.superclass._canBeSelected.call(this,a)},_renderCustomRules:function(){b.superclass._renderCustomRules.call(this);var a=this.get("minimumDate"),d=this.get("maximumDate"),e=[],f,q;if(a||d){for(q=0;q<this._paneNumber;q++)f=l.addMonths(this.get("date"),q),e=e.concat(l.listOfDatesInMonth(f));if(a){f=0;for(q=e.length;f<q&&!l.isGreaterOrEqual(e[f],a);f++)this._disableDate(e[f])}if(d)for(f=e.length-1;0<=f;f--)if(l.isGreater(e[f],d))this._disableDate(e[f]);
else break}},subtractMonth:function(a){this.set("date",l.addMonths(this.get("date"),-1));a&&a.halt();return this},subtractYear:function(a){this.set("date",l.addYears(this.get("date"),-1));a&&a.halt();return this},addMonth:function(a){this.set("date",l.addMonths(this.get("date"),1));a&&a.halt();return this},addYear:function(a){this.set("date",l.addYears(this.get("date"),1));a&&a.halt();return this}},{NAME:"calendar",ATTRS:{selectionMode:{value:"single"},date:{value:new Date,lazyAdd:!1,setter:function(a){a=
this._normalizeDate(a);var b=l.addMonths(a,this._paneNumber-1),d=this.get("minimumDate"),e=this.get("maximumDate");if((!d||l.isGreaterOrEqual(a,d))&&(!e||l.isGreaterOrEqual(e,b)))return a;if(d&&l.isGreater(d,a))return this._normalizeDate(d);if(e&&l.isGreater(b,e))return l.addMonths(this._normalizeDate(e),1-this._paneNumber)}},minimumDate:{value:null,setter:function(a){if(f.Lang.isDate(a)){var b=this.get("date"),d=this._normalizeTime(a);b&&!l.isGreaterOrEqual(b,d)&&this.set("date",a);return d}return null}},
maximumDate:{value:null,setter:function(a){if(f.Lang.isDate(a)){var b=this.get("date");b&&!l.isGreaterOrEqual(a,l.addMonths(b,this._paneNumber-1))&&this.set("date",l.addMonths(this._normalizeDate(a),1-this._paneNumber));return this._normalizeTime(a)}return null}}}})},"3.17.2",{requires:["calendar-base","calendarnavigator"],skinnable:!0})},1333:function(x,B){YUI.add("calendarnavigator",function(f,s){function b(){b.superclass.constructor.apply(this,arguments)}var a=f.ClassNameManager.getClassName,d=
f.Lang.sub,e=f.Node.create,u=a("calendar","header"),x=a("calendarnav","prevmonth"),n=a("calendarnav","nextmonth"),v=a("calendarnav","month-disabled"),l=f.DataType.Date;b.NS="navigator";b.NAME="pluginCalendarNavigator";b.ATTRS={shiftByMonths:{value:1}};b.CALENDARNAV_STRINGS={prev_month_class:x,next_month_class:n};b.PREV_MONTH_CONTROL_TEMPLATE='<a class="yui3-u {prev_month_class}" role="button" aria-label="{prev_month_arialabel}" tabindex="{control_tabindex}" />';b.NEXT_MONTH_CONTROL_TEMPLATE='<a class="yui3-u {next_month_class}" role="button" aria-label="{next_month_arialabel}" tabindex="{control_tabindex}" />';
f.extend(b,f.Plugin.Base,{_eventAttachments:{},_controls:{},initializer:function(){this._controls={};this._eventAttachments={};this.afterHostMethod("renderUI",this._initNavigationControls)},destructor:function(){},_focusNavigation:function(a){a.currentTarget.focus()},_subtractMonths:function(a){if("click"===a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode)){var b=this.get("host"),d=b.get("date");b.set("date",l.addMonths(d,-1*this.get("shiftByMonths")));a.preventDefault()}},_addMonths:function(a){if("click"===
a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode)){var b=this.get("host"),d=b.get("date");b.set("date",l.addMonths(d,this.get("shiftByMonths")));a.preventDefault()}},_updateControlState:function(){var a=this.get("host"),b=a.get("date"),d=l.addMonths(b,a._paneNumber-1),e=a._normalizeDate(a.get("minimumDate")),a=a._normalizeDate(a.get("maximumDate"));l.areEqual(e,b)?(this._eventAttachments.prevMonth&&(this._eventAttachments.prevMonth.detach(),this._eventAttachments.prevMonth=!1),this._controls.prevMonth.hasClass(v)||
this._controls.prevMonth.addClass(v).setAttribute("aria-disabled","true")):(this._eventAttachments.prevMonth||(this._eventAttachments.prevMonth=this._controls.prevMonth.on(["click","keydown"],this._subtractMonths,this)),this._controls.prevMonth.hasClass(v)&&this._controls.prevMonth.removeClass(v).setAttribute("aria-disabled","false"));l.areEqual(a,d)?(this._eventAttachments.nextMonth&&(this._eventAttachments.nextMonth.detach(),this._eventAttachments.nextMonth=!1),this._controls.nextMonth.hasClass(v)||
this._controls.nextMonth.addClass(v).setAttribute("aria-disabled","true")):(this._eventAttachments.nextMonth||(this._eventAttachments.nextMonth=this._controls.nextMonth.on(["click","keydown"],this._addMonths,this)),this._controls.nextMonth.hasClass(v)&&this._controls.nextMonth.removeClass(v).setAttribute("aria-disabled","false"));this._controls.prevMonth.on(["click","keydown"],this._focusNavigation,this);this._controls.nextMonth.on(["click","keydown"],this._focusNavigation,this)},_renderPrevControls:function(){var a=
e(d(b.PREV_MONTH_CONTROL_TEMPLATE,b.CALENDARNAV_STRINGS));a.on("selectstart",this.get("host")._preventSelectionStart);return a},_renderNextControls:function(){var a=e(d(b.NEXT_MONTH_CONTROL_TEMPLATE,b.CALENDARNAV_STRINGS));a.on("selectstart",this.get("host")._preventSelectionStart);return a},_initNavigationControls:function(){var a=this.get("host"),d=a.get("contentBox").one("."+u);b.CALENDARNAV_STRINGS.control_tabindex=a.get("tabIndex");b.CALENDARNAV_STRINGS.prev_month_arialabel="Go to previous month";
b.CALENDARNAV_STRINGS.next_month_arialabel="Go to next month";this._controls.prevMonth=this._renderPrevControls();this._controls.nextMonth=this._renderNextControls();this._updateControlState();a.after(["dateChange","minimumDateChange","maximumDateChange"],this._updateControlState,this);d.prepend(this._controls.prevMonth);d.append(this._controls.nextMonth)}});f.namespace("Plugin").CalendarNavigator=b},"3.17.2",{requires:["plugin","classnamemanager","datatype-date","node"],skinnable:!0})},1642:function(x,
B){YUI.add("squarespace-calendar-block-renderer",function(f){f.namespace("Squarespace");f.Squarespace.CalendarBlockRenderer={};f.Squarespace.CalendarBlockRenderer.renderCalendar=function(b,a,d){if(!f.Lang.isString(a))if(f.Object.hasKey(a,"collectionId"))if(null!==a.collectionId)a=a.collectionId;else{b.empty().setHTML('<div class="sqs-state-message">Please choose a collection for this calendar to display.</div>');return}else a=f.instanceOf(a,f.Squarespace.Models.ContentCollection)?a.get("id"):CONFIG_PANEL.getPreviewFrameCollection().get("id");
a={date:new Date,collectionId:a};f.Lang.isValue(d)&&f.merge(a,{pageCollectionId:d});d=new f.Squarespace.SquarespaceCalendar(a);d.plug(f.Squarespace.SquarespaceCalendarRenderer);d.render(b);return d};var s;f.config.win.Squarespace.onInitialize(f,function(){s=[];var b=f.all(".sqs-block.calendar-block[data-block-json]");b.size()&&b.each(function(a){var b=a.one(".sqs-block-content");a=f.JSON.parse(a.getAttribute("data-block-json"));s.push(f.Squarespace.CalendarBlockRenderer.renderCalendar(b,a))},this)});
f.config.win.Squarespace.onDestroy(f,function(){s.forEach(function(b){b.destroy()});s=null})},"1.0",{requires:["squarespace-calendar-core-renderer"]})}});
